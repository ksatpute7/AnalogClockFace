window.PearsonGL=window.PearsonGL||{};window.PearsonGL.globals=window.PearsonGL.globals||{};PearsonGL.globals.commType="psoc";(function(){"use strict";var e=typeof window!=="undefined"?window:global;if(typeof e.require==="function")return;var t={};var n={};var r=function(e,t){return{}.hasOwnProperty.call(e,t)};var i=function(e,t){var n=[],r,i;if(/^\.\.?(\/|$)/.test(t)){r=[e,t].join("/").split("/")}else{r=t.split("/")}for(var s=0,o=r.length;s<o;s++){i=r[s];if(i===".."){n.pop()}else if(i!=="."&&i!==""){n.push(i)}}return n.join("/")};var s=function(e){return e.split("/").slice(0,-1).join("/")};var o=function(t){return function(n){var r=s(t);var o=i(r,n);return e.require(o,t)}};var u=function(e,t){var r={id:e,exports:{}};n[e]=r;t(r.exports,o(e),r);return r.exports};var a=function(e,s){var o=i(e,".");if(s==null)s="/";if(r(n,o))return n[o].exports;if(r(t,o))return u(o,t[o]);var a=i(o,"./index");if(r(n,a))return n[a].exports;if(r(t,a))return u(a,t[a]);throw new Error('Cannot find module "'+e+'" from '+'"'+s+'"')};var f=function(e,n){if(typeof e==="object"){for(var i in e){if(r(e,i)){t[i]=e[i]}}}else{t[e]=n}};var l=function(){var e=[];for(var n in t){if(r(t,n)){e.push(n)}}return e};e.require=a;e.require.define=f;e.require.register=f;e.require.list=l;e.require.brunch=true})();(function(){var e=this;var t=e._;var n=Array.prototype,r=Object.prototype,i=Function.prototype;var s=n.push,o=n.slice,u=n.concat,a=r.toString,f=r.hasOwnProperty;var l=Array.isArray,c=Object.keys,h=i.bind;var p=function(e){if(e instanceof p)return e;if(!(this instanceof p))return new p(e);this._wrapped=e};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=p}exports._=p}else{e._=p}p.VERSION="1.7.0";var d=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}};p.iteratee=function(e,t,n){if(e==null)return p.identity;if(p.isFunction(e))return d(e,t,n);if(p.isObject(e))return p.matches(e);return p.property(e)};p.each=p.forEach=function(e,t,n){if(e==null)return e;t=d(t,n);var r,i=e.length;if(i===+i){for(r=0;r<i;r++){t(e[r],r,e)}}else{var s=p.keys(e);for(r=0,i=s.length;r<i;r++){t(e[s[r]],s[r],e)}}return e};p.map=p.collect=function(e,t,n){if(e==null)return[];t=p.iteratee(t,n);var r=e.length!==+e.length&&p.keys(e),i=(r||e).length,s=Array(i),o;for(var u=0;u<i;u++){o=r?r[u]:u;s[u]=t(e[o],o,e)}return s};var v="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(e,t,n,r){if(e==null)e=[];t=d(t,r,4);var i=e.length!==+e.length&&p.keys(e),s=(i||e).length,o=0,u;if(arguments.length<3){if(!s)throw new TypeError(v);n=e[i?i[o++]:o++]}for(;o<s;o++){u=i?i[o]:o;n=t(n,e[u],u,e)}return n};p.reduceRight=p.foldr=function(e,t,n,r){if(e==null)e=[];t=d(t,r,4);var i=e.length!==+e.length&&p.keys(e),s=(i||e).length,o;if(arguments.length<3){if(!s)throw new TypeError(v);n=e[i?i[--s]:--s]}while(s--){o=i?i[s]:s;n=t(n,e[o],o,e)}return n};p.find=p.detect=function(e,t,n){var r;t=p.iteratee(t,n);p.some(e,function(e,n,i){if(t(e,n,i)){r=e;return true}});return r};p.filter=p.select=function(e,t,n){var r=[];if(e==null)return r;t=p.iteratee(t,n);p.each(e,function(e,n,i){if(t(e,n,i))r.push(e)});return r};p.reject=function(e,t,n){return p.filter(e,p.negate(p.iteratee(t)),n)};p.every=p.all=function(e,t,n){if(e==null)return true;t=p.iteratee(t,n);var r=e.length!==+e.length&&p.keys(e),i=(r||e).length,s,o;for(s=0;s<i;s++){o=r?r[s]:s;if(!t(e[o],o,e))return false}return true};p.some=p.any=function(e,t,n){if(e==null)return false;t=p.iteratee(t,n);var r=e.length!==+e.length&&p.keys(e),i=(r||e).length,s,o;for(s=0;s<i;s++){o=r?r[s]:s;if(t(e[o],o,e))return true}return false};p.contains=p.include=function(e,t){if(e==null)return false;if(e.length!==+e.length)e=p.values(e);return p.indexOf(e,t)>=0};p.invoke=function(e,t){var n=o.call(arguments,2);var r=p.isFunction(t);return p.map(e,function(e){return(r?t:e[t]).apply(e,n)})};p.pluck=function(e,t){return p.map(e,p.property(t))};p.where=function(e,t){return p.filter(e,p.matches(t))};p.findWhere=function(e,t){return p.find(e,p.matches(t))};p.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null&&e!=null){e=e.length===+e.length?e:p.values(e);for(var u=0,a=e.length;u<a;u++){s=e[u];if(s>r){r=s}}}else{t=p.iteratee(t,n);p.each(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity){r=e;i=o}})}return r};p.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null&&e!=null){e=e.length===+e.length?e:p.values(e);for(var u=0,a=e.length;u<a;u++){s=e[u];if(s<r){r=s}}}else{t=p.iteratee(t,n);p.each(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity){r=e;i=o}})}return r};p.shuffle=function(e){var t=e&&e.length===+e.length?e:p.values(e);var n=t.length;var r=Array(n);for(var i=0,s;i<n;i++){s=p.random(0,i);if(s!==i)r[i]=r[s];r[s]=t[i]}return r};p.sample=function(e,t,n){if(t==null||n){if(e.length!==+e.length)e=p.values(e);return e[p.random(e.length-1)]}return p.shuffle(e).slice(0,Math.max(0,t))};p.sortBy=function(e,t,n){t=p.iteratee(t,n);return p.pluck(p.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria;var r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var m=function(e){return function(t,n,r){var i={};n=p.iteratee(n,r);p.each(t,function(r,s){var o=n(r,s,t);e(i,r,o)});return i}};p.groupBy=m(function(e,t,n){if(p.has(e,n))e[n].push(t);else e[n]=[t]});p.indexBy=m(function(e,t,n){e[n]=t});p.countBy=m(function(e,t,n){if(p.has(e,n))e[n]++;else e[n]=1});p.sortedIndex=function(e,t,n,r){n=p.iteratee(n,r,1);var i=n(t);var s=0,o=e.length;while(s<o){var u=s+o>>>1;if(n(e[u])<i)s=u+1;else o=u}return s};p.toArray=function(e){if(!e)return[];if(p.isArray(e))return o.call(e);if(e.length===+e.length)return p.map(e,p.identity);return p.values(e)};p.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:p.keys(e).length};p.partition=function(e,t,n){t=p.iteratee(t,n);var r=[],i=[];p.each(e,function(e,n,s){(t(e,n,s)?r:i).push(e)});return[r,i]};p.first=p.head=p.take=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[0];if(t<0)return[];return o.call(e,0,t)};p.initial=function(e,t,n){return o.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))};p.last=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[e.length-1];return o.call(e,Math.max(e.length-t,0))};p.rest=p.tail=p.drop=function(e,t,n){return o.call(e,t==null||n?1:t)};p.compact=function(e){return p.filter(e,p.identity)};var g=function(e,t,n,r){if(t&&p.every(e,p.isArray)){return u.apply(r,e)}for(var i=0,o=e.length;i<o;i++){var a=e[i];if(!p.isArray(a)&&!p.isArguments(a)){if(!n)r.push(a)}else if(t){s.apply(r,a)}else{g(a,t,n,r)}}return r};p.flatten=function(e,t){return g(e,t,false,[])};p.without=function(e){return p.difference(e,o.call(arguments,1))};p.uniq=p.unique=function(e,t,n,r){if(e==null)return[];if(!p.isBoolean(t)){r=n;n=t;t=false}if(n!=null)n=p.iteratee(n,r);var i=[];var s=[];for(var o=0,u=e.length;o<u;o++){var a=e[o];if(t){if(!o||s!==a)i.push(a);s=a}else if(n){var f=n(a,o,e);if(p.indexOf(s,f)<0){s.push(f);i.push(a)}}else if(p.indexOf(i,a)<0){i.push(a)}}return i};p.union=function(){return p.uniq(g(arguments,true,true,[]))};p.intersection=function(e){if(e==null)return[];var t=[];var n=arguments.length;for(var r=0,i=e.length;r<i;r++){var s=e[r];if(p.contains(t,s))continue;for(var o=1;o<n;o++){if(!p.contains(arguments[o],s))break}if(o===n)t.push(s)}return t};p.difference=function(e){var t=g(o.call(arguments,1),true,true,[]);return p.filter(e,function(e){return!p.contains(t,e)})};p.zip=function(e){if(e==null)return[];var t=p.max(arguments,"length").length;var n=Array(t);for(var r=0;r<t;r++){n[r]=p.pluck(arguments,r)}return n};p.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++){if(t){n[e[r]]=t[r]}else{n[e[r][0]]=e[r][1]}}return n};p.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n=="number"){r=n<0?Math.max(0,i+n):n}else{r=p.sortedIndex(e,t);return e[r]===t?r:-1}}for(;r<i;r++)if(e[r]===t)return r;return-1};p.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=e.length;if(typeof n=="number"){r=n<0?r+n+1:Math.min(r,n+1)}while(--r>=0)if(e[r]===t)return r;return-1};p.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=n||1;var r=Math.max(Math.ceil((t-e)/n),0);var i=Array(r);for(var s=0;s<r;s++,e+=n){i[s]=e}return i};var y=function(){};p.bind=function(e,t){var n,r;if(h&&e.bind===h)return h.apply(e,o.call(arguments,1));if(!p.isFunction(e))throw new TypeError("Bind must be called on a function");n=o.call(arguments,2);r=function(){if(!(this instanceof r))return e.apply(t,n.concat(o.call(arguments)));y.prototype=e.prototype;var i=new y;y.prototype=null;var s=e.apply(i,n.concat(o.call(arguments)));if(p.isObject(s))return s;return i};return r};p.partial=function(e){var t=o.call(arguments,1);return function(){var n=0;var r=t.slice();for(var i=0,s=r.length;i<s;i++){if(r[i]===p)r[i]=arguments[n++]}while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}};p.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++){r=arguments[t];e[r]=p.bind(e[r],e)}return e};p.memoize=function(e,t){var n=function(r){var i=n.cache;var s=t?t.apply(this,arguments):r;if(!p.has(i,s))i[s]=e.apply(this,arguments);return i[s]};n.cache={};return n};p.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};p.defer=function(e){return p.delay.apply(p,[e,1].concat(o.call(arguments,1)))};p.throttle=function(e,t,n){var r,i,s;var o=null;var u=0;if(!n)n={};var a=function(){u=n.leading===false?0:p.now();o=null;s=e.apply(r,i);if(!o)r=i=null};return function(){var f=p.now();if(!u&&n.leading===false)u=f;var l=t-(f-u);r=this;i=arguments;if(l<=0||l>t){clearTimeout(o);o=null;u=f;s=e.apply(r,i);if(!o)r=i=null}else if(!o&&n.trailing!==false){o=setTimeout(a,l)}return s}};p.debounce=function(e,t,n){var r,i,s,o,u;var a=function(){var f=p.now()-o;if(f<t&&f>0){r=setTimeout(a,t-f)}else{r=null;if(!n){u=e.apply(s,i);if(!r)s=i=null}}};return function(){s=this;i=arguments;o=p.now();var f=n&&!r;if(!r)r=setTimeout(a,t);if(f){u=e.apply(s,i);s=i=null}return u}};p.wrap=function(e,t){return p.partial(t,e)};p.negate=function(e){return function(){return!e.apply(this,arguments)}};p.compose=function(){var e=arguments;var t=e.length-1;return function(){var n=t;var r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}};p.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};p.before=function(e,t){var n;return function(){if(--e>0){n=t.apply(this,arguments)}else{t=null}return n}};p.once=p.partial(p.before,2);p.keys=function(e){if(!p.isObject(e))return[];if(c)return c(e);var t=[];for(var n in e)if(p.has(e,n))t.push(n);return t};p.values=function(e){var t=p.keys(e);var n=t.length;var r=Array(n);for(var i=0;i<n;i++){r[i]=e[t[i]]}return r};p.pairs=function(e){var t=p.keys(e);var n=t.length;var r=Array(n);for(var i=0;i<n;i++){r[i]=[t[i],e[t[i]]]}return r};p.invert=function(e){var t={};var n=p.keys(e);for(var r=0,i=n.length;r<i;r++){t[e[n[r]]]=n[r]}return t};p.functions=p.methods=function(e){var t=[];for(var n in e){if(p.isFunction(e[n]))t.push(n)}return t.sort()};p.extend=function(e){if(!p.isObject(e))return e;var t,n;for(var r=1,i=arguments.length;r<i;r++){t=arguments[r];for(n in t){if(f.call(t,n)){e[n]=t[n]}}}return e};p.pick=function(e,t,n){var r={},i;if(e==null)return r;if(p.isFunction(t)){t=d(t,n);for(i in e){var s=e[i];if(t(s,i,e))r[i]=s}}else{var a=u.apply([],o.call(arguments,1));e=new Object(e);for(var f=0,l=a.length;f<l;f++){i=a[f];if(i in e)r[i]=e[i]}}return r};p.omit=function(e,t,n){if(p.isFunction(t)){t=p.negate(t)}else{var r=p.map(u.apply([],o.call(arguments,1)),String);t=function(e,t){return!p.contains(r,t)}}return p.pick(e,t,n)};p.defaults=function(e){if(!p.isObject(e))return e;for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r){if(e[i]===void 0)e[i]=r[i]}}return e};p.clone=function(e){if(!p.isObject(e))return e;return p.isArray(e)?e.slice():p.extend({},e)};p.tap=function(e,t){t(e);return e};var b=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;if(e instanceof p)e=e._wrapped;if(t instanceof p)t=t._wrapped;var i=a.call(e);if(i!==a.call(t))return false;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if(typeof e!="object"||typeof t!="object")return false;var s=n.length;while(s--){if(n[s]===e)return r[s]===t}var o=e.constructor,u=t.constructor;if(o!==u&&"constructor"in e&&"constructor"in t&&!(p.isFunction(o)&&o instanceof o&&p.isFunction(u)&&u instanceof u)){return false}n.push(e);r.push(t);var f,l;if(i==="[object Array]"){f=e.length;l=f===t.length;if(l){while(f--){if(!(l=b(e[f],t[f],n,r)))break}}}else{var c=p.keys(e),h;f=c.length;l=p.keys(t).length===f;if(l){while(f--){h=c[f];if(!(l=p.has(t,h)&&b(e[h],t[h],n,r)))break}}}n.pop();r.pop();return l};p.isEqual=function(e,t){return b(e,t,[],[])};p.isEmpty=function(e){if(e==null)return true;if(p.isArray(e)||p.isString(e)||p.isArguments(e))return e.length===0;for(var t in e)if(p.has(e,t))return false;return true};p.isElement=function(e){return!!(e&&e.nodeType===1)};p.isArray=l||function(e){return a.call(e)==="[object Array]"};p.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};p.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){p["is"+e]=function(t){return a.call(t)==="[object "+e+"]"}});if(!p.isArguments(arguments)){p.isArguments=function(e){return p.has(e,"callee")}}if(typeof /./!=="function"){p.isFunction=function(e){return typeof e=="function"||false}}p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};p.isNaN=function(e){return p.isNumber(e)&&e!==+e};p.isBoolean=function(e){return e===true||e===false||a.call(e)==="[object Boolean]"};p.isNull=function(e){return e===null};p.isUndefined=function(e){return e===void 0};p.has=function(e,t){return e!=null&&f.call(e,t)};p.noConflict=function(){e._=t;return this};p.identity=function(e){return e};p.constant=function(e){return function(){return e}};p.noop=function(){};p.property=function(e){return function(t){return t[e]}};p.matches=function(e){var t=p.pairs(e),n=t.length;return function(e){if(e==null)return!n;e=new Object(e);for(var r=0;r<n;r++){var i=t[r],s=i[0];if(i[1]!==e[s]||!(s in e))return false}return true}};p.times=function(e,t,n){var r=Array(Math.max(0,e));t=d(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r};p.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};p.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var E=p.invert(w);var S=function(e){var t=function(t){return e[t]};var n="(?:"+p.keys(e).join("|")+")";var r=RegExp(n);var i=RegExp(n,"g");return function(e){e=e==null?"":""+e;return r.test(e)?e.replace(i,t):e}};p.escape=S(w);p.unescape=S(E);p.result=function(e,t){if(e==null)return void 0;var n=e[t];return p.isFunction(n)?e[t]():n};var x=0;p.uniqueId=function(e){var t=++x+"";return e?e+t:t};p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/;var N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var C=/\\|'|\r|\n|\u2028|\u2029/g;var k=function(e){return"\\"+N[e]};p.template=function(e,t,n){if(!t&&n)t=n;t=p.defaults({},t,p.templateSettings);var r=RegExp([(t.escape||T).source,(t.interpolate||T).source,(t.evaluate||T).source].join("|")+"|$","g");var i=0;var s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(C,k);i=u+t.length;if(n){s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}else if(r){s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"}else if(o){s+="';\n"+o+"\n__p+='"}return t});s+="';\n";if(!t.variable)s="with(obj||{}){\n"+s+"}\n";s="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(u){u.source=s;throw u}var a=function(e){return o.call(this,e,p)};var f=t.variable||"obj";a.source="function("+f+"){\n"+s+"}";return a};p.chain=function(e){var t=p(e);t._chain=true;return t};var L=function(e){return this._chain?p(e).chain():e};p.mixin=function(e){p.each(p.functions(e),function(t){var n=p[t]=e[t];p.prototype[t]=function(){var e=[this._wrapped];s.apply(e,arguments);return L.call(this,n.apply(p,e))}})};p.mixin(p);p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];p.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e==="shift"||e==="splice")&&n.length===0)delete n[0];return L.call(this,n)}});p.each(["concat","join","slice"],function(e){var t=n[e];p.prototype[e]=function(){return L.call(this,t.apply(this._wrapped,arguments))}});p.prototype.value=function(){return this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return p})}}).call(this);(function(e,t){if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)})}else if(typeof exports!=="undefined"){var n=require("underscore");t(e,exports,n)}else{e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}})(this,function(e,t,n,r){var i=e.Backbone;var s=[];var o=s.push;var u=s.slice;var a=s.splice;t.VERSION="1.1.2";t.$=r;t.noConflict=function(){e.Backbone=i;return this};t.emulateHTTP=false;t.emulateJSON=false;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);r.push({callback:t,context:n,ctx:n||this});return this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this;var s=n.once(function(){i.off(e,s);t.apply(this,arguments)});s._callback=t;return this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r){this._events=void 0;return this}u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r){for(l=0,h=o.length;l<h;l++){s=o[l];if(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context){i.push(s)}}}if(!i.length)delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e];var r=this._events.all;if(n)h(n,t);if(r)h(r,arguments);return this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;if(!r&&typeof t==="object")r=this;if(e)(i={})[e._listenId]=e;for(var o in i){e=i[o];e.off(t,r,this);if(s||n.isEmpty(e._events))delete this._listeningTo[o]}return this}};var l=/\s+/;var c=function(e,t,n,r){if(!n)return true;if(typeof n==="object"){for(var i in n){e[t].apply(e,[i,n[i]].concat(r))}return false}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++){e[t].apply(e,[s[o]].concat(r))}return false}return true};var h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}};var p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={});var o=t._listenId||(t._listenId=n.uniqueId("l"));s[o]=t;if(!i&&typeof r==="object")i=this;t[e](r,i,this);return this}});f.bind=f.on;f.unbind=f.off;n.extend(t,f);var d=t.Model=function(e,t){var r=e||{};t||(t={});this.cid=n.uniqueId("c");this.attributes={};if(t.collection)this.collection=t.collection;if(t.parse)r=this.parse(r,t)||{};r=n.defaults({},r,n.result(this,"defaults"));this.set(r,t);this.changed={};this.initialize.apply(this,arguments)};n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;if(typeof e==="object"){s=e;r=t}else{(s={})[e]=t}r||(r={});if(!this._validate(s,r))return false;o=r.unset;a=r.silent;u=[];f=this._changing;this._changing=true;if(!f){this._previousAttributes=n.clone(this.attributes);this.changed={}}c=this.attributes,l=this._previousAttributes;if(this.idAttribute in s)this.id=s[this.idAttribute];for(i in s){t=s[i];if(!n.isEqual(c[i],t))u.push(i);if(!n.isEqual(l[i],t)){this.changed[i]=t}else{delete this.changed[i]}o?delete c[i]:c[i]=t}if(!a){if(u.length)this._pending=r;for(var h=0,p=u.length;h<p;h++){this.trigger("change:"+u[h],this,c[u[h]],r)}}if(f)return this;if(!a){while(this._pending){r=this._pending;this._pending=false;this.trigger("change",this,r)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:true}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!n.isEmpty(this.changed);return n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):false;var t,r=false;var i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{};if(e.parse===void 0)e.parse=true;var t=this;var r=e.success;e.success=function(n){if(!t.set(t.parse(n,e),e))return false;if(r)r(t,n,e);t.trigger("sync",t,n,e)};I(this,e);return this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;if(e==null||typeof e==="object"){i=e;r=t}else{(i={})[e]=t}r=n.extend({validate:true},r);if(i&&!r.wait){if(!this.set(i,r))return false}else{if(!this._validate(i,r))return false}if(i&&r.wait){this.attributes=n.extend({},u,i)}if(r.parse===void 0)r.parse=true;var a=this;var f=r.success;r.success=function(e){a.attributes=u;var t=a.parse(e,r);if(r.wait)t=n.extend(i||{},t);if(n.isObject(t)&&!a.set(t,r)){return false}if(f)f(a,e,r);a.trigger("sync",a,e,r)};I(this,r);s=this.isNew()?"create":r.patch?"patch":"update";if(s==="patch")r.attrs=i;o=this.sync(s,this,r);if(i&&r.wait)this.attributes=u;return o},destroy:function(e){e=e?n.clone(e):{};var t=this;var r=e.success;var i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){if(e.wait||t.isNew())i();if(r)r(t,n,e);if(!t.isNew())t.trigger("sync",t,n,e)};if(this.isNew()){e.success();return false}I(this,e);var s=this.sync("delete",this,e);if(!e.wait)i();return s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return e;return e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;if(!r)return true;this.trigger("invalid",this,r,n.extend(t,{validationError:r}));return false}});var v=["keys","values","pairs","invert","pick","omit"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);t.unshift(this.attributes);return n[e].apply(n,t)}});var m=t.Collection=function(e,t){t||(t={});if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,n.extend({silent:true},t))};var g={add:true,remove:true,merge:true};var y={add:true,remove:false};n.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:false},t,y))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e);t||(t={});var i,s,o,u;for(i=0,s=e.length;i<s;i++){u=e[i]=this.get(e[i]);if(!u)continue;delete this._byId[u.id];delete this._byId[u.cid];o=this.indexOf(u);this.models.splice(o,1);this.length--;if(!t.silent){t.index=o;u.trigger("remove",u,this,t)}this._removeReference(u,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g);if(t.parse)e=this.parse(e,t);var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,s,o,u,a,f,l;var c=t.at;var h=this.model;var p=this.comparator&&c==null&&t.sort!==false;var v=n.isString(this.comparator)?this.comparator:null;var m=[],y=[],b={};var w=t.add,E=t.merge,S=t.remove;var x=!p&&w&&S?[]:false;for(i=0,s=e.length;i<s;i++){a=e[i]||{};if(a instanceof d){o=u=a}else{o=a[h.prototype.idAttribute||"id"]}if(f=this.get(o)){if(S)b[f.cid]=true;if(E){a=a===u?u.attributes:a;if(t.parse)a=f.parse(a,t);f.set(a,t);if(p&&!l&&f.hasChanged(v))l=true}e[i]=f}else if(w){u=e[i]=this._prepareModel(a,t);if(!u)continue;m.push(u);this._addReference(u,t)}u=f||u;if(x&&(u.isNew()||!b[u.id]))x.push(u);b[u.id]=true}if(S){for(i=0,s=this.length;i<s;++i){if(!b[(u=this.models[i]).cid])y.push(u)}if(y.length)this.remove(y,t)}if(m.length||x&&x.length){if(p)l=true;this.length+=m.length;if(c!=null){for(i=0,s=m.length;i<s;i++){this.models.splice(c+i,0,m[i])}}else{if(x)this.models.length=0;var T=x||m;for(i=0,s=T.length;i<s;i++){this.models.push(T[i])}}}if(l)this.sort({silent:true});if(!t.silent){for(i=0,s=m.length;i<s;i++){(u=m[i]).trigger("add",u,this,t)}if(l||x&&x.length)this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++){this._removeReference(this.models[r],t)}t.previousModels=this.models;this._reset();e=this.add(e,n.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);this.remove(t,e);return t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);this.remove(t,e);return t},slice:function(){return u.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){if(n.isEmpty(e))return t?void 0:[];return this[t?"find":"filter"](function(t){for(var n in e){if(e[n]!==t.get(n))return false}return true})},findWhere:function(e){return this.where(e,true)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");e||(e={});if(n.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(n.bind(this.comparator,this))}if(!e.silent)this.trigger("sort",this,e);return this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{};if(e.parse===void 0)e.parse=true;var t=e.success;var r=this;e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e);if(t)t(r,n,e);r.trigger("sync",r,n,e)};I(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return false;if(!t.wait)this.add(e,t);var r=this;var i=t.success;t.success=function(e,n){if(t.wait)r.add(e,t);if(i)i(e,n,t)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{};t.collection=this;var r=new this.model(e,t);if(!r.validationError)return r;this.trigger("invalid",this,r.validationError,t);return false},_addReference:function(e,t){this._byId[e.cid]=e;if(e.id!=null)this._byId[e.id]=e;if(!e.collection)e.collection=this;e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;if(e==="destroy")this.remove(t,r);if(t&&e==="change:"+t.idAttribute){delete this._byId[t.previous(t.idAttribute)];if(t.id!=null)this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(b,function(e){m.prototype[e]=function(){var t=u.call(arguments);t.unshift(this.models);return n[e].apply(n,t)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(e){m.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var E=t.View=function(e){this.cid=n.uniqueId("view");e||(e={});n.extend(this,n.pick(e,x));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var S=/^(\S+)\s*(.*)$/;var x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(e,n){if(this.$el)this.undelegateEvents();this.$el=e instanceof t.$?e:t.$(e);this.el=this.$el[0];if(n!==false)this.delegateEvents();return this},delegateEvents:function(e){if(!(e||(e=n.result(this,"events"))))return this;this.undelegateEvents();for(var t in e){var r=e[t];if(!n.isFunction(r))r=this[e[t]];if(!r)continue;var i=t.match(S);var s=i[1],o=i[2];r=n.bind(r,this);s+=".delegateEvents"+this.cid;if(o===""){this.$el.on(s,r)}else{this.$el.on(s,o,r)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));if(this.id)e.id=n.result(this,"id");if(this.className)e["class"]=n.result(this,"className");var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,false)}else{this.setElement(n.result(this,"el"),false)}}});t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(!i.url){o.url=n.result(r,"url")||F()}if(i.data==null&&r&&(e==="create"||e==="update"||e==="patch")){o.contentType="application/json";o.data=JSON.stringify(i.attrs||r.toJSON(i))}if(i.emulateJSON){o.contentType="application/x-www-form-urlencoded";o.data=o.data?{model:o.data}:{}}if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST";if(i.emulateJSON)o.data._method=s;var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}if(o.type!=="GET"&&!i.emulateJSON){o.processData=false}if(o.type==="PATCH"&&T){o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var a=i.xhr=t.ajax(n.extend(o,i));r.trigger("request",r,a,i);return a};var T=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var k=/\((.*?)\)/g;var L=/(\(\?)?:\w+/g;var A=/\*\w+/g;var O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){if(!n.isRegExp(e))e=this._routeToRegExp(e);if(n.isFunction(r)){i=r;r=""}if(!i)i=this[r];var s=this;t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o);s.trigger.apply(s,["route:"+r].concat(o));s.trigger("route",r,o);t.history.trigger("route",s,r,o)});return this},execute:function(e,t){if(e)e.apply(this,t)},navigate:function(e,n){t.history.navigate(e,n);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)");return new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){if(t===r.length-1)return e||null;return e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[];n.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var _=/^[#\/]|\s+$/g;var D=/^\/+|\/+$/g;var P=/msie [\w.]+/;var H=/\/$/;var B=/#.*$/;M.started=false;n.extend(M.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null){if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(H,"");if(!e.indexOf(n))e=e.slice(n.length)}else{e=this.getHash()}}return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=true;this.options=n.extend({root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment();var i=document.documentMode;var s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/");if(s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow;this.navigate(r)}if(this._hasPushState){t.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!s){t.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=r;var u=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){this.fragment=this.getFragment(null,true);this.location.replace(this.root+"#"+this.fragment);return true}else if(this._hasPushState&&this.atRoot()&&u.hash){this.fragment=this.getHash().replace(_,"");this.history.replaceState({},document.title,this.root+this.fragment)}}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);M.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getFragment(this.getHash(this.iframe))}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()},loadUrl:function(e){e=this.fragment=this.getFragment(e);return n.any(this.handlers,function(t){if(t.route.test(e)){t.callback(e);return true}})},navigate:function(e,t){if(!M.started)return false;if(!t||t===true)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e;if(e===""&&n!=="/")n=n.slice(0,-1);if(this._hasPushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,n)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getFragment(this.getHash(this.iframe))){if(!t.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,e,t.replace)}}else{return this.location.assign(n)}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else{e.hash="#"+t}}});t.history=new M;var j=function(e,t){var r=this;var i;if(e&&n.has(e,"constructor")){i=e.constructor}else{i=function(){return r.apply(this,arguments)}}n.extend(i,r,t);var s=function(){this.constructor=i};s.prototype=r.prototype;i.prototype=new s;if(e)n.extend(i.prototype,e);i.__super__=r.prototype;return i};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')};var I=function(e,t){var n=t.error;t.error=function(r){if(n)n(e,r,t);e.trigger("error",e,r,t)}};return t});(function(){var e={backbone:window.Backbone,underscore:window._};for(var t in e){(function(t){var n={};n[t]=function(n,r,i){i.exports=e[t]};try{require(item)}catch(r){require.define(n)}})(t)}})();require.define({"chaplin/application":function(e,t,n){"use strict";var r,i,s,o,u,a,f,l,c;c=t("underscore");i=t("backbone");l=t("chaplin/mediator");o=t("chaplin/dispatcher");a=t("chaplin/views/layout");s=t("chaplin/composer");f=t("chaplin/lib/router");u=t("chaplin/lib/event_broker");n.exports=r=function(){function e(){}e.extend=i.Model.extend;c.extend(e.prototype,u);e.prototype.title="";e.prototype.dispatcher=null;e.prototype.layout=null;e.prototype.router=null;e.prototype.composer=null;e.prototype.initialize=function(){};e.prototype.initDispatcher=function(e){return this.dispatcher=new o(e)};e.prototype.initLayout=function(e){var t;if(e==null){e={}}if((t=e.title)==null){e.title=this.title}return this.layout=new a(e)};e.prototype.initComposer=function(e){if(e==null){e={}}return this.composer=new s(e)};e.prototype.initRouter=function(e,t){this.router=new f(t);return typeof e==="function"?e(this.router.match):void 0};e.prototype.startRouting=function(){return this.router.startHistory()};e.prototype.disposed=false;e.prototype.dispose=function(){var e,t,n,r;if(this.disposed){return}t=["dispatcher","layout","router","composer"];for(n=0,r=t.length;n<r;n++){e=t[n];if(!(this[e]!=null)){continue}this[e].dispose();delete this[e]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}()}});require.define({"chaplin/mediator":function(e,t,n){"use strict";var r,i,s,o;r=t("backbone");s=t("chaplin/lib/support");o=t("chaplin/lib/utils");i={};i.subscribe=r.Events.on;i.unsubscribe=r.Events.off;i.publish=r.Events.trigger;i._callbacks=null;o.readonly(i,"subscribe","unsubscribe","publish");i.seal=function(){if(s.propertyDescriptors&&Object.seal){return Object.seal(i)}};o.readonly(i,"seal");n.exports=i}});require.define({"chaplin/dispatcher":function(e,t,n){"use strict";var r,i,s,o,u;u=t("underscore");r=t("backbone");o=t("chaplin/lib/utils");s=t("chaplin/lib/event_broker");n.exports=i=function(){function e(){this.initialize.apply(this,arguments)}e.extend=r.Model.extend;u.extend(e.prototype,s);e.prototype.previousRoute=null;e.prototype.currentController=null;e.prototype.currentRoute=null;e.prototype.currentParams=null;e.prototype.initialize=function(e){if(e==null){e={}}this.settings=u.defaults(e,{controllerPath:"controllers/",controllerSuffix:"_controller"});return this.subscribeEvent("router:match",this.dispatch)};e.prototype.dispatch=function(e,t,n){var r,i,s=this;t=t?u.clone(t):{};n=n?u.clone(n):{};if(n.changeURL!==false){n.changeURL=true}if(n.forceStartup!==true){n.forceStartup=false}if(!n.forceStartup&&((r=this.currentRoute)!=null?r.controller:void 0)===e.controller&&((i=this.currentRoute)!=null?i.action:void 0)===e.action&&u.isEqual(this.currentParams,t)){return}return this.loadController(e.controller,function(r){return s.controllerLoaded(e,t,n,r)})};e.prototype.loadController=function(e,n){var r,i;r=e+this.settings.controllerSuffix;i=this.settings.controllerPath+r;if(typeof define!=="undefined"&&define!==null?define.amd:void 0){return t([i],n)}else{return n(t(i))}};e.prototype.controllerLoaded=function(e,t,n,r){var i;this.previousRoute=this.currentRoute;this.currentRoute=u.extend({},e,{previous:o.beget(this.previousRoute)});i=new r(t,this.currentRoute,n);return this.executeBeforeAction(i,this.currentRoute,t,n)};e.prototype.executeAction=function(e,t,n,r){if(this.currentController){this.publishEvent("beforeControllerDispose",this.currentController);this.currentController.dispose(n,t,r)}e[t.action](n,t,r);this.currentController=e;this.currentParams=n;if(e.redirected){return}this.adjustURL(t,n,r);return this.publishEvent("dispatcher:dispatch",this.currentController,n,t,r)};e.prototype.executeBeforeAction=function(e,t,n,r){var i,s,o,u=this;i=e.beforeAction;s=function(){if(e.redirected||u.currentRoute&&t!==u.currentRoute){e.dispose();return}return u.executeAction(e,t,n,r)};if(!i){s();return}if(typeof i!=="function"){throw new TypeError("Controller#beforeAction: function expected. "+"Old object-like form is not supported.")}o=e.beforeAction(n,t,r);if(o&&o.then){return o.then(s)}else{return s()}};e.prototype.adjustURL=function(e,t,n){var r;if(e.path==null){return}r=e.path+(e.query?"?"+e.query:"");if(n.changeURL){return this.publishEvent("!router:changeURL",r,n)}};e.prototype.disposed=false;e.prototype.dispose=function(){if(this.disposed){return}this.unsubscribeAllEvents();this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}()}});require.define({"chaplin/composer":function(e,t,n){"use strict";var r,i,s,o,u,a;a=t("underscore");r=t("backbone");u=t("chaplin/lib/utils");s=t("chaplin/lib/composition");o=t("chaplin/lib/event_broker");n.exports=i=function(){function e(){this.initialize.apply(this,arguments)}e.extend=r.Model.extend;a.extend(e.prototype,o);e.prototype.compositions=null;e.prototype.initialize=function(e){if(e==null){e={}}this.compositions={};this.subscribeEvent("!composer:compose",this.compose);this.subscribeEvent("!composer:retrieve",this.retrieve);return this.subscribeEvent("dispatcher:dispatch",this.cleanup)};e.prototype.compose=function(e,t,n){if(typeof t==="function"){if(n||t.prototype.dispose){if(t.prototype instanceof s){return this._compose(e,{composition:t,options:n})}else{return this._compose(e,{options:n,compose:function(){var e,n;this.item=new t(this.options);e=this.item.autoRender;n=e===void 0||!e;if(n&&typeof this.item.render==="function"){return this.item.render()}}})}}return this._compose(e,{compose:t})}if(typeof n==="function"){return this._compose(e,{compose:n,options:t})}return this._compose(e,t)};e.prototype._compose=function(e,t){var n,r;if(typeof t.compose!=="function"&&!(t.composition!=null)){throw new Error("Composer#compose was used incorrectly")}if(t.composition!=null){n=new t.composition(t.options)}else{n=new s(t.options);n.compose=t.compose;if(t.check){n.check=t.check}}r=this.compositions[e];if(r&&r.check(n.options)){r.stale(false)}else{if(r){r.dispose()}n.compose(n.options);n.stale(false);this.compositions[e]=n}return this.compositions[e]};e.prototype.retrieve=function(e,t){var n,r;n=this.compositions[e];r=n&&!n.stale()?n.item:void 0;return t(r)};e.prototype.cleanup=function(){var e,t,n;n=this.compositions;for(t in n){e=n[t];if(e.stale()){e.dispose();delete this.compositions[t]}else{e.stale(true)}}};e.prototype.dispose=function(){var e,t,n;if(this.disposed){return}this.unsubscribeAllEvents();n=this.compositions;for(t in n){e=n[t];e.dispose()}delete this.compositions;this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}()}});require.define({"chaplin/controllers/controller":function(e,t,n){"use strict";var r,i,s,o,u={}.hasOwnProperty;o=t("underscore");r=t("backbone");s=t("chaplin/lib/event_broker");n.exports=i=function(){function e(){this.initialize.apply(this,arguments)}e.extend=r.Model.extend;o.extend(e.prototype,r.Events);o.extend(e.prototype,s);e.prototype.view=null;e.prototype.redirected=false;e.prototype.initialize=function(){};e.prototype.beforeAction=function(){};e.prototype.adjustTitle=function(e){return this.publishEvent("!adjustTitle",e)};e.prototype.compose=function(e,t,n){var r;if(arguments.length===1){r=null;this.publishEvent("!composer:retrieve",e,function(e){return r=e});return r}else{return this.publishEvent("!composer:compose",e,t,n)}};e.prototype.redirectTo=function(e,t){if(t==null){t={}}this.redirected=true;return this.publishEvent("!router:route",e,t,function(e){if(!e){throw new Error("Controller#redirectTo: no route matched")}})};e.prototype.redirectToRoute=function(e,t,n){this.redirected=true;return this.publishEvent("!router:routeByName",e,t,n,function(e){if(!e){throw new Error("Controller#redirectToRoute: no route matched")}})};e.prototype.disposed=false;e.prototype.dispose=function(){var e,t;if(this.disposed){return}for(t in this){if(!u.call(this,t))continue;e=this[t];if(!(e&&typeof e.dispose==="function")){continue}e.dispose();delete this[t]}this.unsubscribeAllEvents();this.stopListening();this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}()}});require.define({"chaplin/models/collection":function(e,t,n){"use strict";var r,i,s,o,u,a,f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t){if(f.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};a=t("underscore");r=t("backbone");s=t("chaplin/lib/event_broker");o=t("chaplin/models/model");u=t("chaplin/lib/utils");n.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}l(t,e);a.extend(t.prototype,s);t.prototype.model=o;t.prototype.serialize=function(){return this.map(u.serialize)};t.prototype.disposed=false;t.prototype.dispose=function(){var e,t,n,r;if(this.disposed){return}this.trigger("dispose",this);this.reset([],{silent:true});this.unsubscribeAllEvents();this.stopListening();this.off();t=["model","models","_byId","_byCid","_callbacks"];for(n=0,r=t.length;n<r;n++){e=t[n];delete this[e]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}(r.Collection)}});require.define({"chaplin/models/model":function(e,t,n){"use strict";var r,i,s,o,u,a,f,l={}.hasOwnProperty,c=function(e,t){function r(){this.constructor=e}for(var n in t){if(l.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};f=t("underscore");r=t("backbone");a=t("chaplin/lib/utils");i=t("chaplin/lib/event_broker");o=function(e,t,n){var i,s,o,f,l,c,h,p;i=a.beget(t);if(n==null){n={}}n[e.cid]=true;for(s in t){l=t[s];if(l instanceof r.Model){i[s]=u(l,e,n)}else if(l instanceof r.Collection){f=[];p=l.models;for(c=0,h=p.length;c<h;c++){o=p[c];f.push(u(o,e,n))}i[s]=f}}delete n[e.cid];return i};u=function(e,t,n){var r;if(e===t||f.has(n,e.cid)){return null}r=typeof e.getAttributes==="function"?e.getAttributes():e.attributes;return o(e,r,n)};n.exports=s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}c(t,e);f.extend(t.prototype,i);t.prototype.getAttributes=function(){return this.attributes};t.prototype.serialize=function(){return o(this,this.getAttributes())};t.prototype.disposed=false;t.prototype.dispose=function(){var e,t,n,r;if(this.disposed){return}this.trigger("dispose",this);this.unsubscribeAllEvents();this.stopListening();this.off();t=["collection","attributes","changed","_escapedAttributes","_previousAttributes","_silent","_pending","_callbacks"];for(n=0,r=t.length;n<r;n++){e=t[n];delete this[e]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}(r.Model)}});require.define({"chaplin/views/layout":function(e,t,n){"use strict";var r,i,s,o,u,a,f,l=function(e,t){return function(){return e.apply(t,arguments)}},c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t){if(c.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};f=t("underscore");i=t("backbone");a=t("chaplin/lib/utils");s=t("chaplin/lib/event_broker");u=t("chaplin/views/view");r=i.$;n.exports=o=function(e){function t(e){if(e==null){e={}}this.openLink=l(this.openLink,this);this.globalRegions=[];this.title=e.title;if(e.regions){this.regions=e.regions}this.settings=f.defaults(e,{titleTemplate:f.template("<%= subtitle %> â€“ <%= title %>"),openExternalToBlank:false,routeLinks:"a, .go-to",skipRouting:".noscript",scrollTo:[0,0]});t.__super__.constructor.apply(this,arguments);if(this.settings.routeLinks){this.startLinkRouting()}}h(t,e);t.prototype.el="body";t.prototype.keepElement=true;t.prototype.title="";t.prototype.globalRegions=null;t.prototype.listen={"beforeControllerDispose mediator":"scroll","!adjustTitle mediator":"adjustTitle","!region:show mediator":"showRegion","!region:register mediator":"registerRegionHandler","!region:unregister mediator":"unregisterRegionHandler"};t.prototype.scroll=function(e){var t;t=this.settings.scrollTo;if(t){return window.scrollTo(t[0],t[1])}};t.prototype.adjustTitle=function(e){var t;if(e==null){e=""}t=this.settings.titleTemplate({title:this.title,subtitle:e});return setTimeout(function(){return document.title=t},50)};t.prototype.startLinkRouting=function(){var e;e=this.settings.routeLinks;if(e){return this.$el.on("click",e,this.openLink)}};t.prototype.stopLinkRouting=function(){var e;e=this.settings.routeLinks;if(e){return this.$el.off("click",e)}};t.prototype.isExternalLink=function(e){var t,n;return e.target==="_blank"||e.rel==="external"||(t=e.protocol)!=="http:"&&t!=="https:"&&t!=="file:"||(n=e.hostname)!==location.hostname&&n!==""};t.prototype.openLink=function(e){var t,n,i,s,o,u,f,l,c,h,p,d;if(a.modifierKeyPressed(e)){return}i=e.currentTarget;t=r(i);u=i.nodeName==="A";o=t.attr("href")||t.data("href")||null;if(o===null||o===void 0||o===""||o.charAt(0)==="#"){return}h=this.settings.skipRouting;p=typeof h;if(p==="function"&&!h(o,i)||p==="string"&&t.is(h)){return}s=u&&this.isExternalLink(i);if(s){if(this.settings.openExternalToBlank){e.preventDefault();window.open(i.href)}return}if(u){l=i.pathname;c=i.search.substring(1);if(l.charAt(0)!=="/"){l="/"+l}}else{d=o.split("?"),l=d[0],c=d[1];if(c==null){c=""}}f={query:c};n=function(t){if(t){e.preventDefault()}else if(!u){location.href=l}};this.publishEvent("!router:route",l,f,n)};t.prototype.registerRegionHandler=function(e,t,n){if(t!=null){return this.registerGlobalRegion(e,t,n)}else{return this.registerGlobalRegions(e)}};t.prototype.registerGlobalRegion=function(e,t,n){this.unregisterGlobalRegion(e,t);return this.globalRegions.unshift({instance:e,name:t,selector:n})};t.prototype.registerGlobalRegions=function(e){var t,n,r,i,s,o;o=a.getAllPropertyVersions(e,"regions");for(i=0,s=o.length;i<s;i++){r=o[i];for(n in r){t=r[n];this.registerGlobalRegion(e,t,n)}}};t.prototype.unregisterRegionHandler=function(e,t){if(t!=null){return this.unregisterGlobalRegion(e,t)}else{return this.unregisterGlobalRegions(e)}};t.prototype.unregisterGlobalRegion=function(e,t){var n;n=e.cid;return this.globalRegions=f.filter(this.globalRegions,function(e){return e.instance.cid!==n||e.name!==t})};t.prototype.unregisterGlobalRegions=function(e){return this.globalRegions=f.filter(this.globalRegions,function(t){return t.instance.cid!==e.cid})};t.prototype.showRegion=function(e,t){var n;n=f.find(this.globalRegions,function(t){return t.name===e&&!t.instance.stale});if(!n){throw new Error("No region registered under "+e)}return t.container=n.selector===""?n.instance.$el:n.instance.$(n.selector)};t.prototype.dispose=function(){var e,n,r,i;if(this.disposed){return}this.stopLinkRouting();i=["globalRegions","title","route"];for(n=0,r=i.length;n<r;n++){e=i[n];delete this[e]}return t.__super__.dispose.apply(this,arguments)};return t}(u)}});require.define({"chaplin/views/view":function(e,t,n){"use strict";var r,i,s,o,u,a,f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t){if(f.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};a=t("underscore");i=t("backbone");u=t("chaplin/lib/utils");s=t("chaplin/lib/event_broker");r=i.$;n.exports=o=function(e){function t(e){var n,r=this;if(e){a.extend(this,a.pick(e,["autoAttach","autoRender","container","containerMethod","region"]))}n=this.render;this.render=function(){if(r.disposed){return false}n.apply(r,arguments);if(r.autoAttach){r.attach.apply(r,arguments)}return r};this.subviews=[];this.subviewsByName={};t.__super__.constructor.apply(this,arguments);this.delegateListeners();if(this.model){this.listenTo(this.model,"dispose",this.dispose)}if(this.collection){this.listenTo(this.collection,"dispose",function(e){if(!e||e===r.collection){return r.dispose()}})}if(this.regions!=null){this.publishEvent("!region:register",this)}if(this.autoRender){this.render()}}l(t,e);a.extend(t.prototype,s);t.prototype.keepElement=false;t.prototype.autoRender=false;t.prototype.autoAttach=true;t.prototype.container=null;t.prototype.containerMethod="append";t.prototype.regions=null;t.prototype.region=null;t.prototype.subviews=null;t.prototype.subviewsByName=null;t.prototype.stale=false;t.prototype.delegate=function(e,t,n){var r,i,s,o,u,f=this;if(typeof e!=="string"){throw new TypeError("View#delegate: first argument must be a string")}if(arguments.length===2){s=t}else if(arguments.length===3){u=t;if(typeof u!=="string"){throw new TypeError("View#delegate: "+"second argument must be a string")}s=n}else{throw new TypeError("View#delegate: "+"only two or three arguments are allowed")}if(typeof s!=="function"){throw new TypeError("View#delegate: "+"handler argument must be function")}o=a.map(e.split(" "),function(e){return""+e+".delegate"+f.cid});i=o.join(" ");r=a.bind(s,this);this.$el.on(i,u||null,r);return r};t.prototype._delegateEvents=function(e){var t,n,r,i,s,o,u;for(i in e){u=e[i];r=typeof u==="function"?u:this[u];if(!r){throw new Error("Method '"+r+"' does not exist")}s=i.match(/^(\S+)\s*(.*)$/);n=""+s[1]+".delegateEvents"+this.cid;o=s[2];t=a.bind(r,this);this.$el.on(n,o||null,t)}};t.prototype.delegateEvents=function(e){var t,n,r,i;this.undelegateEvents();if(e){this._delegateEvents(e);return}if(!this.events){return}i=u.getAllPropertyVersions(this,"events");for(n=0,r=i.length;n<r;n++){t=i[n];if(typeof t==="function"){throw new TypeError("View#delegateEvents: functions are not supported")}this._delegateEvents(t)}};t.prototype.undelegate=function(){return this.$el.unbind(".delegate"+this.cid)};t.prototype.delegateListeners=function(){var e,t,n,r,i,s,o,a,f;if(!this.listen){return}a=u.getAllPropertyVersions(this,"listen");for(s=0,o=a.length;s<o;s++){i=a[s];for(t in i){n=i[t];if(typeof n!=="function"){n=this[n]}if(typeof n!=="function"){throw new Error("View#delegateListeners: "+(""+n+" must be function"))}f=t.split(" "),e=f[0],r=f[1];this.delegateListener(e,r,n)}}};t.prototype.delegateListener=function(e,t,n){var r;if(t==="model"||t==="collection"){r=this[t];if(r){this.listenTo(r,e,n)}}else if(t==="mediator"){this.subscribeEvent(e,n)}else if(!t){this.on(e,n,this)}};t.prototype.registerRegion=function(e,t){return this.publishEvent("!region:register",this,t,e)};t.prototype.unregisterRegion=function(e){return this.publishEvent("!region:unregister",this,e)};t.prototype.unregisterAllRegions=function(){return this.publishEvent("!region:unregister",this)};t.prototype.subview=function(e,t){var n,r;r=this.subviews;n=this.subviewsByName;if(e&&t){this.removeSubview(e);r.push(t);n[e]=t;return t}else if(e){return n[e]}};t.prototype.removeSubview=function(e){var t,n,r,i,s,o,u;if(!e){return}o=this.subviews;t=this.subviewsByName;if(typeof e==="string"){r=e;u=t[r]}else{u=e;for(i in t){s=t[i];if(u===s){r=i;break}}}if(!(r&&u&&u.dispose)){return}u.dispose();n=a.indexOf(o,u);if(n!==-1){o.splice(n,1)}return delete t[r]};t.prototype.getTemplateData=function(){var e,t;e=this.model?u.serialize(this.model):this.collection?{items:u.serialize(this.collection),length:this.collection.length}:{};t=this.model||this.collection;if(t){if(typeof t.isSynced==="function"&&!("synced"in e)){e.synced=t.isSynced()}}return e};t.prototype.getTemplateFunction=function(){throw new Error("View#getTemplateFunction must be overridden")};t.prototype.render=function(){var e,t;if(this.disposed){return false}t=this.getTemplateFunction();if(typeof t==="function"){e=t(this.getTemplateData());this.$el.html(e)}return this};t.prototype.attach=function(){if(this.region!=null){this.publishEvent("!region:show",this.region,this)}if(this.container){r(this.container)[this.containerMethod](this.el);return this.trigger("addedToDOM")}};t.prototype.disposed=false;t.prototype.dispose=function(){var e,t,n,r,i,s,o,u;if(this.disposed){return}this.unregisterAllRegions();u=this.subviews;for(r=0,s=u.length;r<s;r++){n=u[r];n.dispose()}this.unsubscribeAllEvents();this.off();if(this.keepElement){this.undelegateEvents();this.undelegate();this.stopListening()}else{this.remove()}t=["el","$el","options","model","collection","subviews","subviewsByName","_callbacks"];for(i=0,o=t.length;i<o;i++){e=t[i];delete this[e]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}(i.View)}});require.define({"chaplin/views/collection_view":function(e,t,n){"use strict";var r,i,s,o,u,a=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t){if(f.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};u=t("underscore");i=t("backbone");o=t("chaplin/views/view");r=i.$;n.exports=s=function(e){function t(e){this.renderAllItems=a(this.renderAllItems,this);this.toggleFallback=a(this.toggleFallback,this);this.itemsReset=a(this.itemsReset,this);this.itemRemoved=a(this.itemRemoved,this);this.itemAdded=a(this.itemAdded,this);if(e){u.extend(this,u.pick(e,["renderItems","itemView"]))}this.visibleItems=[];t.__super__.constructor.apply(this,arguments)}l(t,e);t.prototype.itemView=null;t.prototype.autoRender=true;t.prototype.renderItems=true;t.prototype.animationDuration=500;t.prototype.useCssAnimation=false;t.prototype.animationStartClass="animated-item-view";t.prototype.animationEndClass="animated-item-view-end";t.prototype.listSelector=null;t.prototype.$list=null;t.prototype.fallbackSelector=null;t.prototype.$fallback=null;t.prototype.loadingSelector=null;t.prototype.$loading=null;t.prototype.itemSelector=null;t.prototype.filterer=null;t.prototype.filterCallback=function(e,t){return e.$el.stop(true,true).toggle(t)};t.prototype.visibleItems=null;t.prototype.initialize=function(e){if(e==null){e={}}this.addCollectionListeners();if(e.filterer!=null){return this.filter(e.filterer)}};t.prototype.addCollectionListeners=function(){this.listenTo(this.collection,"add",this.itemAdded);this.listenTo(this.collection,"remove",this.itemRemoved);return this.listenTo(this.collection,"reset sort",this.itemsReset)};t.prototype.getTemplateData=function(){var e;e={length:this.collection.length};if(typeof this.collection.isSynced==="function"){e.synced=this.collection.isSynced()}return e};t.prototype.getTemplateFunction=function(){};t.prototype.render=function(){t.__super__.render.apply(this,arguments);this.$list=this.listSelector?this.$(this.listSelector):this.$el;this.initFallback();this.initLoadingIndicator();if(this.renderItems){return this.renderAllItems()}};t.prototype.itemAdded=function(e,t,n){return this.insertView(e,this.renderItem(e),n.at)};t.prototype.itemRemoved=function(e){return this.removeViewForItem(e)};t.prototype.itemsReset=function(){return this.renderAllItems()};t.prototype.initFallback=function(){if(!this.fallbackSelector){return}this.$fallback=this.$(this.fallbackSelector);this.on("visibilityChange",this.toggleFallback);this.listenTo(this.collection,"syncStateChange",this.toggleFallback);return this.toggleFallback()};t.prototype.toggleFallback=function(){var e;e=this.visibleItems.length===0&&(typeof this.collection.isSynced==="function"?this.collection.isSynced():true);return this.$fallback.toggle(e)};t.prototype.initLoadingIndicator=function(){if(!(this.loadingSelector&&typeof this.collection.isSyncing==="function")){return}this.$loading=this.$(this.loadingSelector);this.listenTo(this.collection,"syncStateChange",this.toggleLoadingIndicator);return this.toggleLoadingIndicator()};t.prototype.toggleLoadingIndicator=function(){var e;e=this.collection.length===0&&this.collection.isSyncing();return this.$loading.toggle(e)};t.prototype.getItemViews=function(){var e,t,n,r;e={};if(this.subviews.length>0){r=this.subviewsByName;for(t in r){n=r[t];if(t.slice(0,9)==="itemView:"){e[t.slice(9)]=n}}}return e};t.prototype.filter=function(e,t){var n,r,i,s,o,a,f;this.filterer=e;if(t){this.filterCallback=t}if(t==null){t=this.filterCallback}if(!u.isEmpty(this.getItemViews())){f=this.collection.models;for(r=o=0,a=f.length;o<a;r=++o){i=f[r];n=typeof e==="function"?e(i,r):true;s=this.subview("itemView:"+i.cid);if(!s){throw new Error("CollectionView#filter: "+("no view found for "+i.cid))}this.filterCallback(s,n);this.updateVisibleItems(s.model,n,false)}}return this.trigger("visibilityChange",this.visibleItems)};t.prototype.renderAllItems=function(){var e,t,n,r,i,s,o,u,a,l,c;r=this.collection.models;this.visibleItems=[];i={};for(o=0,a=r.length;o<a;o++){n=r[o];s=this.subview("itemView:"+n.cid);if(s){i[n.cid]=s}}c=this.getItemViews();for(e in c){if(!f.call(c,e))continue;s=c[e];if(!(e in i)){this.removeSubview("itemView:"+e)}}for(t=u=0,l=r.length;u<l;t=++u){n=r[t];s=this.subview("itemView:"+n.cid);if(s){this.insertView(n,s,t,false)}else{this.insertView(n,this.renderItem(n),t)}}if(r.length===0){return this.trigger("visibilityChange",this.visibleItems)}};t.prototype.renderItem=function(e){var t;t=this.subview("itemView:"+e.cid);if(!t){t=this.initItemView(e);this.subview("itemView:"+e.cid,t)}t.render();return t};t.prototype.initItemView=function(e){if(this.itemView){return new this.itemView({model:e,autoRender:false})}else{throw new Error("The CollectionView#itemView property "+"must be defined or the initItemView() must be overridden.")}};t.prototype.insertView=function(e,t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m=this;if(r==null){r=true}if(this.animationDuration===0){r=false}if(typeof n!=="number"){n=this.collection.indexOf(e)}l=typeof this.filterer==="function"?this.filterer(e,n):true;v=t.el;u=t.$el;if(l&&r){if(this.useCssAnimation){u.addClass(this.animationStartClass)}else{u.css("opacity",0)}}if(this.filterer){this.filterCallback(t,l)}p=this.collection.length;c=0<n&&n<p;h=function(e){return e===0||n===e};i=this.$list;if(c||this.itemSelector){a=i.children(this.itemSelector);f=a.length;if(a.get(n)!==v){if(h(f)){i.append(v)}else{if(n===0){s=a.eq(n);s.before(v)}else{o=a.eq(n-1);o.after(v)}}}}else{d=h(p)?"append":"prepend";i[d](v)}t.trigger("addedToParent");this.updateVisibleItems(e,l);if(l&&r){if(this.useCssAnimation){setTimeout(function(){return u.addClass(m.animationEndClass)},0)}else{u.animate({opacity:1},this.animationDuration)}}};t.prototype.removeViewForItem=function(e){this.updateVisibleItems(e,false);return this.removeSubview("itemView:"+e.cid)};t.prototype.updateVisibleItems=function(e,t,n){var r,i,s;if(n==null){n=true}i=false;s=u.indexOf(this.visibleItems,e);r=s!==-1;if(t&&!r){this.visibleItems.push(e);i=true}else if(!t&&r){this.visibleItems.splice(s,1);i=true}if(i&&n){this.trigger("visibilityChange",this.visibleItems)}return i};t.prototype.dispose=function(){var e,n,r,i;if(this.disposed){return}n=["$list","$fallback","$loading","visibleItems"];for(r=0,i=n.length;r<i;r++){e=n[r];delete this[e]}return t.__super__.dispose.apply(this,arguments)};return t}(o)}});require.define({"chaplin/lib/route":function(e,t,n){"use strict";var r,i,s,o,u,a=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty;u=t("underscore");r=t("backbone");s=t("chaplin/lib/event_broker");i=t("chaplin/controllers/controller");n.exports=o=function(){function t(e,t,n,r){var s;this.pattern=e;this.controller=t;this.action=n;this.handler=a(this.handler,this);this.addParamName=a(this.addParamName,this);if(u.isRegExp(this.pattern)){throw new Error("Route: RegExps are not supported.        Use strings with :names and `constraints` option of route")}this.options=r?u.clone(r):{};if(this.options.name!=null){this.name=this.options.name}if(this.name&&this.name.indexOf("#")!==-1){throw new Error('Route: "#" cannot be used in name')}if((s=this.name)==null){this.name=this.controller+"#"+this.action}this.paramNames=[];if(u.has(i.prototype,this.action)){throw new Error("Route: You should not use existing controller "+"properties as action names")}this.createRegExp();if(typeof Object.freeze==="function"){Object.freeze(this)}}var e;t.extend=r.Model.extend;u.extend(t.prototype,s);e=/[-[\]{}()+?.,\\^$|#\s]/g;t.prototype.matches=function(e){var t,n,r,i,s;if(typeof e==="string"){return e===this.name}else{s=["name","action","controller"];for(r=0,i=s.length;r<i;r++){t=s[r];n=e[t];if(n&&n!==this[t]){return false}}return true}};t.prototype.reverse=function(e){var t,n,r,i,s,o,a;r=this.pattern;if(u.isArray(e)){if(e.length<this.paramNames.length){return false}t=0;r=r.replace(/[:*][^\/\?]+/g,function(n){var r;r=e[t];t+=1;return r})}else{a=this.paramNames;for(s=0,o=a.length;s<o;s++){n=a[s];i=e[n];if(i===void 0){return false}r=r.replace(RegExp("[:*]"+n,"g"),i)}}if(this.test(r)){return r}else{return false}};t.prototype.createRegExp=function(){var t;t=this.pattern.replace(e,"\\$&").replace(/(?::|\*)(\w+)/g,this.addParamName);return this.regExp=RegExp("^"+t+"(?=\\?|$)")};t.prototype.addParamName=function(e,t){this.paramNames.push(t);if(e.charAt(0)===":"){return"([^/?]+)"}else{return"(.*?)"}};t.prototype.test=function(e){var t,n,r,i,s;r=this.regExp.test(e);if(!r){return false}n=this.options.constraints;if(n){s=this.extractParams(e);for(i in n){if(!f.call(n,i))continue;t=n[i];if(!t.test(s[i])){return false}}}return true};t.prototype.handler=function(e,t){var n,r,i,s;t=t?u.clone(t):{};r=(s=t.query)!=null?s:this.getCurrentQuery();n=this.buildParams(e,r);i={path:e,action:this.action,controller:this.controller,name:this.name,query:r};delete t.query;return this.publishEvent("router:match",i,n,t)};t.prototype.getCurrentQuery=function(){return location.search.substring(1)};t.prototype.buildParams=function(e,t){return u.extend({},this.extractQueryParams(t),this.extractParams(e),this.options.params)};t.prototype.extractParams=function(e){var t,n,r,i,s,o,u,a;s={};r=this.regExp.exec(e);a=r.slice(1);for(t=o=0,u=a.length;o<u;t=++o){n=a[t];i=this.paramNames.length?this.paramNames[t]:t;s[i]=n}return s};t.prototype.extractQueryParams=function(e){var t,n,r,i,s,o,u,a,f;s={};if(!e){return s}i=e.split("&");for(u=0,a=i.length;u<a;u++){r=i[u];if(!r.length){continue}f=r.split("="),n=f[0],o=f[1];if(!n.length){continue}n=decodeURIComponent(n);o=decodeURIComponent(o);t=s[n];if(t){if(t.push){t.push(o)}else{s[n]=[t,o]}}else{s[n]=o}}return s};return t}()}});require.define({"chaplin/lib/router":function(e,t,n){"use strict";var r,i,s,o,u,a,f=function(e,t){return function(){return e.apply(t,arguments)}};a=t("underscore");r=t("backbone");i=t("chaplin/lib/event_broker");s=t("chaplin/lib/route");u=t("chaplin/lib/utils");n.exports=o=function(){function e(e){this.options=e!=null?e:{};this.route=f(this.route,this);this.match=f(this.match,this);a.defaults(this.options,{pushState:true,root:"/"});this.removeRoot=new RegExp("^"+u.escapeRegExp(this.options.root)+"(#)?");this.subscribeEvent("!router:route",this.routeHandler);this.subscribeEvent("!router:routeByName",this.routeByNameHandler);this.subscribeEvent("!router:reverse",this.reverseHandler);this.subscribeEvent("!router:changeURL",this.changeURLHandler);this.createHistory()}e.extend=r.Model.extend;a.extend(e.prototype,i);e.prototype.createHistory=function(){return r.history||(r.history=new r.History)};e.prototype.startHistory=function(){return r.history.start(this.options)};e.prototype.stopHistory=function(){if(r.History.started){return r.history.stop()}};e.prototype.match=function(e,t,n){var i,o,u,a;if(n==null){n={}}if(arguments.length===2&&typeof t==="object"){n=t;o=n.controller,i=n.action;if(!(o&&i)){throw new Error("Router#match must receive either target or "+"options.controller & options.action")}}else{o=n.controller,i=n.action;if(o||i){throw new Error("Router#match cannot use both target and "+"options.controller / options.action")}a=t.split("#"),o=a[0],i=a[1]}u=new s(e,o,i,n);r.history.handlers.push({route:u,callback:u.handler});return u};e.prototype.route=function(e,t){var n,i,s,o;t=t?a.clone(t):{};a.defaults(t,{changeURL:true});e=e.replace(this.removeRoot,"");o=r.history.handlers;for(i=0,s=o.length;i<s;i++){n=o[i];if(n.route.test(e)){n.callback(e,t);return true}}return false};e.prototype.routeHandler=function(e,t,n){var r;if(arguments.length===2&&typeof t==="function"){n=t;t={}}r=this.route(e,t);return typeof n==="function"?n(r):void 0};e.prototype.routeByNameHandler=function(e,t,n,r){var i,s;if(arguments.length===3&&typeof n==="function"){r=n;n={}}i=this.reverse(e,t);if(typeof i==="string"){s=this.route(i,n);return typeof r==="function"?r(s):void 0}else{return typeof r==="function"?r(false):void 0}};e.prototype.reverse=function(e,t){var n,i,s,o,u,a,f;o=this.options.root;i=r.history.handlers;for(a=0,f=i.length;a<f;a++){n=i[a];if(!n.route.matches(e)){continue}s=n.route.reverse(t);if(s!==false){u=o?o+s:s;return u}}return false};e.prototype.reverseHandler=function(e,t,n){return n(this.reverse(e,t))};e.prototype.changeURL=function(e,t){var n;if(t==null){t={}}n={trigger:t.trigger===true,replace:t.replace===true};return r.history.navigate(e,n)};e.prototype.changeURLHandler=function(e,t){return this.changeURL(e,t)};e.prototype.disposed=false;e.prototype.dispose=function(){if(this.disposed){return}this.stopHistory();delete r.history;this.unsubscribeAllEvents();this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}()}});require.define({"chaplin/lib/delayer":function(e,t,n){"use strict";var r;r={setTimeout:function(e,t,n){var r,i,s,o=this;if((s=this.timeouts)==null){this.timeouts={}}this.clearTimeout(e);i=function(){delete o.timeouts[e];return n()};r=setTimeout(i,t);this.timeouts[e]=r;return r},clearTimeout:function(e){if(!(this.timeouts&&this.timeouts[e]!=null)){return}clearTimeout(this.timeouts[e]);delete this.timeouts[e]},clearAllTimeouts:function(){var e,t,n;if(!this.timeouts){return}n=this.timeouts;for(t in n){e=n[t];this.clearTimeout(t)}},setInterval:function(e,t,n){var r,i;this.clearInterval(e);if((i=this.intervals)==null){this.intervals={}}r=setInterval(n,t);this.intervals[e]=r;return r},clearInterval:function(e){if(!(this.intervals&&this.intervals[e])){return}clearInterval(this.intervals[e]);delete this.intervals[e]},clearAllIntervals:function(){var e,t,n;if(!this.intervals){return}n=this.intervals;for(t in n){e=n[t];this.clearInterval(t)}},clearDelayed:function(){this.clearAllTimeouts();this.clearAllIntervals()}};if(typeof Object.freeze==="function"){Object.freeze(r)}n.exports=r}});require.define({"chaplin/lib/event_broker":function(e,t,n){"use strict";var r,i,s=[].slice;i=t("chaplin/mediator");r={subscribeEvent:function(e,t){if(typeof e!=="string"){throw new TypeError("EventBroker#subscribeEvent: "+"type argument must be a string")}if(typeof t!=="function"){throw new TypeError("EventBroker#subscribeEvent: "+"handler argument must be a function")}i.unsubscribe(e,t,this);return i.subscribe(e,t,this)},unsubscribeEvent:function(e,t){if(typeof e!=="string"){throw new TypeError("EventBroker#unsubscribeEvent: "+"type argument must be a string")}if(typeof t!=="function"){throw new TypeError("EventBroker#unsubscribeEvent: "+"handler argument must be a function")}return i.unsubscribe(e,t)},unsubscribeAllEvents:function(){return i.unsubscribe(null,null,this)},publishEvent:function(){var e,t;t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[];if(typeof t!=="string"){throw new TypeError("EventBroker#publishEvent: "+"type argument must be a string")}return i.publish.apply(i,[t].concat(s.call(e)))}};if(typeof Object.freeze==="function"){Object.freeze(r)}n.exports=r}});require.define({"chaplin/lib/support":function(e,t,n){"use strict";var r;r={propertyDescriptors:function(){var e;if(!(typeof Object.defineProperty==="function"&&typeof Object.defineProperties==="function")){return false}try{e={};Object.defineProperty(e,"foo",{value:"bar"});return e.foo==="bar"}catch(t){return false}}()};n.exports=r}});require.define({"chaplin/lib/composition":function(e,t,n){"use strict";var r,i,s,o,u={}.hasOwnProperty;o=t("underscore");r=t("backbone");s=t("chaplin/lib/event_broker");n.exports=i=function(){function e(e){if(e!=null){this.options=o.clone(e)}this.item=this;this.initialize(this.options)}e.extend=r.Model.extend;o.extend(e.prototype,r.Events);o.extend(e.prototype,s);e.prototype.item=null;e.prototype.options=null;e.prototype._stale=false;e.prototype.initialize=function(){};e.prototype.compose=function(){};e.prototype.check=function(e){return o.isEqual(this.options,e)};e.prototype.stale=function(e){var t,n;if(e==null){return this._stale}this._stale=e;for(n in this){t=this[n];if(t&&t!==this&&o.has(t,"stale")){t.stale=e}}};e.prototype.disposed=false;e.prototype.dispose=function(){var e,t,n,r,i;if(this.disposed){return}for(t in this){if(!u.call(this,t))continue;e=this[t];if(e&&typeof e.dispose==="function"){if(e!==this){e.dispose();delete this[t]}}}this.unsubscribeAllEvents();this.stopListening();n=["redirected"];for(r=0,i=n.length;r<i;r++){t=n[r];delete this[t]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}()}});require.define({"chaplin/lib/sync_machine":function(e,t,n){"use strict";var r,i,s,o,u,a,f,l,c,h;u="unsynced";s="syncing";i="synced";r="syncStateChange";o={_syncState:u,_previousSyncState:null,syncState:function(){return this._syncState},isUnsynced:function(){return this._syncState===u},isSynced:function(){return this._syncState===i},isSyncing:function(){return this._syncState===s},unsync:function(){var e;if((e=this._syncState)===s||e===i){this._previousSync=this._syncState;this._syncState=u;this.trigger(this._syncState,this,this._syncState);this.trigger(r,this,this._syncState)}},beginSync:function(){var e;if((e=this._syncState)===u||e===i){this._previousSync=this._syncState;this._syncState=s;this.trigger(this._syncState,this,this._syncState);this.trigger(r,this,this._syncState)}},finishSync:function(){if(this._syncState===s){this._previousSync=this._syncState;this._syncState=i;this.trigger(this._syncState,this,this._syncState);this.trigger(r,this,this._syncState)}},abortSync:function(){if(this._syncState===s){this._syncState=this._previousSync;this._previousSync=this._syncState;this.trigger(this._syncState,this,this._syncState);this.trigger(r,this,this._syncState)}}};h=[u,s,i,r];f=function(e){return o[e]=function(t,n){if(n==null){n=this}this.on(e,t,n);if(this._syncState===e){return t.call(n)}}};for(l=0,c=h.length;l<c;l++){a=h[l];f(a)}if(typeof Object.freeze==="function"){Object.freeze(o)}n.exports=o}});require.define({"chaplin/lib/utils":function(e,t,n){"use strict";var r,i,s,o=[].slice,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};s=t("underscore");r=t("chaplin/lib/support");i={beget:function(){var e;if(typeof Object.create==="function"){return Object.create}else{e=function(){};return function(t){e.prototype=t;return new e}}}(),serialize:function(e){if(typeof e.serialize==="function"){return e.serialize()}else if(typeof e.toJSON==="function"){return e.toJSON()}else{throw new TypeError("utils.serialize: Unknown data was passed")}},readonly:function(){var e;if(r.propertyDescriptors){e={writable:false,enumerable:true,configurable:false};return function(){var t,n,r,i,s;t=arguments[0],r=2<=arguments.length?o.call(arguments,1):[];for(i=0,s=r.length;i<s;i++){n=r[i];e.value=t[n];Object.defineProperty(t,n,e)}return true}}else{return function(){return false}}}(),getPrototypeChain:function(e){var t,n;t=[e.constructor.prototype];while(e=(n=e.constructor)!=null?n.__super__:void 0){t.push(e)}return t},getAllPropertyVersions:function(e,t){var n,r,s,o,a,f;r=[];f=i.getPrototypeChain(e);for(o=0,a=f.length;o<a;o++){n=f[o];s=n[t];if(s&&u.call(r,s)<0){r.push(s)}}return r.reverse()},upcase:function(e){return e.charAt(0).toUpperCase()+e.substring(1)},escapeRegExp:function(e){return String(e||"").replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},modifierKeyPressed:function(e){return e.shiftKey||e.altKey||e.ctrlKey||e.metaKey}};if(typeof Object.seal==="function"){Object.seal(i)}n.exports=i}});require.define({"chaplin/lib/helpers":function(e,t,n){"use strict";var r,i;i=t("chaplin/mediator");r={reverse:function(e,t){var n;n=null;i.publish("!router:reverse",e,t,function(e){if(e===false){throw new Error("Chaplin.helpers.reverse: invalid route specified.")}return n=e});return n}};n.exports=r}});require.define({chaplin:function(e,t,n){n.exports={Application:t("chaplin/application"),mediator:t("chaplin/mediator"),Dispatcher:t("chaplin/dispatcher"),Controller:t("chaplin/controllers/controller"),Composer:t("chaplin/composer"),Composition:t("chaplin/lib/composition"),Collection:t("chaplin/models/collection"),Model:t("chaplin/models/model"),Layout:t("chaplin/views/layout"),View:t("chaplin/views/view"),CollectionView:t("chaplin/views/collection_view"),Route:t("chaplin/lib/route"),Router:t("chaplin/lib/router"),Delayer:t("chaplin/lib/delayer"),EventBroker:t("chaplin/lib/event_broker"),helpers:t("chaplin/lib/helpers"),support:t("chaplin/lib/support"),SyncMachine:t("chaplin/lib/sync_machine"),utils:t("chaplin/lib/utils")}}});var Handlebars=function(){var e=function(){"use strict";function t(e){this.string=e}var e;t.prototype.toString=function(){return""+this.string};e=t;return e}();var t=function(e){"use strict";function o(e){return r[e]||"&"}function u(e,t){for(var n in t){if(Object.prototype.hasOwnProperty.call(t,n)){e[n]=t[n]}}}function c(e){if(e instanceof n){return e.toString()}else if(!e&&e!==0){return""}e=""+e;if(!s.test(e)){return e}return e.replace(i,o)}function h(e){if(!e&&e!==0){return true}else if(l(e)&&e.length===0){return true}else{return false}}var t={};var n=e;var r={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var i=/[&<>"'`]/g;var s=/[&<>"'`]/;t.extend=u;var a=Object.prototype.toString;t.toString=a;var f=function(e){return typeof e==="function"};if(f(/x/)){f=function(e){return typeof e==="function"&&a.call(e)==="[object Function]"}}var f;t.isFunction=f;var l=Array.isArray||function(e){return e&&typeof e==="object"?a.call(e)==="[object Array]":false};t.isArray=l;t.escapeExpression=c;t.isEmpty=h;return t}(e);var n=function(){"use strict";function n(e,n){var r;if(n&&n.firstLine){r=n.firstLine;e+=" - "+r+":"+n.firstColumn}var i=Error.prototype.constructor.call(this,e);for(var s=0;s<t.length;s++){this[t[s]]=i[t[s]]}if(r){this.lineNumber=r;this.column=n.firstColumn}}var e;var t=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error;e=n;return e}();var r=function(e,t){"use strict";function h(e,t){this.helpers=e||{};this.partials=t||{};p(this)}function p(e){e.registerHelper("helperMissing",function(e){if(arguments.length===2){return undefined}else{throw new i("Missing helper: '"+e+"'")}});e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse||function(){},i=n.fn;if(f(t)){t=t.call(this)}if(t===true){return i(this)}else if(t===false||t==null){return r(this)}else if(a(t)){if(t.length>0){return e.helpers.each(t,n)}else{return r(this)}}else{return i(t)}});e.registerHelper("each",function(e,t){var n=t.fn,r=t.inverse;var i=0,s="",o;if(f(e)){e=e.call(this)}if(t.data){o=m(t.data)}if(e&&typeof e==="object"){if(a(e)){for(var u=e.length;i<u;i++){if(o){o.index=i;o.first=i===0;o.last=i===e.length-1}s=s+n(e[i],{data:o})}}else{for(var l in e){if(e.hasOwnProperty(l)){if(o){o.key=l;o.index=i;o.first=i===0}s=s+n(e[l],{data:o});i++}}}}if(i===0){s=r(this)}return s});e.registerHelper("if",function(e,t){if(f(e)){e=e.call(this)}if(!t.hash.includeZero&&!e||r.isEmpty(e)){return t.inverse(this)}else{return t.fn(this)}});e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})});e.registerHelper("with",function(e,t){if(f(e)){e=e.call(this)}if(!r.isEmpty(e))return t.fn(e)});e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)})}function v(e,t){d.log(e,t)}var n={};var r=e;var i=t;var s="1.3.0";n.VERSION=s;var o=4;n.COMPILER_REVISION=o;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};n.REVISION_CHANGES=u;var a=r.isArray,f=r.isFunction,l=r.toString,c="[object Object]";n.HandlebarsEnvironment=h;h.prototype={constructor:h,logger:d,log:v,registerHelper:function(e,t,n){if(l.call(e)===c){if(n||t){throw new i("Arg not supported with multiple helpers")}r.extend(this.helpers,e)}else{if(n){t.not=n}this.helpers[e]=t}},registerPartial:function(e,t){if(l.call(e)===c){r.extend(this.partials,e)}else{this.partials[e]=t}}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];if(typeof console!=="undefined"&&console[n]){console[n].call(console,t)}}}};n.logger=d;n.log=v;var m=function(e){var t={};r.extend(t,e);return t};n.createFrame=m;return n}(t,n);var i=function(e,t,n){"use strict";function a(e){var t=e&&e[0]||1,n=o;if(t!==n){if(t<n){var r=u[n],i=u[t];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}else{throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+e[1]+").")}}}function f(e,t){if(!t){throw new s("No environment passed to template")}var n=function(e,n,r,i,o,u){var a=t.VM.invokePartial.apply(this,arguments);if(a!=null){return a}if(t.compile){var f={helpers:i,partials:o,data:u};o[n]=t.compile(e,{data:u!==undefined},t);return o[n](r,f)}else{throw new s("The partial "+n+" could not be compiled when running in runtime-only mode")}};var r={escapeExpression:i.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var r=this.programs[e];if(n){r=c(e,t,n)}else if(!r){r=this.programs[e]=c(e,t)}return r},merge:function(e,t){var n=e||t;if(e&&t&&e!==t){n={};i.extend(n,t);i.extend(n,e)}return n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,i){i=i||{};var s=i.partial?i:t,o,u;if(!i.partial){o=i.helpers;u=i.partials}var a=e.call(r,s,n,o,u,i.data);if(!i.partial){t.VM.checkRevision(r.compilerInfo)}return a}}function l(e,t,n){var r=Array.prototype.slice.call(arguments,3);var i=function(e,i){i=i||{};return t.apply(this,[e,i.data||n].concat(r))};i.program=e;i.depth=r.length;return i}function c(e,t,n){var r=function(e,r){r=r||{};return t(e,r.data||n)};r.program=e;r.depth=0;return r}function h(e,t,n,r,i,o){var u={partial:true,helpers:r,partials:i,data:o};if(e===undefined){throw new s("The partial "+t+" could not be found")}else if(e instanceof Function){return e(n,u)}}function p(){return""}var r={};var i=e;var s=t;var o=n.COMPILER_REVISION;var u=n.REVISION_CHANGES;r.checkRevision=a;r.template=f;r.programWithDepth=l;r.program=c;r.invokePartial=h;r.noop=p;return r}(t,n,r);var s=function(e,t,n,r,i){"use strict";var s;var o=e;var u=t;var a=n;var f=r;var l=i;var c=function(){var e=new o.HandlebarsEnvironment;f.extend(e,o);e.SafeString=u;e.Exception=a;e.Utils=f;e.VM=l;e.template=function(t){return l.template(t,e)};return e};var h=c();h.create=c;s=h;return s}(r,e,n,t,i);return s}()