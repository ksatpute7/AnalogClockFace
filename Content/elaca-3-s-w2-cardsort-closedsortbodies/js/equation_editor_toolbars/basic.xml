<!-- Equation Editor ${project.version} -->

<equationEditor>

<!-- Layout transformations for markup elements -->

<layouts xmlns="http://www.w3.org/1998/Math/MathML"
    xmlns:h="http://www.w3.org/1999/xhtml"
    xmlns:i="http://math.pearson.com/MathEX"
    xmlns:u="http://math.pearson.com/User">

<!-- Content Markup Elements -->

<!-- 4.4.1.1 (cn) -->

<layout name="cn">
  <cn> <i:args/> </cn>
  <mn> <i:number> <cn>1</cn> </i:number> </mn>
</layout>

<layout name="cn">
  <cn base="*"> <i:args/> </cn>
  <i:sub>
    <mn> <i:number> <cn>1</cn> </i:number> </mn>
    <mn> <i:attrib base="*" /> </mn>
  </i:sub>
</layout>

<layout name="cn">
  <cn type="rational"> <i:args/> </cn>
  <i:fraction>
    <mn> <i:number> <cn>1</cn> </i:number> </mn>
    <mn> <i:number> <cn>2</cn> </i:number> </mn>
  </i:fraction>
</layout>

<layout name="cn">
  <cn type="complex"> <i:args/> </cn>
  <i:infix>
    <mo>+</mo>
    <mn> <i:number> <cn>1</cn> </i:number> </mn>
    <i:infix>
      <mo>&amp;it;</mo>
      <mn> <i:number> <cn>2</cn> </i:number> </mn>
      <mi>i</mi>
    </i:infix>
  </i:infix>
</layout>

<layout name="cn">
  <cn type="complex-cartesian"> <i:args/> </cn>
  <i:infix>
    <mo>+</mo>
    <mn> <i:number> <cn>1</cn> </i:number> </mn>
    <i:infix>
      <mo>&amp;it;</mo>
      <mn> <i:number> <cn>2</cn> </i:number> </mn>
      <mi>i</mi>
    </i:infix>
  </i:infix>
</layout>

<layout name="cn">
  <cn type="complex-polar"> <i:args/> </cn>
  <i:infix>
    <mo>cis</mo>
    <mn> <i:number> <cn>1</cn> </i:number> </mn>
    <mn> <i:number> <cn>2</cn> </i:number> </mn>
  </i:infix>
</layout>

<layout name="cn">
  <cn type="e-notation"> <i:args/> </cn>
  <i:infix>
    <mi>e</mi>
    <mn> <i:number> <cn>1</cn> </i:number> </mn>
    <mn> <i:number> <cn>2</cn> </i:number> </mn>
  </i:infix>
</layout>

<!-- 4.4.1.2 (ci) -->

<layout name="ci">
  <ci> <i:args/> </ci>
  <mi> <i:args/> </mi>
</layout>

<layout name="ci">
  <ci type="vector"> <i:args/> </ci>
  <mi mathvariant="bold"> <i:args/> </mi>
</layout>

<layout name="ci">
  <ci class="multiple"> <i:args/> </ci>
  <mi style="font-style: upright"> <i:rest> <cn>2</cn> </i:rest> </mi>
</layout>

<layout name="ci">
  <ci class="multiple"> <i:x/> </ci>
  <mi style="font-style: upright"> <i:args/> </mi>
</layout>

<!-- 4.4.1.3 (csymbol) -->

<layout name="csymbol">
  <csymbol> <i:args/> </csymbol>
  <mo> <i:args/> </mo>
</layout>

<!-- 4.4.2.1 (apply) -->

<layout name="apply">
  <apply> <apply/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:arg> <cn>1</cn> </i:arg>
    <i:paren>
      <i:infix> <mo>,</mo> <i:rest> <cn>2</cn> </i:rest> </i:infix>
    </i:paren>
  </i:infix>
</layout>

<layout name="apply">
  <apply> <apply class="xapply"/> <i:args/> </apply>
  <i:infix>
    <mo>@</mo>
    <i:arg> <cn>1</cn> </i:arg>
    <i:paren>
      <i:infix> <mo>,</mo> <i:rest> <cn>2</cn> </i:rest> </i:infix>
    </i:paren>
  </i:infix>
</layout>

<layout name="unknown" uri="http://math.pearson.com/MathEX">
  <i:unknown/>
  <mi> <i:label/> </mi>
</layout>

<layout name="unknown" uri="http://math.pearson.com/MathEX">
  <apply> <i:unknown/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<layout name="unknown" uri="http://math.pearson.com/MathEX">
  <apply> <i:unknown class="xapply"/> <i:args/> </apply>
  <i:infix>
    <mo>@</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<!-- 4.4.2.2 (reln) -->

<!-- see (apply) -->

<!-- 4.4.2.3 (fn) -->

<layout name="fn">
  <apply> <fn/> <i:x/> </apply>
  <mrow> <i:op> <cn>1</cn> </i:op> </mrow>
</layout>

<!-- 4.4.2.4 (interval) -->

<layout name="interval">
  <apply> <interval/> <i:x/> <i:y/> </apply>
  <mfenced open="[" close="]"> <i:args/> </mfenced>
</layout>

<layout name="interval">
  <apply> <interval closure="open"/> <i:x/> <i:y/> </apply>
  <mfenced> <i:args/> </mfenced>
</layout>

<layout name="interval">
  <apply> <interval closure="closed-open"/> <i:x/> <i:y/> </apply>
  <mfenced open="["> <i:args/> </mfenced>
</layout>

<layout name="interval">
  <apply> <interval closure="open-closed"/> <i:x/> <i:y/> </apply>
  <mfenced close="]"> <i:args/> </mfenced>
</layout>

<!-- 4.4.2.5 (inverse) -->

<layout name="inverse">
  <inverse/>
  <mi> <i:label/> </mi>
</layout>

<layout name="inverse">
  <apply> <inverse/> <i:x/> </apply>
  <i:power>
    <i:arg> <cn>1</cn> </i:arg>
    <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix>
  </i:power>
</layout>

<!-- 4.4.2.6 (sep) -->

<!-- see (cn) -->

<!-- 4.4.2.7 (condition) -->

<layout name="condition">
  <apply> <condition/> <i:args/> </apply>
  <mrow> <i:arg> <cn>1</cn> </i:arg> </mrow>
</layout>

<!-- 4.4.2.8 (declare) -->

<layout name="declare">
  <apply> <declare/> <i:args/> </apply>
  <mrow/>
</layout>

<!-- 4.4.2.9 (lambda) -->

<layout name="lambda">
  <apply> <lambda/> <i:y/> </apply>
  <i:prefix>
    <mo>&amp;lambda;</mo>
    <i:infix>
      <mo>.</mo>
      <i:paren> <mrow/> </i:paren>
      <i:part> <cn>1</cn> </i:part>
    </i:infix>
  </i:prefix>
</layout>

<layout name="lambda">
  <apply> <lambda/> <i:y/> <i:x/> </apply>
  <i:prefix>
    <mo>&amp;lambda;</mo>
    <i:infix>
      <mo>.</mo>
      <i:paren> <i:part> <cn>2</cn> </i:part> </i:paren>
      <i:part> <cn>1</cn> </i:part>
    </i:infix>
  </i:prefix>
</layout>

<layout name="lvars">
  <apply> <lvars/> <i:args/> </apply>
  <i:infix> <mo>,</mo> <i:args/> </i:infix>
</layout>

<layout name="lvar">
  <apply> <lvar/> <i:x/> </apply>
  <mrow> <i:arg> <cn>1</cn> </i:arg> </mrow>
</layout>

<!-- 4.4.2.10 (compose) -->

<layout name="compose">
  <compose/>
  <mo>&amp;compfn;</mo>
</layout>

<layout name="compose">
  <apply> <compose/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.2.11 (ident) -->

<layout name="ident">
  <ident/>
  <mn>1</mn>
</layout>

<layout name="ident">
  <apply> <ident/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<!-- 4.4.2.12 (domain) -->

<layout name="domain">
  <domain/>
  <mi> <i:label/> </mi>
</layout>

<layout name="domain">
  <apply> <domain/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.2.13 (codomain) -->

<layout name="codomain">
  <codomain/>
  <mi> <i:label/> </mi>
</layout>

<layout name="codomain">
  <apply> <codomain/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.2.14 (image) -->

<layout name="image">
  <image/>
  <mi> <i:label/> </mi>
</layout>

<layout name="image">
  <apply> <image/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.2.15 (domainofapplication) -->

<layout name="domainofapplication">
  <apply> <domainofapplication/> <i:x/> </apply>
  <mrow> <i:arg> <cn>1</cn> </i:arg> </mrow>
</layout>

<!-- 4.4.2.16 (piecewise) -->

<layout name="piecewise">
  <apply> <piecewise/> <i:args/> </apply>
  <mfenced open="{" close="&#x2009;">
    <i:colvector> <i:args/> </i:colvector>
  </mfenced>
</layout>

<!-- 4.4.2.16 (piece) -->

<layout name="piece">
  <apply> <piece/> <i:x/> <i:y/> </apply>
  <mrow>
    <maligngroup/> <i:arg> <cn>1</cn> </i:arg>
    <maligngroup/> <mtext>&amp;ensp;if&amp;ensp;</mtext>
    <i:arg> <cn>2</cn> </i:arg>
  </mrow>
</layout>

<!-- 4.4.2.16 (otherwise) -->

<layout name="otherwise">
  <apply> <otherwise/> <i:x/> </apply>
  <mrow>
    <maligngroup/> <i:arg> <cn>1</cn> </i:arg>
    <maligngroup/> <mtext>&amp;ensp;otherwise</mtext>
  </mrow>
</layout>

<!-- 4.4.3.1 (quotient) -->

<layout name="quotient">
  <quotient/>
  <mi>quo</mi>
</layout>

<layout name="quotient">
  <apply> <quotient/> <i:x/> <i:y/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<!-- 4.4.3.2 (factorial) -->

<layout name="factorial">
  <factorial/>
  <mo>!</mo>
</layout>

<layout name="factorial">
  <apply> <factorial/> <i:x/> </apply>
  <i:suffix> <i:op/> <i:args/> </i:suffix>
</layout>

<!-- 4.4.3.3 (divide) -->

<layout name="divide">
  <divide/>
  <mo>&amp;divide;</mo>
</layout>

<layout name="divide">
  <divide class="sign"/>
  <mo>&amp;divide;</mo>
</layout>

<layout name="divide">
  <divide class="slash"/>
  <mo>&amp;frasl;</mo>
</layout>

<layout name="divide">
  <apply> <divide/> <i:x/> <i:y/> </apply>
  <i:fraction> <i:args/> </i:fraction>
</layout>

<layout name="divide">
  <apply> <divide class="sign"/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="divide">
  <apply> <divide class="slash"/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="divide">
  <apply> <divide class="large"/> <i:x/> <i:y/> </apply>
  <i:fraction>
    <mstyle scriptlevel="-1"> <i:arg> <cn>1</cn> </i:arg> </mstyle>
    <mstyle scriptlevel="-1"> <i:arg> <cn>2</cn> </i:arg> </mstyle>
  </i:fraction>
</layout>

<!-- 4.4.3.4 (max) -->

<layout name="max">
  <max/>
  <mi> <i:label/> </mi>
</layout>

<layout name="max">
  <apply> <max/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:brace> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:brace>
  </i:infix>
</layout>

<!-- 4.4.3.4 (min) -->

<layout name="min">
  <min/>
  <mi> <i:label/> </mi>
</layout>

<layout name="min">
  <apply> <min/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:brace> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:brace>
  </i:infix>
</layout>

<!-- 4.4.3.5 (minus) -->

<layout name="minus">
  <minus/>
  <mo>-</mo>
</layout>

<layout name="minus">
  <apply> <minus/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.3.6 (plus) -->

<layout name="plus">
  <plus/>
  <mo>+</mo>
</layout>

<layout name="plus">
  <plus class="iplus"/>
  <mo>&amp;ip;</mo>
</layout>

<layout name="plus">
  <plus class="splus"/>
  <mphantom> <mo>+</mo> </mphantom>
</layout>

<layout name="plus">
  <apply> <plus/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="plus">
  <apply> <plus/> <i:x/> </apply>
  <i:prefix> <i:op/> <i:args/> </i:prefix>
</layout>

<layout name="plus">
  <apply> <plus class="iplus"/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="plus">
  <apply> <plus class="splus"/> <i:x/> </apply>
  <i:prefix> <i:op/> <i:args/> </i:prefix>
</layout>

<!-- 4.4.3.7 (power) -->

<layout name="power">
  <power/>
  <mi> <i:label/> </mi>
</layout>

<layout name="power">
  <apply> <power/> <i:x/> <i:y/> </apply>
  <i:power> <i:args/> </i:power>
</layout>

<!-- 4.4.3.8 (rem) -->

<layout name="rem">
  <rem/>
  <mi> <i:label/> </mi>
</layout>

<layout name="rem">
  <apply> <rem/> <i:x/> <i:y/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<!-- 4.4.3.9 (times) -->

<layout name="times">
  <times/>
  <mo>&amp;it;</mo>
</layout>

<!-- times with cross sign -->
<layout name="times">
  <times class="sign"/>
  <mo>&amp;times;</mo>
</layout>

<!-- times with dot operator -->
<layout name="times">
  <times class="sdot"/>
  <mo>&amp;sdot;</mo>
</layout>

<!-- times with asterisk -->
<layout name="times">
  <times class="ast"/>
  <mo>&amp;lowast;</mo>
</layout>

<layout name="times">
  <apply> <times/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.3.10 (root) -->

<layout name="root">
  <root/>
  <mi> <i:label/> </mi>
</layout>

<layout name="root">
  <apply> <root/> <i:x/> </apply>
  <msqrt> <i:arg> <cn>1</cn> </i:arg> </msqrt>
</layout>

<layout name="root">
  <apply> <root/> <i:x/> <i:n/> </apply>
  <i:root> <i:arg> <cn>1</cn> </i:arg> <i:arg> <cn>2</cn> </i:arg> </i:root>
</layout>

<!-- 4.4.3.11 (gcd) -->

<layout name="gcd">
  <gcd/>
  <mi> <i:label/> </mi>
</layout>

<layout name="gcd">
  <apply> <gcd/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<!-- 4.4.3.12 (and) -->

<layout name="and">
  <and/>
  <mo>&amp;and;</mo>
</layout>

<layout name="and">
  <apply> <and/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.3.13 (or) -->

<layout name="or">
  <or/>
  <mo>&amp;or;</mo>
</layout>

<layout name="or">
  <apply> <or/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.3.14 (xor) -->

<layout name="xor">
  <xor/>
  <mo>&amp;oplus;</mo>
</layout>

<layout name="xor">
  <apply> <xor/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.3.15 (not) -->

<layout name="not">
  <not/>
  <mo>&amp;not;</mo>
</layout>

<layout name="not">
  <apply> <not/> <i:x/> </apply>
  <i:prefix> <i:op/> <i:args/> </i:prefix>
</layout>

<!-- 4.4.3.16 (implies) -->

<layout name="implies">
  <implies/>
  <mo>&amp;Rightarrow;</mo>
</layout>

<layout name="implies">
  <apply> <implies/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.3.17 (forall) -->

<layout name="forall">
  <forall/>
  <mo>&amp;forall;</mo>
</layout>

<layout name="forall">
  <apply> <forall/> <i:y/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix>
      <mo>.</mo>
      <i:paren> <mrow/> </i:paren>
      <i:part> <cn>1</cn> </i:part>
    </i:infix>
  </i:prefix>
</layout>

<layout name="forall">
  <apply> <forall/> <i:y/> <i:x/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix>
      <mo>.</mo>
      <i:paren> <i:part> <cn>2</cn> </i:part> </i:paren>
      <i:part> <cn>1</cn> </i:part>
    </i:infix>
  </i:prefix>
</layout>

<!-- 4.4.3.18 (exists) -->

<layout name="exists">
  <exists/>
  <mo>&amp;exist;</mo>
</layout>

<layout name="exists">
  <apply> <exists/> <i:y/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix>
      <mo>.</mo>
      <i:paren> <mrow/> </i:paren>
      <i:part> <cn>1</cn> </i:part>
    </i:infix>
  </i:prefix>
</layout>

<layout name="exists">
  <apply> <exists/> <i:y/> <i:x/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix>
      <mo>.</mo>
      <i:paren> <i:part> <cn>2</cn> </i:part> </i:paren>
      <i:part> <cn>1</cn> </i:part>
    </i:infix>
  </i:prefix>
</layout>

<layout name="qvars">
  <apply> <qvars/> <i:args/> </apply>
  <i:infix> <mo>,</mo> <i:args/> </i:infix>
</layout>

<layout name="qvar">
  <apply> <qvar/> <i:x/> </apply>
  <mrow> <i:arg> <cn>1</cn> </i:arg> </mrow>
</layout>

<!-- 4.4.3.19 (abs) -->

<layout name="abs">
  <abs/>
  <mi> <i:label/> </mi>
</layout>

<layout name="abs">
  <apply> <abs/> <i:x/> </apply>
  <mfenced open="|" close="|"> <i:arg> <cn>1</cn> </i:arg> </mfenced>
</layout>

<!-- 4.4.3.20 (conjugate) -->

<layout name="conjugate">
  <conjugate/>
  <mi>conj</mi>
</layout>

<layout name="conjugate">
  <apply> <conjugate/> <i:x/> </apply>
  <mover> <i:arg> <cn>1</cn> </i:arg> <mo>&amp;OverBar;</mo> </mover>
</layout>

<!-- 4.4.3.21 (arg) -->

<layout name="arg">
  <arg/>
  <mi> <i:label/> </mi>
</layout>

<layout name="arg">
  <apply> <arg/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.3.22 (real) -->

<layout name="real">
  <real/>
  <mi>&amp;Rfr;</mi>
</layout>

<layout name="real">
  <apply> <real/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.3.23 (imaginary) -->

<layout name="imaginary">
  <imaginary/>
  <mi>&amp;Ifr;</mi>
</layout>

<layout name="imaginary">
  <apply> <imaginary/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.3.24 (lcm) -->

<layout name="lcm">
  <lcm/>
  <mi> <i:label/> </mi>
</layout>

<layout name="lcm">
  <apply> <lcm/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<!-- 4.4.3.25 (floor) -->

<layout name="floor">
  <floor/>
  <mfenced open="&#x230A;" close="&#x230B;"/>
</layout>

<layout name="floor">
  <apply> <floor/> <i:x/> </apply>
  <mfenced open="&#x230A;" close="&#x230B;"> <i:args/> </mfenced>
</layout>

<!-- 4.4.3.26 (ceiling) -->

<layout name="ceiling">
  <ceiling/>
  <mfenced open="&#x2308;" close="&#x2309;"/>
</layout>

<layout name="ceiling">
  <apply> <ceiling/> <i:x/> </apply>
  <mfenced open="&#x2308;" close="&#x2309;"> <i:args/> </mfenced>
</layout>

<!-- 4.4.4.1 (eq) -->

<layout name="eq">
  <eq/>
  <mo>=</mo>
</layout>

<layout name="eq">
  <apply> <eq/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="eq">
  <apply> <eq class="align"/> <i:x/> <i:y/> </apply>
  <i:row>
    <maligngroup groupalign="right"/> <i:arg> <cn>1</cn> </i:arg>
    <maligngroup groupalign="center"/> <i:op/>
    <maligngroup groupalign="left"/> <i:arg> <cn>2</cn> </i:arg>
  </i:row>
</layout>

<!-- 4.4.4.2 (neq) -->

<layout name="neq">
  <neq/>
  <mo>&amp;ne;</mo>
</layout>

<layout name="neq">
  <apply> <neq/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="neq">
  <apply> <neq class="align"/> <i:x/> <i:y/> </apply>
  <i:row>
    <maligngroup groupalign="right"/> <i:arg> <cn>1</cn> </i:arg>
    <maligngroup groupalign="center"/> <i:op/>
    <maligngroup groupalign="left"/> <i:arg> <cn>2</cn> </i:arg>
  </i:row>
</layout>

<!-- 4.4.4.3 (gt) -->

<layout name="gt">
  <gt/>
  <mo>&amp;gt;</mo>
</layout>

<layout name="gt">
  <apply> <gt/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="gt">
  <apply> <gt class="align"/> <i:x/> <i:y/> </apply>
  <i:row>
    <maligngroup groupalign="right"/> <i:arg> <cn>1</cn> </i:arg>
    <maligngroup groupalign="center"/> <i:op/>
    <maligngroup groupalign="left"/> <i:arg> <cn>2</cn> </i:arg>
  </i:row>
</layout>

<!-- 4.4.4.4 (lt) -->

<layout name="lt">
  <lt/>
  <mo>&amp;lt;</mo>
</layout>

<layout name="lt">
  <apply> <lt/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="lt">
  <apply> <lt class="align"/> <i:x/> <i:y/> </apply>
  <i:row>
    <maligngroup groupalign="right"/> <i:arg> <cn>1</cn> </i:arg>
    <maligngroup groupalign="center"/> <i:op/>
    <maligngroup groupalign="left"/> <i:arg> <cn>2</cn> </i:arg>
  </i:row>
</layout>

<!-- 4.4.4.5 (geq) -->

<layout name="geq">
  <geq/>
  <mo>&amp;geq;</mo>
</layout>

<layout name="geq">
  <apply> <geq/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="geq">
  <apply> <geq class="align"/> <i:x/> <i:y/> </apply>
  <i:row>
    <maligngroup groupalign="right"/> <i:arg> <cn>1</cn> </i:arg>
    <maligngroup groupalign="center"/> <i:op/>
    <maligngroup groupalign="left"/> <i:arg> <cn>2</cn> </i:arg>
  </i:row>
</layout>

<!-- 4.4.4.6 (leq) -->

<layout name="leq">
  <leq/>
  <mo>&amp;leq;</mo>
</layout>

<layout name="leq">
  <apply> <leq/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="leq">
  <apply> <leq class="align"/> <i:x/> <i:y/> </apply>
  <i:row>
    <maligngroup groupalign="right"/> <i:arg> <cn>1</cn> </i:arg>
    <maligngroup groupalign="center"/> <i:op/>
    <maligngroup groupalign="left"/> <i:arg> <cn>2</cn> </i:arg>
  </i:row>
</layout>

<!-- 4.4.4.7 (equivalent) -->

<layout name="equivalent">
  <equivalent/>
  <mo>&amp;equiv;</mo>
</layout>

<layout name="equivalent">
  <apply> <equivalent/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.7 (nequivalent) -->

<layout name="nequivalent">
  <nequivalent/>
  <mo>&amp;nequiv;</mo>
</layout>

<layout name="nequivalent">
  <apply> <nequivalent/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.8 (approx) -->

<layout name="approx">
  <approx/>
  <mo>&amp;approx;</mo>
</layout>

<layout name="approx">
  <apply> <approx/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.8 (napprox) -->

<layout name="napprox">
  <napprox/>
  <mo>&amp;napprox;</mo>
</layout>

<layout name="napprox">
  <apply> <napprox/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.8 (sim) -->

<layout name="sim">
  <sim/>
  <mo>&amp;sim;</mo>
</layout>

<layout name="sim">
  <apply> <sim/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.8 (nsim) -->

<layout name="nsim">
  <nsim/>
  <mo>&amp;nsim;</mo>
</layout>

<layout name="nsim">
  <apply> <nsim/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.8 (simeq) -->

<layout name="simeq">
  <simeq/>
  <mo>&amp;simeq;</mo>
</layout>

<layout name="simeq">
  <apply> <simeq/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.8 (nsimeq) -->

<layout name="nsimeq">
  <nsimeq/>
  <mo>&amp;nsimeq;</mo>
</layout>

<layout name="nsimeq">
  <apply> <nsimeq/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.8 (cong) -->

<layout name="cong">
  <cong/>
  <mo>&amp;cong;</mo>
</layout>

<layout name="cong">
  <apply> <cong/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.8 (ncong) -->

<layout name="ncong">
  <ncong/>
  <mo>&amp;ncong;</mo>
</layout>

<layout name="ncong">
  <apply> <ncong/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.4.9 (factorof) -->

<layout name="factorof">
  <factorof/>
  <mo>&amp;mid;</mo>
</layout>

<layout name="factorof">
  <apply> <factorof/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.5.1 (int) -->

<layout name="int">
  <int/>
  <mo>&amp;int;</mo>
</layout>

<layout name="int">
  <apply> <int/> <i:y/> </apply>
  <i:prefix>
    <mstyle displaystyle="true"> <i:op/> </mstyle>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="int">
  <apply> <int/> <i:y/> <i:x/> </apply>
  <mrow>
    <mstyle displaystyle="true"> <i:op/> </mstyle>
    <i:arg> <cn>1</cn> </i:arg>
    <mo>&amp;dd;</mo>
    <i:arg> <cn>2</cn> </i:arg>
  </mrow>
</layout>

<layout name="int">
  <apply> <int/> <i:y/> <i:x/> <i:a/> </apply>
  <mrow>
    <mstyle displaystyle="true">
      <i:sub> <i:op/> <i:arg> <cn>3</cn> </i:arg> </i:sub>
    </mstyle>
    <i:arg> <cn>1</cn> </i:arg>
    <mo>&amp;dd;</mo>
    <i:arg> <cn>2</cn> </i:arg>
  </mrow>
</layout>

<layout name="int">
  <apply> <int/> <i:y/> <i:x/> <i:a/> <i:b/> </apply>
  <mrow>
    <mstyle displaystyle="true">
      <msubsup>
        <i:op/>
        <i:arg> <cn>3</cn> </i:arg>
        <i:arg> <cn>4</cn> </i:arg>
      </msubsup>
    </mstyle>
    <i:arg> <cn>1</cn> </i:arg>
    <mo>&amp;dd;</mo>
    <i:arg> <cn>2</cn> </i:arg>
  </mrow>
</layout>

<layout name="int">
  <apply> <int/> <i:y/> <i:x/> <domainofapplication> <i:a/> </domainofapplication> </apply>
  <i:prefix>
    <mstyle displaystyle="true">
      <i:sub> <i:op/> <i:arg> <cn>3</cn> </i:arg> </i:sub>
    </mstyle>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<!-- 4.4.5.2 (diff) -->

<layout name="diff">
  <diff/>
  <mo>&amp;dd;</mo>
</layout>

<layout name="diff">
  <apply> <diff/> <i:y/> </apply>
  <i:prefix> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:prefix>
</layout>

<layout name="diff">
  <apply> <diff/> <i:y/> <i:x/> </apply>
  <i:prefix>
    <i:fraction>
      <i:op/>
      <i:prefix> <i:op/> <i:arg> <cn>2</cn> </i:arg> </i:prefix>
    </i:fraction>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="diff">
  <apply> <diff/> <i:y/> <i:x/> <i:n/> </apply>
  <i:prefix>
    <i:fraction>
      <i:power> <i:op/> <i:arg> <cn>3</cn> </i:arg> </i:power>
      <i:prefix>
        <i:op/>
        <i:power>
          <i:arg> <cn>2</cn> </i:arg>
          <i:arg> <cn>3</cn> </i:arg>
        </i:power>
      </i:prefix>
    </i:fraction>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<!-- 4.4.5.3 (partialdiff) -->

<layout name="partialdiff">
  <partialdiff/>
  <mo>&amp;part;</mo>
</layout>

<layout name="partialdiff">
  <apply> <partialdiff/> <i:y/> </apply>
  <i:prefix> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:prefix>
</layout>

<layout name="partialdiff">
  <apply> <partialdiff/> <i:y/> <i:x/> </apply>
  <i:prefix>
    <i:fraction> <i:op/> <i:arg> <cn>2</cn> </i:arg> </i:fraction>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="partialdiff">
  <apply> <partialdiff/> <i:y/> <i:x/> <i:n/> </apply>
  <i:prefix>
    <i:fraction>
      <i:power>
        <i:op/>
        <i:arg> <cn>3</cn> </i:arg>
      </i:power>
      <i:arg> <cn>2</cn> </i:arg>
    </i:fraction>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="pvars">
  <apply> <pvars/> <i:args/> </apply>
  <i:infix> <mspace width="thinmathspace"/> <i:args/> </i:infix>
</layout>

<layout name="pvars">
  <apply> <pvars/> <i:x/> </apply>
  <mrow> <i:args/> </mrow>
</layout>

<layout name="pvar">
  <apply> <pvar/> <i:x/> </apply>
  <i:prefix> <mo>&amp;part;</mo> <i:arg> <cn>1</cn> </i:arg> </i:prefix>
</layout>

<layout name="pvar">
  <apply> <pvar/> <i:x/> <i:n/> </apply>
  <i:prefix>
    <mo>&amp;part;</mo>
    <i:power>
      <i:arg> <cn>1</cn> </i:arg>
      <i:arg> <cn>2</cn> </i:arg>
    </i:power>
  </i:prefix>
</layout>

<!-- 4.4.5.4 (lowlimit) -->

<!-- see (int) -->

<!-- 4.4.5.5 (uplimit) -->

<!-- see (int) -->

<!-- 4.4.5.6 (bvar) -->

<!-- see (diff) -->

<!-- 4.4.5.7 (degree) -->

<!-- see (diff) -->

<!-- 4.4.5.8 (divergence) -->

<layout name="divergence">
  <divergence/>
  <mi>div</mi>
</layout>

<layout name="divergence">
  <apply> <divergence/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.5.9 (grad) -->

<layout name="grad">
  <grad/>
  <mi> <i:label/> </mi>
</layout>

<layout name="grad">
  <apply> <grad/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.5.10 (curl) -->

<layout name="curl">
  <curl/>
  <mi> <i:label/> </mi>
</layout>

<layout name="curl">
  <apply> <curl/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.5.11 (laplacian) -->

<layout name="laplacian">
  <laplacian/>
  <i:power> <mi>&amp;nabla;</mi> <mn>2</mn> </i:power>
</layout>

<layout name="laplacian">
  <apply> <laplacian/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.6.1 (set) -->

<layout name="set">
  <apply> <set/> <i:args/> </apply>
  <i:brace> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:brace>
</layout>

<!-- 4.4.6.2 (list) -->

<layout name="list">
  <apply> <list/> <i:args/> </apply>
  <i:bracket> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:bracket>
</layout>

<!-- 4.4.6.3 (union) -->

<layout name="union">
  <union/>
  <mo>&amp;cup;</mo>
</layout>

<layout name="union">
  <apply> <union/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.4 (intersect) -->

<layout name="intersect">
  <intersect/>
  <mo>&amp;cap;</mo>
</layout>

<layout name="intersect">
  <apply> <intersect/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.5 (in) -->

<layout name="in">
  <in/>
  <mo>&amp;in;</mo>
</layout>

<layout name="in">
  <apply> <in/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.6 (notin) -->

<layout name="notin">
  <notin/>
  <mo>&amp;notin;</mo>
</layout>

<layout name="notin">
  <apply> <notin/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.7 (subset) -->

<layout name="subset">
  <subset/>
  <mo>&amp;subseteq;</mo>
</layout>

<layout name="subset">
  <apply> <subset/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.7 (supset) -->

<layout name="supset">
  <supset/>
  <mo>&amp;supseteq;</mo>
</layout>

<layout name="supset">
  <apply> <supset/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.8 (prsubset) -->

<layout name="prsubset">
  <prsubset/>
  <mo>&amp;subset;</mo>
</layout>

<layout name="prsubset">
  <apply> <prsubset/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.8 (prsupset) -->

<layout name="prsupset">
  <prsupset/>
  <mo>&amp;supset;</mo>
</layout>

<layout name="prsupset">
  <apply> <prsupset/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.9 (notsubset) -->

<layout name="notsubset">
  <notsubset/>
  <mo>&amp;nsubseteq;</mo>
</layout>

<layout name="notsubset">
  <apply> <notsubset/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.9 (notsupset) -->

<layout name="notsupset">
  <notsupset/>
  <mo>&amp;nsupseteq;</mo>
</layout>

<layout name="notsupset">
  <apply> <notsupset/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.10 (notprsubset) -->

<layout name="notprsubset">
  <notprsubset/>
  <mo>&amp;nsub;</mo>
</layout>

<layout name="notprsubset">
  <apply> <notprsubset/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.10 (notprsupset) -->

<layout name="notprsupset">
  <notprsupset/>
  <mo>&amp;nsup;</mo>
</layout>

<layout name="notprsupset">
  <apply> <notprsupset/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.11 (setdiff) -->

<layout name="setdiff">
  <setdiff/>
  <mo>&amp;setminus;</mo>
</layout>

<layout name="setdiff">
  <apply> <setdiff/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.6.12 (card) -->

<layout name="card">
  <card/>
  <mi> <i:label/> </mi>
</layout>

<layout name="card">
  <apply> <card/> <i:x/> </apply>
  <mfenced open="|" close="|"> <i:arg> <cn>1</cn> </i:arg> </mfenced>
</layout>

<!-- 4.4.6.13 (cartesianproduct) -->

<layout name="cartesianproduct">
  <cartesianproduct/>
  <mo>&amp;times;</mo>
</layout>

<layout name="cartesianproduct">
  <apply> <cartesianproduct/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.7.1 (sum) -->

<layout name="sum">
  <sum/>
  <mstyle displaystyle="true"> <mo movablelimits="false">&amp;sum;</mo> </mstyle>
</layout>

<layout name="sum">
  <apply> <sum/> <i:y/> </apply>
  <i:prefix>
    <i:op/>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="sum">
  <apply> <sum/> <i:y/> <i:x/> </apply>
  <i:prefix>
    <munder> <i:op/> <i:arg> <cn>2</cn> </i:arg> </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="sum">
  <apply> <sum/> <i:y/> <i:x/> <i:a/> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>=</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
      </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="sum">
  <apply> <sum/> <i:y/> <i:x/> <i:a/> <i:b/> </apply>
  <i:prefix>
    <munderover>
      <i:op/>
      <i:infix>
        <mo>=</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
      <i:arg> <cn>4</cn> </i:arg>
    </munderover>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="sum">
  <apply> <sum/> <i:y/> <i:x/> <interval> <i:a/> <i:b/> </interval> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>&amp;in;</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="sum">
  <apply> <sum/> <i:y/> <i:x/> <condition> <i:a/> </condition> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:arg> <cn>3</cn> </i:arg>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="sum">
  <apply> <sum/> <i:y/> <i:x/> <domainofapplication> <i:a/> </domainofapplication> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>&amp;in;</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="sum1">
  <apply> <sum1/> <i:y/> </apply>
  <i:prefix>
    <munderover>
      <mstyle displaystyle="true"> <mo movablelimits="false">&amp;sum;</mo> </mstyle>
      <i:infix>
        <mo>=</mo>
        <mi>i</mi>
        <mn>1</mn>
      </i:infix>
      <mi>n</mi>
    </munderover>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<!-- 4.4.7.2 (product) -->

<layout name="product">
  <product/>
  <mstyle displaystyle="true"> <mo movablelimits="false">&amp;prod;</mo> </mstyle>
</layout>

<layout name="product">
  <apply> <product/> <i:y/> </apply>
  <i:prefix>
    <i:op/>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="product">
  <apply> <product/> <i:y/> <i:x/> </apply>
  <i:prefix>
    <munder> <i:op/> <i:arg> <cn>2</cn> </i:arg> </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="product">
  <apply> <product/> <i:y/> <i:x/> <i:a/> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>=</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
      </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="product">
  <apply> <product/> <i:y/> <i:x/> <i:a/> <i:b/> </apply>
  <i:prefix>
    <munderover>
      <i:op/>
      <i:infix>
        <mo>=</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
      <i:arg> <cn>4</cn> </i:arg>
    </munderover>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="product">
  <apply> <product/> <i:y/> <i:x/> <interval> <i:a/> <i:b/> </interval> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>&amp;in;</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="product">
  <apply> <product/> <i:y/> <i:x/> <condition> <i:a/> </condition> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:arg> <cn>3</cn> </i:arg>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="product">
  <apply> <product/> <i:y/> <i:x/> <domainofapplication> <i:a/> </domainofapplication> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>&amp;in;</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<!-- 4.4.7.3 (limit) -->

<layout name="limit">
  <limit/>
  <mstyle displaystyle="true"> <mo movablelimits="false">lim</mo> </mstyle>
</layout>

<layout name="limit">
  <apply> <limit/> <i:y/> <i:x/> <i:a/> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>&amp;rightarrow;</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:arg> <cn>3</cn> </i:arg>
      </i:infix>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="limit">
  <apply> <limit type="above"/> <i:y/> <i:x/> <i:a/> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>&amp;rightarrow;</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:sup> <i:arg> <cn>3</cn> </i:arg> <mo>+</mo> </i:sup>
      </i:infix>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="limit">
  <apply> <limit type="below"/> <i:y/> <i:x/> <i:a/> </apply>
  <i:prefix>
    <munder>
      <i:op/>
      <i:infix>
        <mo>&amp;rightarrow;</mo>
        <i:arg> <cn>2</cn> </i:arg>
        <i:sup> <i:arg> <cn>3</cn> </i:arg> <mo>-</mo> </i:sup>
      </i:infix>
    </munder>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<!-- 4.4.7.4 (tendsto) -->

<layout name="tendsto">
  <tendsto/>
  <mo>&amp;rightarrow;</mo>
</layout>

<layout name="tendsto">
  <apply> <tendsto/> <i:x/> <i:y/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="tendsto">
  <apply> <tendsto type="above"/> <i:x/> <i:y/> </apply>
  <i:infix>
    <i:op/>
    <i:arg> <cn>1</cn> </i:arg>
    <i:sup> <i:arg> <cn>2</cn> </i:arg> <mo>+</mo> </i:sup>
  </i:infix>
</layout>

<layout name="tendsto">
  <apply> <tendsto type="below"/> <i:x/> <i:y/> </apply>
  <i:infix>
    <i:op/>
    <i:arg> <cn>1</cn> </i:arg>
    <i:sup> <i:arg> <cn>2</cn> </i:arg> <mo>-</mo> </i:sup>
  </i:infix>
</layout>

<!-- 4.4.8.1 (sin) -->

<layout name="sin">
  <sin/>
  <mi> <i:label/> </mi>
</layout>

<layout name="sin">
  <apply> <sin/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (cos) -->

<layout name="cos">
  <cos/>
  <mi> <i:label/> </mi>
</layout>

<layout name="cos">
  <apply> <cos/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (tan) -->

<layout name="tan">
  <tan/>
  <mi> <i:label/> </mi>
</layout>

<layout name="tan">
  <apply> <tan/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (sec) -->

<layout name="sec">
  <sec/>
  <mi> <i:label/> </mi>
</layout>

<layout name="sec">
  <apply> <sec/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (csc) -->

<layout name="csc">
  <csc/>
  <mi> <i:label/> </mi>
</layout>

<layout name="csc">
  <apply> <csc/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (cot) -->

<layout name="cot">
  <cot/>
  <mi> <i:label/> </mi>
</layout>

<layout name="cot">
  <apply> <cot/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (sinh) -->

<layout name="sinh">
  <sinh/>
  <mi> <i:label/> </mi>
</layout>

<layout name="sinh">
  <apply> <sinh/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (cosh) -->

<layout name="cosh">
  <cosh/>
  <mi> <i:label/> </mi>
</layout>

<layout name="cosh">
  <apply> <cosh/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (tanh) -->

<layout name="tanh">
  <tanh/>
  <mi> <i:label/> </mi>
</layout>

<layout name="tanh">
  <apply> <tanh/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (sech) -->

<layout name="sech">
  <sech/>
  <mi> <i:label/> </mi>
</layout>

<layout name="sech">
  <apply> <sech/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (csch) -->

<layout name="csch">
  <csch/>
  <mi> <i:label/> </mi>
</layout>

<layout name="csch">
  <apply> <csch/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (coth) -->

<layout name="coth">
  <coth/>
  <mi> <i:label/> </mi>
</layout>

<layout name="coth">
  <apply> <coth/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arcsin) -->

<layout name="arcsin">
  <arcsin/>
  <i:power> <mi>sin</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arcsin">
  <apply> <arcsin/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arccos) -->

<layout name="arccos">
  <arccos/>
  <i:power> <mi>cos</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arccos">
  <apply> <arccos/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arctan) -->

<layout name="arctan">
  <arctan/>
  <i:power> <mi>tan</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arctan">
  <apply> <arctan/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arcsec) -->

<layout name="arcsec">
  <arcsec/>
  <i:power> <mi>sec</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arcsec">
  <apply> <arcsec/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arccsc) -->

<layout name="arccsc">
  <arccsc/>
  <i:power> <mi>csc</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arccsc">
  <apply> <arccsc/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arccot) -->

<layout name="arccot">
  <arccot/>
  <i:power> <mi>cot</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arccot">
  <apply> <arccot/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arcsinh) -->

<layout name="arcsinh">
  <arcsinh/>
  <i:power> <mi>sinh</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arcsinh">
  <apply> <arcsinh/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arccosh) -->

<layout name="arccosh">
  <arccosh/>
  <i:power> <mi>cosh</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arccosh">
  <apply> <arccosh/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arctanh) -->

<layout name="arctanh">
  <arctanh/>
  <i:power> <mi>tanh</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arctanh">
  <apply> <arctanh/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arcsech) -->

<layout name="arcsech">
  <arcsech/>
  <i:power> <mi>sech</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arcsech">
  <apply> <arcsech/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arccsch) -->

<layout name="arccsch">
  <arccsch/>
  <i:power> <mi>csch</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arccsch">
  <apply> <arccsch/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.1 (arccoth) -->

<layout name="arccoth">
  <arccoth/>
  <i:power> <mi>coth</mi> <i:prefix> <mo>-</mo> <mn>1</mn> </i:prefix> </i:power>
</layout>

<layout name="arccoth">
  <apply> <arccoth/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.2 (exp) -->

<layout name="exp">
  <exp/>
  <mi> <i:label/> </mi>
</layout>

<layout name="exp">
  <apply> <exp/> <i:x/> </apply>
  <i:power> <mi>e</mi> <i:arg> <cn>1</cn> </i:arg> </i:power>
</layout>

<!-- 4.4.8.3 (ln) -->

<layout name="ln">
  <ln/>
  <mi> <i:label/> </mi>
</layout>

<layout name="ln">
  <apply> <ln/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.8.4 (log) -->

<layout name="log">
  <log/>
  <mi> <i:label/> </mi>
</layout>

<layout name="log">
  <apply> <log/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<layout name="log">
  <apply> <log/> <i:x/> <i:n/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:sub> <i:op/> <i:arg> <cn>2</cn> </i:arg> </i:sub>
    <i:arg> <cn>1</cn> </i:arg>
  </i:infix>
</layout>

<!-- 4.4.8.4 (logbase) -->

<!-- see (log) -->

<!-- 4.4.9.1 (mean) -->

<layout name="mean">
  <mean/>
  <mi> <i:label/> </mi>
</layout>

<layout name="mean">
  <apply> <mean/> <i:args/> </apply>
  <mfenced open="&lt;" close="&gt;">
    <i:infix> <mo>,</mo> <i:args/> </i:infix>
  </mfenced>
</layout>

<layout name="mean">
  <apply> <mean/> <i:x/> </apply>
  <mover> <i:arg> <cn>1</cn> </i:arg> <mo>&amp;OverBar;</mo> </mover>
</layout>

<layout name="mean">
  <apply> <mean/> </apply>
  <mi> &amp;mu; </mi>
</layout>

<!-- 4.4.9.2 (sdev) -->

<layout name="sdev">
  <sdev/>
  <mi>&amp;sigma;</mi>
</layout>

<layout name="sdev">
  <apply> <sdev/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<layout name="sdev">
  <apply> <sdev/> <i:x/> </apply>
  <i:prefix> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:prefix>
</layout>

<layout name="sdev">
  <apply> <sdev/> </apply>
  <mi> &amp;sigma; </mi>
</layout>

<!-- 4.4.9.3 (variance) -->

<layout name="variance">
  <variance/>
  <i:power> <mi>&amp;sigma;</mi> <mn>2</mn> </i:power>
</layout>

<layout name="variance">
  <apply> <variance/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<layout name="variance">
  <apply> <variance/> <i:x/> </apply>
  <i:prefix> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:prefix>
</layout>

<!-- 4.4.9.4 (median) -->

<layout name="median">
  <median/>
  <mi> <i:label/> </mi>
</layout>

<layout name="median">
  <apply> <median/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<!-- 4.4.9.5 (mode) -->

<layout name="mode">
  <mode/>
  <mi> <i:label/> </mi>
</layout>

<layout name="mode">
  <apply> <mode/> <i:args/> </apply>
  <i:infix>
    <mo>&amp;af;</mo>
    <i:op/>
    <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
  </i:infix>
</layout>

<!-- 4.4.9.6 (moment) -->

<layout name="moment">
  <moment/>
  <mi> <i:label/> </mi>
</layout>

<layout name="moment">
  <apply> <moment/> <i:x/> </apply>
  <mfenced open="&lt;" close="&gt;">
    <i:arg> <cn>1</cn> </i:arg>
  </mfenced>
</layout>

<layout name="moment">
  <apply> <moment/> <i:x/> <i:n/> </apply>
  <mfenced open="&lt;" close="&gt;">
    <i:power>
      <i:arg> <cn>1</cn> </i:arg>
      <i:arg> <cn>2</cn> </i:arg>
    </i:power>
  </mfenced>
</layout>

<layout name="moment">
  <apply> <moment/> <i:x/> <i:n/> <i:p/> </apply>
  <mfenced open="&lt;" close="&gt;">
    <i:power>
      <i:paren>
        <i:infix>
          <mo>-</mo>
          <i:arg> <cn>1</cn> </i:arg>
          <i:arg> <cn>3</cn> </i:arg>
        </i:infix>
      </i:paren>
      <i:arg> <cn>2</cn> </i:arg>
    </i:power>
  </mfenced>
</layout>

<!-- 4.4.9.7 (momentabout) -->

<!-- see (moment) -->

<!-- 4.4.10.1 (vector) -->

<layout name="vector">
  <apply> <vector/> <i:args/> </apply>
  <i:bracket> <i:colvector> <i:args/> </i:colvector> </i:bracket>
</layout>

<!-- 4.4.10.2 (matrix) -->

<layout name="matrix">
  <matrix> <i:args/> </matrix>
  <i:paren> <i:matrix> <i:args/> </i:matrix> </i:paren>
</layout>

<!-- 4.4.10.3 (matrixrow) -->

<layout name="matrixrow">
  <matrixrow> <i:args/> </matrixrow>
  <i:rowvector> <i:args/> </i:rowvector>
</layout>

<!-- 4.4.10.4 (determinant) -->

<layout name="determinant">
  <determinant/>
  <mi>det</mi>
</layout>

<layout name="determinant">
  <apply> <determinant/> <i:x/> </apply>
  <i:infix> <mo>&amp;af;</mo> <i:op/> <i:arg> <cn>1</cn> </i:arg> </i:infix>
</layout>

<!-- 4.4.10.5 (transpose) -->

<layout name="transpose">
  <transpose/>
  <mi> <i:label/> </mi>
</layout>

<layout name="transpose">
  <apply> <transpose/> <i:x/> </apply>
  <i:power> <i:arg> <cn>1</cn> </i:arg> <mtext>T</mtext> </i:power>
</layout>

<!-- 4.4.10.6 (selector) -->

<layout name="selector">
  <selector/>
  <mi> <i:label/> </mi>
</layout>

<layout name="selector">
  <apply> <selector/> <i:args/> </apply>
  <i:sub>
    <i:arg> <cn>1</cn> </i:arg>
    <i:infix>
      <mo rspace="verythinmathspace">,</mo>
      <i:rest> <cn>2</cn> </i:rest>
    </i:infix>
  </i:sub>
</layout>

<!-- 4.4.10.7 (vectorproduct) -->

<layout name="vectorproduct">
  <vectorproduct/>
  <mo>&amp;times;</mo>
</layout>

<layout name="vectorproduct">
  <apply> <vectorproduct/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.10.8 (scalarproduct) -->

<layout name="scalarproduct">
  <scalarproduct/>
  <mo>&amp;sdot;</mo>
</layout>

<layout name="scalarproduct">
  <apply> <scalarproduct/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.10.9 (outerproduct) -->

<layout name="outerproduct">
  <outerproduct/>
  <mo>&amp;otimes;</mo>
</layout>

<layout name="outerproduct">
  <apply> <outerproduct/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- 4.4.11.1 (annotation) -->

<layout name="annotation">
  <apply> <annotation/> <i:args/> </apply>
  <i:brace> <mtext> <i:args/> </mtext> </i:brace>
</layout>

<layout name="annotation">
  <apply encoding="*"> <annotation/> <i:args/> </apply>
  <i:sub>
    <i:brace> <mtext> <i:args/> </mtext> </i:brace>
    <mtext> <i:attrib encoding="*"/> </mtext>
  </i:sub>
</layout>

<!-- 4.4.11.2 (semantics) -->

<layout name="semantics">
  <apply> <semantics/> <i:args/> </apply>
  <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
</layout>

<layout name="semantics">
  <apply class="display"> <semantics/> <i:x/> <apply encoding="MathML-Presentation"> <annotation-xml/> <i:y/> </apply> </apply>
  <mrow> <i:arg> <cn>2</cn> <cn>1</cn> </i:arg> </mrow>
</layout>

<!-- 4.4.11.3 (annotation-xml) -->

<layout name="annotation-xml">
  <apply> <annotation-xml/> <i:args/> </apply>
  <i:bracket> <i:arg> <cn>1</cn> </i:arg> </i:bracket>
</layout>

<layout name="annotation-xml">
  <apply encoding="*"> <annotation-xml/> <i:args/> </apply>
  <i:sub>
    <i:bracket> <i:arg> <cn>1</cn> </i:arg> </i:bracket>
    <mtext> <i:attrib encoding="*"/> </mtext>
  </i:sub>
</layout>

<!-- 4.4.12.1 (integers) -->

<layout name="integers">
  <apply> <integers/> </apply>
  <mi>&amp;Zopf;</mi>
</layout>

<!-- 4.4.12.2 (reals) -->

<layout name="reals">
  <apply> <reals/> </apply>
  <mi>&amp;Ropf;</mi>
</layout>

<!-- 4.4.12.3 (rationals) -->

<layout name="rationals">
  <apply> <rationals/> </apply>
  <mi>&amp;Qopf;</mi>
</layout>

<!-- 4.4.12.4 (naturalnumbers) -->

<layout name="naturalnumbers">
  <apply> <naturalnumbers/> </apply>
  <mi>&amp;Nopf;</mi>
</layout>

<!-- 4.4.12.5 (complexes) -->

<layout name="complexes">
  <apply> <complexes/> </apply>
  <mi>&amp;Copf;</mi>
</layout>

<!-- 4.4.12.6 (primes) -->

<layout name="primes">
  <apply> <primes/> </apply>
  <mi>&amp;Popf;</mi>
</layout>

<!-- 4.4.12.7 (exponentiale) -->

<layout name="exponentiale">
  <apply> <exponentiale/> </apply>
  <mi>e</mi>
</layout>

<!-- 4.4.12.8 (imaginaryi) -->

<layout name="imaginaryi">
  <apply> <imaginaryi/> </apply>
  <mi>i</mi>
</layout>

<!-- 4.4.12.9 (notanumber) -->

<layout name="notanumber">
  <apply> <notanumber/> </apply>
  <mi>NaN</mi>
</layout>

<!-- 4.4.12.10 (true) -->

<layout name="true">
  <apply> <true/> </apply>
  <mi>true</mi>
</layout>

<!-- 4.4.12.11 (false) -->

<layout name="false">
  <apply> <false/> </apply>
  <mi>false</mi>
</layout>

<!-- 4.4.12.12 (emptyset) -->

<layout name="emptyset">
  <apply> <emptyset/> </apply>
  <mi>&amp;emptyset;</mi>
</layout>

<!-- 4.4.12.13 (pi) -->

<layout name="pi">
  <apply> <pi/> </apply>
  <mi>&amp;pi;</mi>
</layout>

<!-- 4.4.12.14 (eulergamma) -->

<layout name="eulergamma">
  <apply> <eulergamma/> </apply>
  <mi>&amp;gamma;</mi>
</layout>

<!-- 4.4.12.15 (infinity) -->

<layout name="infinity">
  <apply> <infinity/> </apply>
  <mi>&amp;infin;</mi>
</layout>

<!-- Custom geometry operators -->

<layout name="ray">
  <apply> <ray/> <i:args/> </apply>
  <mover>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
    <mo>&amp;rightarrow;</mo>
  </mover>
</layout>

<layout name="line">
  <apply> <line/> <i:args/> </apply>
  <mover>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
    <mo>&amp;leftrightarrow;</mo>
  </mover>
</layout>

<layout name="segment">
  <apply> <segment/> <i:args/> </apply>
  <mover>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
    <mo>&amp;OverBar;</mo>
  </mover>
</layout>

<layout name="arc">
  <apply> <arc/> <i:args/> </apply>
  <mover>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
    <mo>&amp;OverParenthesis;</mo>
  </mover>
</layout>

<layout name="parallel">
  <parallel/>
  <mo>&amp;parallel;</mo>
</layout>

<layout name="parallel">
  <apply> <parallel/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="nparallel">
  <nparallel/>
  <mo>&amp;nparallel;</mo>
</layout>

<layout name="nparallel">
  <apply> <nparallel/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="perp">
  <perp/>
  <mo>&amp;perp;</mo>
</layout>

<layout name="perp">
  <apply> <perp/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="nperp">
  <nperp/>
  <mo>&amp;nperp;</mo>
</layout>

<layout name="nperp">
  <apply> <nperp/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="angle">
  <angle/>
  <mo lspace="thinmathspace" rspace="thinmathspace">&amp;angle;</mo>
</layout>

<layout name="angle">
  <apply> <angle/> <i:args/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
  </i:prefix>
</layout>

<layout name="rightangle">
  <rightangle/>
  <mo lspace="thinmathspace" rspace="thinmathspace">&amp;angrt;</mo>
</layout>

<layout name="rightangle">
  <apply> <rightangle/> <i:args/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
  </i:prefix>
</layout>

<layout name="measuredangle">
  <measuredangle/>
  <mo lspace="thinmathspace" rspace="thinmathspace">&amp;angmsd;</mo>
</layout>

<layout name="measuredangle">
  <apply> <measuredangle/> <i:args/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
  </i:prefix>
</layout>

<layout name="sphericalangle">
  <sphericalangle/>
  <mo lspace="thinmathspace" rspace="thinmathspace">&amp;angsph;</mo>
</layout>

<layout name="sphericalangle">
  <apply> <sphericalangle/> <i:args/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
  </i:prefix>
</layout>

<layout name="anglemeasure">
  <apply> <anglemeasure/> <i:args/> </apply>
  <i:prefix>
    <mtext>m</mtext>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
  </i:prefix>
</layout>

<layout name="triangle">
  <triangle/>
  <mo>&amp;triangle;</mo>
</layout>

<layout name="triangle">
  <apply> <triangle/> <i:args/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
  </i:prefix>
</layout>

<layout name="parallelogram">
  <parallelogram/>
  <mo>&amp;fltns;</mo>
</layout>

<layout name="parallelogram">
  <apply> <parallelogram/> <i:args/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
  </i:prefix>
</layout>

<layout name="circle">
  <circle/>
  <mo>&amp;odot;</mo>
</layout>

<layout name="circle">
  <apply> <circle/> <i:args/> </apply>
  <i:prefix>
    <i:op/>
    <i:infix> <mo>&amp;ic;</mo> <i:args/> </i:infix>
  </i:prefix>
</layout>

<!-- Custom relational operators -->

<layout name="doteq">
  <doteq/>
  <mo>&amp;doteq;</mo>
</layout>

<layout name="doteq">
  <apply> <doteq/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="ratio">
  <ratio/>
  <mo>:</mo>
</layout>

<layout name="ratio">
  <apply> <ratio/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="propto">
  <propto/>
  <mo>&amp;propto;</mo>
</layout>

<layout name="propto">
  <apply> <propto/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="prec">
  <prec/>
  <mo>&amp;prec;</mo>
</layout>

<layout name="prec">
  <apply> <prec/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="succ">
  <succ/>
  <mo>&amp;succ;</mo>
</layout>

<layout name="succ">
  <apply> <succ/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="preceq">
  <preceq/>
  <mo>&amp;preceq;</mo>
</layout>

<layout name="preceq">
  <apply> <preceq/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="succeq">
  <succeq/>
  <mo>&amp;succeq;</mo>
</layout>

<layout name="succeq">
  <apply> <succeq/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="ll">
  <ll/>
  <mo>&amp;ll;</mo>
</layout>

<layout name="ll">
  <apply> <ll/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="gg">
  <gg/>
  <mo>&amp;gg;</mo>
</layout>

<layout name="gg">
  <apply> <gg/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="therefore">
  <therefore/>
  <mo>&amp;therefore;</mo>
</layout>

<layout name="therefore">
  <apply> <therefore/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="because">
  <because/>
  <mo>&amp;because;</mo>
</layout>

<layout name="because">
  <apply> <because/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<!-- Custom arithmetic operators -->

<layout name="pm">
  <pm/>
  <mo>&amp;pm;</mo>
</layout>

<layout name="pm">
  <apply> <pm/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="mp">
  <mp/>
  <mo>&amp;mp;</mo>
</layout>

<layout name="mp">
  <apply> <mp/> <i:args/> </apply>
  <i:infix> <i:op/> <i:args/> </i:infix>
</layout>

<layout name="positive">
  <positive/>
  <mo>+</mo>
</layout>

<layout name="positive">
  <apply> <positive/> <i:args/> </apply>
  <i:prefix>
    <i:sup> <mspace width="0" height="1ex"/> <i:op/> </i:sup>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="negative">
  <negative/>
  <mo>-</mo>
</layout>

<layout name="negative">
  <apply> <negative/> <i:args/> </apply>
  <i:prefix>
    <i:sup> <mspace width="0" height="1ex"/> <i:op/> </i:sup>
    <i:arg> <cn>1</cn> </i:arg>
  </i:prefix>
</layout>

<layout name="superscript">
  <apply> <superscript/> <i:args/> </apply>
  <i:sup>
    <i:arg> <cn>1</cn> </i:arg>
    <i:infix>
      <mo rspace="verythinmathspace">,</mo>
      <i:rest> <cn>2</cn> </i:rest>
    </i:infix>
  </i:sup>
</layout>

<layout name="subscript">
  <apply> <subscript/> <i:args/> </apply>
  <i:sub>
    <i:arg> <cn>1</cn> </i:arg>
    <i:infix>
      <mo rspace="verythinmathspace">,</mo>
      <i:rest> <cn>2</cn> </i:rest>
    </i:infix>
  </i:sub>
</layout>

<layout name="mxf">
  <apply> <mxf/> <i:x/> <i:y/> <i:z/> </apply>
  <i:infix>
    <mo rspace="0">&amp;ip;</mo>
    <i:arg> <cn>1</cn> </i:arg>
    <i:fraction>
      <i:arg> <cn>2</cn> </i:arg>
      <i:arg> <cn>3</cn> </i:arg>
    </i:fraction>
  </i:infix>
</layout>

<!-- Hard groups -->

<layout name="paren">
  <apply> <paren/> <i:args/> </apply>
  <i:paren> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:paren>
</layout>

<layout name="bracket">
  <apply> <bracket/> <i:args/> </apply>
  <i:bracket> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:bracket>
</layout>

<layout name="brace">
  <apply> <brace/> <i:args/> </apply>
  <i:brace> <i:infix> <mo>,</mo> <i:args/> </i:infix> </i:brace>
</layout>

<!-- Soft groups -->

<layout name="sparen">
  <apply> <sparen/> <i:args/> </apply>
  <mrow>
    <mo>(</mo>
    <i:infix> <mo>,</mo> <i:args/> </i:infix>
  </mrow>
</layout>

<!-- Custom Operators -->

<layout name="pair">
  <apply> <pair/> <i:x/> <i:y/> </apply>
  <mfenced open="(" close=")"> <i:args/> </mfenced>
</layout>

<layout name="vec">
  <apply> <vec/> <i:args/> </apply>
  <mover> <i:arg> <cn>1</cn> </i:arg> <mo>&#x20D1;</mo> </mover>
</layout>

<layout name="hat">
  <apply> <hat/> <i:args/> </apply>
  <mover> <i:arg> <cn>1</cn> </i:arg> <mo>&#x0302;</mo> </mover>
</layout>

<layout name="tilde">
  <apply> <tilde/> <i:args/> </apply>
  <mover> <i:arg> <cn>1</cn> </i:arg> <mo>&#x0303;</mo> </mover>
</layout>

<layout name="degree">
  <apply> <degree/> <i:args/> </apply>
  <sup> <i:arg> <cn>1</cn> </i:arg> <mo>&#x00B0;</mo> </sup>
</layout>

<layout name="prime">
  <apply> <prime/> <i:args/> </apply>
  <sup> <i:arg> <cn>1</cn> </i:arg> <mo>&#x2032;</mo> </sup>
</layout>

<layout name="dprime">
  <apply> <dprime/> <i:args/> </apply>
  <sup> <i:arg> <cn>1</cn> </i:arg> <mo>&#x2033;</mo> </sup>
</layout>

<layout name="tprime">
  <apply> <tprime/> <i:args/> </apply>
  <sup> <i:arg> <cn>1</cn> </i:arg> <mo>&#x2034;</mo> </sup>
</layout>

<!-- Custom Constants -->

<layout name="ivec">
  <apply> <ivec/> </apply>
  <mi>&#x1D422;</mi>
</layout>

<layout name="jvec">
  <apply> <jvec/> </apply>
  <mi>&#x1D423;</mi>
</layout>

<layout name="kvec">
  <apply> <kvec/> </apply>
  <mi>&#x1D424;</mi>
</layout>

<layout name="ihat">
  <apply> <ihat/> </apply>
  <mi>i&#x0302;</mi>
</layout>

<layout name="jhat">
  <apply> <jhat/> </apply>
  <mi>j&#x0302;</mi>
</layout>

<layout name="khat">
  <apply> <khat/> </apply>
  <mi>k&#x0302;</mi>
</layout>

<layout name="ldots">
  <apply> <ldots/> </apply>
  <mo>&#x2026;</mo>
</layout>

<layout name="cdots">
  <apply> <cdots/> </apply>
  <mo>&#x22EF;</mo>
</layout>

<layout name="vdots">
  <apply> <vdots/> </apply>
  <mo>&#x22EE;</mo>
</layout>

<layout name="ddots">
  <apply> <ddots/> </apply>
  <mo>&#x22F1;</mo>
</layout>

<layout name="aleph">
  <apply> <aleph/> </apply>
  <mi>&#x2135;</mi>
</layout>

<layout name="hslash">
  <apply> <hslash/> </apply>
  <mi>&#x210F;</mi>
</layout>

<layout name="lambdabar">
  <apply> <lambdabar/> </apply>
  <mi>&#x019B;</mi>
</layout>

<layout name="ell">
  <apply> <ell/> </apply>
  <mi>&#x2113;</mi>
</layout>

<layout name="nabla">
  <apply> <nabla/> </apply>
  <mi>&#x2207;</mi>
</layout>

<layout name="indeterminant">
  <apply> <indeterminant/> </apply>
  <mi mathvariant="normal">?</mi>
</layout>

<!-- HTML elements -->

<layout name="html" uri="http://www.w3.org/1999/xhtml">
  <h:html> <i:args/> </h:html>
  <h:div> <i:args/> </h:div>
</layout>

<layout name="head" uri="http://www.w3.org/1999/xhtml">
  <h:head> <i:args/> </h:head>
  <h:div> <i:args/> </h:div>
</layout>

<layout name="body" uri="http://www.w3.org/1999/xhtml">
  <h:body> <i:args/> </h:body>
  <h:div> <i:args/> </h:div>
</layout>

<layout name="title" uri="http://www.w3.org/1999/xhtml">
  <h:title> <i:args/> </h:title>
  <h:span> <i:args/> </h:span>
</layout>

<layout name="style" uri="http://www.w3.org/1999/xhtml">
  <h:style> <i:args/> </h:style>
  <h:span> <i:args/> </h:span>
</layout>

<!-- Placeholders -->

<!-- Placeholder operator for math mode (csymbol) -->

<layout name="box" uri="csymbol:basic">
  <apply> <csymbol cd="basic">box</csymbol> </apply>
  <mstyle style="border: 1px dotted black">
    <mphantom>
      <mi mathvariant="normal">x</mi>
    </mphantom>
  </mstyle>
</layout>

<!-- Placeholder operator for math mode (ci) (deprecated) -->

<layout name="box" uri="http://math.pearson.com/User">
  <apply> <u:box/> </apply>
  <mstyle style="border: 1px dotted black">
    <mphantom>
      <mi mathvariant="normal">x</mi>
    </mphantom>
  </mstyle>
</layout>

<!-- Placeholder operator for text mode (h:input) -->

<layout name="input" uri="http://www.w3.org/1999/xhtml">
  <apply> <h:input/> </apply>
  <math xmlns="http://www.w3.org/1998/Math/MathML">
    <mspace width="0.5ex"/>
  </math>
</layout>

</layouts>

<!-- Template transformations for markup elements -->

<templates xmlns="http://www.w3.org/1998/Math/MathML"
    xmlns:h="http://www.w3.org/1999/xhtml"
    xmlns:i="http://math.pearson.com/MathEX">

<!-- Command rules -->

<!-- (cursor) -->

<template name="up">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="down">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="left">
  <i:this/>
  <i:cursor> <i:present/> <i:left/> </i:cursor>
</template>

<template name="right">
  <i:this/>
  <i:cursor> <i:present/> <i:right/> </i:cursor>
</template>

<template name="home">
  <i:this/>
  <i:cursor> <i:doc/> <i:home/> </i:cursor>
</template>

<template name="end">
  <i:this/>
  <i:cursor> <i:doc/> <i:end/> </i:cursor>
</template>

<template name="up" ctrl="true">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="down" ctrl="true">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="left" ctrl="true">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="right" ctrl="true">
  <i:this/>
  <i:cursor> <i:doc/> <i:right/> </i:cursor>
</template>

<template name="left" ctrl="true" shift="true">
  <i:this/>
  <i:cursor> <i:sibling/> <i:left/> </i:cursor>
</template>

<template name="right" ctrl="true" shift="true">
  <i:this/>
  <i:cursor> <i:sibling/> <i:right/> </i:cursor>
</template>

<template name="home" ctrl="true" shift="true">
  <i:this/>
  <i:cursor> <i:sibling/> <i:home/> </i:cursor>
</template>

<template name="end" ctrl="true" shift="true">
  <i:this/>
  <i:cursor> <i:sibling/> <i:end/> </i:cursor>
</template>

<template name="up" shift="true">
  <i:this/>
  <i:cursor> <i:root/> </i:cursor>
</template>

<template name="down" shift="true">
  <i:this/>
  <i:cursor> <i:leaf/> </i:cursor>
</template>

<template name="tab" shift="true">
  <i:this/>
  <i:cursor> <i:place/> <i:left/> </i:cursor>
</template>

<template name="tab">
  <i:this/>
  <i:cursor> <i:place/> <i:right/> </i:cursor>
</template>

<template name="left" shift="true">
  <i:this/>
  <i:cursor> <i:extend/> <i:left/> </i:cursor>
</template>

<template name="right" shift="true">
  <i:this/>
  <i:cursor> <i:extend/> <i:right/> </i:cursor>
</template>

<template name="tab" ctrl="true" shift="true">
  <i:this/>
  <i:cursor> <i:stop class="stop"/> <i:left/> </i:cursor>
</template>

<template name="tab" ctrl="true">
  <i:this/>
  <i:cursor> <i:stop class="stop"/> <i:right/> </i:cursor>
</template>

<template name="up" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="down" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="right" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" ctrl="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="right" ctrl="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" ctrl="true" shift="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="right" ctrl="true" shift="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="home" ctrl="true" shift="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="end" ctrl="true" shift="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="tab" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="tab" shift="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="bs" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="delete" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="bs" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:leaf/> </i:cursor>
</template>

<template name="delete" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:leaf/> </i:cursor>
</template>

<template name="up" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="down" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="right" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="home" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="end" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="bs" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="delete" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="insert" phase="pre" selector="%number">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="enter" phase="pre" selector="%math">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" selector="%math %select">
  <i:this/>
  <i:cursor> <i:extend/> <i:none/> </i:cursor>
</template>

<template name="right" selector="%math %select">
  <i:this/>
  <i:cursor> <i:extend/> <i:none/> </i:cursor>
</template>

<template name="left" shift="true" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="right" shift="true" phase="pre" selector="%token">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<!-- (array) -->

<template name="up" ctrl="true" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:cursor/> <i:up/> </i:array>
</template>

<template name="down" ctrl="true" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:cursor/> <i:down/> </i:array>
</template>

<template name="left" ctrl="true" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:cursor/> <i:left/> </i:array>
</template>

<template name="right" ctrl="true" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:cursor/> <i:right/> </i:array>
</template>

<!--
<template name="," selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:col/> <i:wrap/> </i:array>
</template>

<template name="," ctrl="true" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:col/> <i:right/> </i:array>
</template>

<template name="insert" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:col/> <i:left/> </i:array>
</template>

<template name="insert" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:col/> <i:left/> </i:array>
</template>

<template name=";" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:row/> <i:wrap/> </i:array>
</template>

<template name="enter" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:row/> <i:wrap/> </i:array>
</template>

<template name=";" ctrl="true" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:row/> <i:right/> </i:array>
</template>

<template name="insert" ctrl="true" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:row/> <i:left/> </i:array>
</template>

<template name="," ctrl="true" alt="true" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:elt/> <i:right/> </i:array>
</template>

<template name="insert" ctrl="true" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:insert/> <i:elt/> <i:left/> </i:array>
</template>

<template name="bs" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:delete/> <i:col/> <i:left/> </i:array>
</template>

<template name="delete" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:delete/> <i:col/> <i:right/> </i:array>
</template>

<template name="bs" ctrl="true" selector="%array">
  <i:this/>
  <i:array> <i:delete/> <i:row/> <i:left/> </i:array>
</template>

<template name="delete" ctrl="true" selector="%array">
  <i:this/>
  <i:array> <i:delete/> <i:row/> <i:right/> </i:array>
</template>

<template name="bs" ctrl="true" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:delete/> <i:elt/> <i:left/> </i:array>
</template>

<template name="delete" ctrl="true" shift="true" selector="%array">
  <i:this/>
  <i:array> <i:delete/> <i:elt/> <i:right/> </i:array>
</template>

<template name="bs" selector="%array %place">
  <i:this/>
  <i:array> <i:delete/> <i:wrap/> <i:left/> </i:array>
</template>

<template name="delete" selector="%array %place">
  <i:this/>
  <i:array> <i:delete/> <i:wrap/> <i:right/> </i:array>
</template>
-->

<template name="up" ctrl="true" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="down" ctrl="true" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="left" ctrl="true" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="right" ctrl="true" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<!--
<template name="," phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="," ctrl="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="insert" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="insert" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name=";" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="enter" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name=";" ctrl="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="insert" ctrl="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="," ctrl="true" alt="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="," ctrl="true" alt="true" phase="pre" selector="%array > %nary">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="insert" ctrl="true" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="bs" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="delete" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="bs" ctrl="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="delete" ctrl="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="bs" ctrl="true" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>

<template name="delete" ctrl="true" shift="true" phase="pre" selector="%array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>
-->

<!-- (assoc) -->

<template name="home" ctrl="true" alt="true" selector="%assoc">
  <i:this/>
  <i:assoc> <i:flat/> </i:assoc>
</template>

<template name="left" ctrl="true" alt="true" selector="%assoc">
  <i:this/>
  <i:assoc> <i:left/> </i:assoc>
</template>

<template name="right" ctrl="true" alt="true" selector="%assoc">
  <i:this/>
  <i:assoc> <i:right/> </i:assoc>
</template>

<template name="down" ctrl="true" alt="true" selector="%assoc">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="up" ctrl="true" alt="true" selector="%assoc">
  <i:this/>
  <i:assoc> <i:delete/> </i:assoc>
</template>

<template name="(" ctrl="true" selector="%assoc %prefix">
  <i:this/>
  <i:assoc> <i:tail/> </i:assoc>
</template>

<template name=")" ctrl="true" selector="%assoc %suffix">
  <i:this/>
  <i:assoc> <i:head/> </i:assoc>
</template>

<!-- (infix) -->

<template name="bs" selector="math %infix">
  <i:this/>
  <i:edit> <i:delete/> <i:op/> </i:edit>
</template>

<template name="delete" selector="math %infix">
  <i:this/>
  <i:edit> <i:delete/> <i:op/> </i:edit>
</template>

<template name="bs" selector="math %infix">
  <i:this/>
  <apply> <times class="@"/> <i:this/> <i:box/> </apply>
</template>

<template name="delete" selector="math %infix">
  <i:this/>
  <apply> <times class="@"/> <i:this/> <i:box/> </apply>
</template>

<template name="bs" phase="post" selector="times > %infix.">
  <i:this/>
  <i:edit> <i:delete/> <i:merge/> </i:edit>
</template>

<template name="delete" phase="post" selector="times > %infix.">
  <i:this/>
  <i:edit> <i:delete/> <i:merge/> </i:edit>
</template>

<!-- (nary) -->

<template name="," ctrl="true" alt="true" phase="pre" selector="%nary">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="insert" selector="%nary">
  <i:this/>
  <i:nary> <i:insert/> <i:left/> </i:nary>
</template>

<template name="," ctrl="true" alt="true" selector="%nary">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="bs" selector="%nary %place">
  <i:this/>
  <i:nary> <i:delete/> <i:left/> </i:nary>
</template>

<template name="delete" selector="%nary %place">
  <i:this/>
  <i:nary> <i:delete/> <i:right/> </i:nary>
</template>

<!--
<template name="bs" selector="%nary %exist %prefix">
  <i:this/>
  <i:nary> <i:delete/> <i:left/> </i:nary>
</template>

<template name="delete" selector="%nary %exist %suffix">
  <i:this/>
  <i:nary> <i:delete/> <i:right/> </i:nary>
</template>
-->

<!-- (text) -->

<template name="bs" selector="%token">
  <i:this/>
  <i:text> <i:delete/> <i:left/> </i:text>
</template>

<template name="delete" selector="%token">
  <i:this/>
  <i:text> <i:delete/> <i:right/> </i:text>
</template>

<!-- (edit) -->

<template name="bs">
  <i:this/>
  <i:edit> <i:delete/> </i:edit>
</template>

<template name="delete">
  <i:this/>
  <i:edit> <i:delete/> </i:edit>
</template>

<template name="bs" selector="%place">
  <i:this/>
  <i:edit> <i:delete/> <i:left/> </i:edit>
</template>

<template name="delete" selector="%place">
  <i:this/>
  <i:edit> <i:delete/> <i:right/> </i:edit>
</template>

<template name="delete" shift="true">
  <i:this/>
  <i:edit> <i:delete/> <i:up/> </i:edit>
</template>

<template name="delete" shift="true" selector="%infix">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<!--
<template name="enter" selector="%math">
  <i:this/>
  <i:edit> <i:submit/> </i:edit>
</template>
-->

<template name="cut">
  <i:this/>
  <i:edit> <i:cut/> </i:edit>
</template>

<template name="copy">
  <i:this/>
  <i:edit> <i:copy/> </i:edit>
</template>

<template name="paste">
  <i:this/>
  <i:edit> <i:paste/> </i:edit>
</template>

<template name="select">
  <i:this/>
  <i:edit> <i:select/> </i:edit>
</template>

<template name="undo">
  <i:this/>
  <i:edit> <i:undo/> </i:edit>
</template>

<template name="redo">
  <i:this/>
  <i:edit> <i:redo/> </i:edit>
</template>

<template name="reset">
  <i:this/>
  <i:edit> <i:reset/> </i:edit>
</template>

<template name="clear">
  <i:this/>
  <i:edit> <i:clear/> </i:edit>
</template>

<template name="a" ctrl="true">
  <i:this/>
  <i:edit> <i:select/> </i:edit>
</template>

<template name="c" ctrl="true">
  <i:this/>
  <i:edit> <i:copy/> </i:edit>
</template>

<template name="k" ctrl="true">
  <i:this/>
  <i:edit> <i:reset/> </i:edit>
</template>

<template name="v" ctrl="true">
  <i:this/>
  <i:edit> <i:paste/> </i:edit>
</template>

<template name="x" ctrl="true">
  <i:this/>
  <i:edit> <i:cut/> </i:edit>
</template>

<template name="y" ctrl="true">
  <i:this/>
  <i:edit> <i:redo/> </i:edit>
</template>

<template name="z" ctrl="true">
  <i:this/>
  <i:edit> <i:undo/> </i:edit>
</template>

<template name="Z" ctrl="true">
  <i:this/>
  <i:edit> <i:redo/> </i:edit>
</template>

<template name="enter" ctrl="true" alt="true" shift="true">
  <i:this/>
  <i:edit> <i:source/> </i:edit>
</template>

<template name="Q" ctrl="true" alt="true">
  <i:this/>
  <i:edit> <i:quote/> </i:edit>
</template>

<template name=" ">
  <i:this/>
  <i:edit> <i:popup/>
    <mtext>Space is not allowed in math only responses.</mtext>
  </i:edit>
</template>

<template name="enter">
  <i:this/>
  <i:edit> <i:popup/>
    <mtext>Return is not allowed in math only responses.</mtext>
  </i:edit>
</template>

<template name="cut" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="copy" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="paste" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="c" ctrl="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="v" ctrl="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="x" ctrl="true" phase="pre">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="cut" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="copy" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="paste" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="c" ctrl="true" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="v" ctrl="true" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="x" ctrl="true" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="paste" phase="pre" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <i:next/> </apply>
</template>

<template name="v" ctrl="true" phase="pre" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <i:next/> </apply>
</template>

<!-- (mouse) -->

<template name="mouse" left="true">
  <i:this/>
  <i:mouse> <i:select/> </i:mouse>
</template>

<template name="mouse" shift="true" left="true">
  <i:this/>
  <i:mouse> <i:extend/> </i:mouse>
</template>

<!-- Content Markup Elements -->

<!-- 4.4.1 (unknown) -->

<template name="unknown" uri="http://math.pearson.com/MathEX" selector="%math %outfix %token">
  <i:this/>
  <ci> <i:this/> <i:key/> </ci>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="%symbol">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="%symbol">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" phase="pre" selector="%symbol">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<!--
<template name="\" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci class="multiple"> <i:key/> </ci> </apply>
</template>
-->

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector=".multiple > %symbol">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector=".multiple > %symbol">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" phase="pre" selector=".multiple > %symbol">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<!-- 4.4.1.1 (cn) -->

<template name="number" uri="http://math.pearson.com/MathEX" selector="%math %outfix %token">
  <i:this/>
  <cn> <i:this/> <i:key/> </cn>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <cn> <i:key/> </cn> </apply>
</template>

<template name="." selector="%math %outfix %token">
  <i:this/>
  <cn> <i:this/> <i:key/> </cn>
</template>

<template name="," selector="%math %outfix %token">
  <i:this/>
  <cn> <i:this/> <i:key/> </cn>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:leaf/> </i:cursor>
</template>

<template name="." phase="pre" selector="%math %number">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="," phase="pre" selector="%math %number">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" phase="pre" selector="cn">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="." phase="pre" selector="cn">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="," phase="pre" selector="cn">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<!--
<template name="," phase="pre" selector="math %array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>
-->

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="%math %number">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="%math %number">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<!-- 4.4.1.2 (ci) -->

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="%math %outfix %token">
  <i:this/>
  <ci> <i:this/> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="." selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <cn> <i:key/> </cn> </apply>
</template>

<template name="," selector="%math %outfix %exist">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector=">">
  <i:this/>
  <i:cursor> <i:leaf/> </i:cursor>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="%math %symbol">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<!-- 4.4.1.3 (csymbol) -->

<!-- see (token) -->

<!-- 4.4.2.1 (apply) -->

<template name="apply" selector="%math">
  <i:this/>
  <apply> <apply/> <i:this/> <i:next/> </apply>
</template>

<template name="(" ctrl="true" selector="%math">
  <i:this/>
  <apply> <apply/> <i:this/> <i:next/> </apply>
</template>

<template name=")" ctrl="true" selector="apply >">
  <i:this/>
  <apply> <apply/> <i:close/> </apply>
</template>

<template name=")" ctrl="true" phase="pre" selector="apply >">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="@" ctrl="true">
  <i:this/>
  <apply> <apply class="xapply"/> <i:this/> <i:next/> </apply>
</template>

<template name="@" ctrl="true" selector="apply >">
  <i:this/>
  <apply> <apply class="xapply"/> <i:attrib/> </apply>
</template>

<template name="@" ctrl="true" selector=".xapply >">
  <i:this/>
  <apply> <apply class="@"/> <i:attrib/> </apply>
</template>

<template name="," phase="pre" selector="apply >">
  <i:this/>
  <apply> <apply/> <i:child/> </apply>
</template>

<template name="," selector="apply >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<!-- 4.4.2.2 (reln) -->

<template name="reln" selector="%math">
  <i:this/>
  <apply> <apply/> <i:this/> <i:box/> </apply>
</template>

<!-- 4.4.2.3 (fn) -->

<template name="fn" selector="%math">
  <i:this/>
  <i:this/>
</template>

<!-- 4.4.2.4 (interval) -->

<template name="interval" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="open" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="closed" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="open-closed" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="closed-open" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="interval" selector="%math">
  <i:this/>
  <interval> <i:this/> <i:box/> </interval>
</template>

<template name="open" selector="%math">
  <i:this/>
  <interval closure="open"> <i:this/> <i:box/> </interval>
</template>

<template name="closed" selector="%math">
  <i:this/>
  <interval closure="closed"> <i:this/> <i:box/> </interval>
</template>

<template name="open-closed" selector="%math">
  <i:this/>
  <interval closure="open-closed"> <i:this/> <i:box/> </interval>
</template>

<template name="closed-open" selector="%math">
  <i:this/>
  <interval closure="closed-open"> <i:this/> <i:box/> </interval>
</template>

<template name="open" selector="interval >">
  <i:this/>
  <interval closure="open"> <i:attrib/> </interval>
</template>

<template name="closed" selector="interval >">
  <i:this/>
  <interval closure="closed"> <i:attrib/> </interval>
</template>

<template name="open-closed" selector="interval >">
  <i:this/>
  <interval closure="open-closed"> <i:attrib/> </interval>
</template>

<template name="closed-open" selector="interval >">
  <i:this/>
  <interval closure="closed-open"> <i:attrib/> </interval>
</template>

<template name="noclosure" selector="interval >">
  <i:this/>
  <interval closure="@"> <i:attrib/> </interval>
</template>

<template name="," phase="pre" selector="interval >">
  <i:this/>
  <apply> <interval/> <i:child/> </apply>
</template>

<template name="," selector="interval >">
  <i:this/>
  <i:cursor> <i:sibling/> <i:right/> </i:cursor>
</template>

<template name="," phase="pre" selector="interval@closure=closed > * + * >">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," selector="interval">
  <interval closure="closed"> <i:x/> <i:y/> </interval>
  <apply> <list/> <i:x/> <i:y/> <i:next/> </apply>
</template>

<template name="(" selector="interval > %exist">
  <i:this/>
  <interval closure="open-closed"> <i:attrib/> </interval>
</template>

<template name="(" selector="interval@closure > %exist">
  <i:this/>
  <interval closure="open"> <i:attrib/> </interval>
</template>

<template name="(" selector="interval@closure=closed > %exist">
  <i:this/>
  <interval closure="open-closed"> <i:attrib/> </interval>
</template>

<template name=")" selector="interval >">
  <i:this/>
  <interval closure="closed-open"> <i:attrib/> </interval>
</template>

<template name=")" selector="interval@closure >">
  <i:this/>
  <interval closure="open"> <i:attrib/> </interval>
</template>

<template name=")" selector="interval@closure=closed >">
  <i:this/>
  <interval closure="closed-open"> <i:attrib/> </interval>
</template>

<template name=")" phase="post" selector="interval >">
  <i:this/>
  <apply> <interval/> <i:close/> </apply>
</template>

<template name="[" selector="interval@closure=open > %exist">
  <i:this/>
  <interval closure="closed-open"> <i:attrib/> </interval>
</template>

<template name="[" selector="interval > %exist">
  <i:this/>
  <interval closure="closed"> <i:attrib/> </interval>
</template>

<template name="]" selector="interval@closure=open >">
  <i:this/>
  <interval closure="open-closed"> <i:attrib/> </interval>
</template>

<template name="]" selector="interval >">
  <i:this/>
  <interval closure="closed"> <i:attrib/> </interval>
</template>

<template name="]" phase="post" selector="interval >">
  <i:this/>
  <apply> <interval/> <i:close/> </apply>
</template>

<!-- 4.4.2.5 (inverse) -->

<template name="inverse" selector="%math">
  <i:this/>
  <apply> <inverse/> <i:this/> </apply>
</template>

<!-- 4.4.2.6 (sep) -->

<!-- see (cn) -->

<!-- 4.4.2.7 (condition) -->

<template name="condition" selector="%math">
  <i:this/>
  <apply> <condition/> <i:this/> </apply>
</template>

<!-- 4.4.2.8 (declare) -->

<template name="declare" selector="%math">
  <i:this/>
  <apply> <declare/> <i:this/> </apply>
</template>

<template name="declare2" selector="%math">
  <i:this/>
  <apply> <declare/> <i:this/> <i:box/> </apply>
</template>

<!-- 4.4.2.9 (lambda) -->

<template name="lambda1" selector="%math">
  <i:this/>
  <apply> <lambda/> <i:this/> </apply>
</template>

<template name="lambda2" selector="%math">
  <i:this/>
  <apply> <lambda/> <i:this/> <apply> <lvars/> <apply> <lvar/> <i:box/> </apply> </apply> </apply>
</template>

<template name="lvars" selector="%math">
  <i:this/>
  <apply> <lvars/> <i:this/> </apply>
</template>

<template name="lvar" selector="%math">
  <i:this/>
  <apply> <lvar/> <i:this/> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="lambda >">
  <i:this/>
  <apply> <lambda/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="lambda >">
  <apply> <lambda/> <i:y/> </apply>
  <apply> <lambda/> <i:y/> <apply> <lvars/> <apply> <lvar/> <i:next/> </apply> </apply> </apply>
</template>

<template name="," phase="pre" selector="lvar >">
  <i:this/>
  <apply> <lvar/> <i:close/> </apply>
</template>

<template name="," selector="lvar >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<!-- 4.4.2.10 (compose) -->

<template name="compose" selector="%math">
  <i:this/>
  <apply> <compose/> <i:this/> <i:box/> </apply>
</template>

<template name="compose" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.2.11 (ident) -->

<template name="ident" selector="%math">
  <i:this/>
  <ident/>
</template>

<!-- 4.4.2.12 (domain) -->

<template name="domain" selector="%math">
  <i:this/>
  <apply> <domain/> <i:this/> </apply>
</template>

<!-- 4.4.2.13 (codomain) -->

<template name="codomain" selector="%math">
  <i:this/>
  <apply> <codomain/> <i:this/> </apply>
</template>

<!-- 4.4.2.14 (image) -->

<template name="image" selector="%math">
  <i:this/>
  <apply> <image/> <i:this/> </apply>
</template>

<!-- 4.4.2.15 (domainofapplication) -->

<template name="domainofapplication" selector="%math">
  <i:this/>
  <apply> <domainofapplication/> <i:this/> </apply>
</template>

<!-- 4.4.2.16 (piecewise) -->

<template name="piecewise" selector="%math">
  <i:this/>
  <apply> <piecewise/> <i:this/> </apply>
</template>

<template name=";" ctrl="true" phase="pre" selector="piecewise >">
  <i:this/>
  <apply> <piecewise/> <i:child/> </apply>
</template>

<template name="," ctrl="true" phase="pre" selector="piecewise >">
  <i:this/>
  <apply> <piecewise/> <i:child/> </apply>
</template>

<template name="." ctrl="true" phase="pre" selector="piecewise >">
  <i:this/>
  <apply> <piecewise/> <i:child/> </apply>
</template>

<template name=";" ctrl="true" selector="piecewise >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," ctrl="true" selector="piecewise >">
  <i:this/>
  <apply> <piece/> <i:this/> <i:box/> </apply>
</template>

<template name="." ctrl="true" selector="piecewise >">
  <i:this/>
  <apply> <otherwise/> <i:this/> </apply>
</template>

<!-- 4.4.2.16 (piece) -->

<template name="piece" selector="%math">
  <i:this/>
  <apply> <piece/> <i:this/> <i:box/> </apply>
</template>

<!-- 4.4.2.16 (otherwise) -->

<template name="otherwise" selector="%math">
  <i:this/>
  <apply> <otherwise/> <i:this/> </apply>
</template>

<!-- 4.4.3.1 (quotient) -->

<template name="quotient" selector="%math">
  <i:this/>
  <apply> <quotient/> <i:this/> <i:box/> </apply>
</template>

<!-- 4.4.3.2 (factorial) -->

<template name="factorial" selector="%math">
  <i:this/>
  <apply> <factorial/> <i:this/> </apply>
</template>

<template name="!" selector="%math">
  <i:this/>
  <apply> <factorial/> <i:this/> </apply>
</template>

<template name="factorial" phase="post" selector="%math">
  <i:this/>
  <apply> <factorial/> <i:close/> </apply>
</template>

<template name="!" phase="post" selector="%math">
  <i:this/>
  <apply> <factorial/> <i:close/> </apply>
</template>

<template name="bs" phase="pre" selector="factorial">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="bs" phase="post" selector="factorial >">
  <i:this/>
  <apply> <factorial/> <i:close/> </apply>
</template>

<!-- 4.4.3.3 (divide) -->

<template name="divide" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="divide" selector="%math %outfix">
  <i:this/>
  <apply> <divide/> <i:this/> <i:box/> </apply>
</template>

<template name="divide" selector="%math %place">
  <i:this/>
  <apply> <divide/> <i:next/> <i:box/> </apply>
</template>

<template name="divide" selector="divide > %place">
  <i:this/>
  <apply> <divide/> <i:this/> <i:box/> </apply>
</template>

<template name="divide" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="divide" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="/" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="/" selector="%math %outfix">
  <i:this/>
  <apply> <divide/> <i:this/> <i:box/> </apply>
</template>

<template name="/" selector="%math %place">
  <i:this/>
  <apply> <divide/> <i:next/> <i:box/> </apply>
</template>

<template name="/" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="/" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="\" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="\" selector="%math %outfix">
  <i:this/>
  <apply> <divide/> <i:this/> <i:box/> </apply>
</template>

<template name="\" selector="%math %place">
  <i:this/>
  <apply> <divide/> <i:next/> <i:box/> </apply>
</template>

<template name="\" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="\" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="up" phase="pre" selector="divide. >">
  <i:this/>
  <apply> <divide/> <i:child/> </apply>
</template>

<template name="up" selector="divide. >">
  <i:this/>
  <i:cursor> <i:sibling/> <i:home/> </i:cursor>
</template>

<template name="down" phase="pre" selector="divide. >">
  <i:this/>
  <apply> <divide/> <i:child/> </apply>
</template>

<template name="down" selector="divide. >">
  <i:this/>
  <i:cursor> <i:sibling/> <i:end/> </i:cursor>
</template>

<!-- 4.4.3.3 (divide sign) -->

<template name="divide-sign" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="sign"/> <i:this/> <i:box/> </apply>
</template>

<template name="divide-sign" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="sign"/> <i:attrib/> </apply>
</template>

<template name="divide-sign" selector="divide.sign > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="divide-sign" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="/" ctrl="true" alt="true" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="sign"/> <i:this/> <i:box/> </apply>
</template>

<template name="/" ctrl="true" alt="true" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="sign"/> <i:attrib/> </apply>
</template>

<template name="/" ctrl="true" alt="true" selector="divide.sign > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="/" ctrl="true" alt="true" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="\" ctrl="true" alt="true" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="sign"/> <i:this/> <i:box/> </apply>
</template>

<template name="\" ctrl="true" alt="true" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="sign"/> <i:attrib/> </apply>
</template>

<template name="\" ctrl="true" alt="true" selector="divide.sign > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="\" ctrl="true" alt="true" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.3.3 (divide slash) -->

<template name="divide-slash" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="slash"/> <i:this/> <i:box/> </apply>
</template>

<template name="divide-slash" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="slash"/> <i:attrib/> </apply>
</template>

<template name="divide-slash" selector="divide.slash > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="divide-slash" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="/" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="slash"/> <i:this/> <i:box/> </apply>
</template>

<template name="/" ctrl="true" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="slash"/> <i:attrib/> </apply>
</template>

<template name="/" ctrl="true" selector="divide.slash > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="/" ctrl="true" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="\" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="slash"/> <i:this/> <i:box/> </apply>
</template>

<template name="\" ctrl="true" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="slash"/> <i:attrib/> </apply>
</template>

<template name="\" ctrl="true" selector="divide.slash > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="\" ctrl="true" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.3.3 (divide large) -->

<template name="divide-large" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="large"/> <i:this/> <i:box/> </apply>
</template>

<template name="divide-large" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="large"/> <i:attrib/> </apply>
</template>

<template name="divide-large" selector="divide.large > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="divide-large" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="/" ctrl="true" alt="true" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="large"/> <i:this/> <i:box/> </apply>
</template>

<template name="/" ctrl="true" alt="true" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="large"/> <i:attrib/> </apply>
</template>

<template name="/" ctrl="true" alt="true" selector="divide.large > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>

<template name="\" ctrl="true" alt="true" selector="%math %outfix">
  <i:this/>
  <apply> <divide class="large"/> <i:this/> <i:box/> </apply>
</template>

<template name="\" ctrl="true" alt="true" selector="divide > %infix">
  <i:this/>
  <apply> <divide class="large"/> <i:attrib/> </apply>
</template>

<template name="\" ctrl="true" alt="true" selector="divide.large > %infix">
  <i:this/>
  <apply> <divide class="@"/> <i:attrib/> </apply>
</template>
-->

<!-- 4.4.3.4 (max) -->

<template name="max" selector="%math">
  <i:this/>
  <apply> <max/> <i:this/> </apply>
</template>

<!-- 4.4.3.4 (min) -->

<template name="min" selector="%math">
  <i:this/>
  <apply> <min/> <i:this/> </apply>
</template>

<!-- 4.4.3.5 (minus) -->

<template name="uminus" selector="%math %outfix">
  <i:this/>
  <apply> <minus/> <i:this/> </apply>
</template>

<template name="minus" selector="%math %outfix">
  <i:this/>
  <apply> <minus/> <i:this/> <i:box/> </apply>
</template>

<template name="nary-minus" selector="%math %prefix">
  <i:this/>
  <apply> <minus/> <i:this/> </apply>
</template>

<template name="nary-minus" selector="%math %suffix">
  <i:this/>
  <apply> <minus/> <i:this/> <i:next/> </apply>
</template>

<template name="nary-minus" selector="%math %suffix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:next/> </apply>
</template>

<template name="nary-minus" selector="math %infix">
  <i:this/>
  <apply> <minus/> <i:this/> <i:box/> </apply>
</template>

<template name="nary-minus" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="nary-minus" phase="post" selector="plus > * %place">
  <i:this/>
  <apply> <minus/> <i:this/> </apply>
</template>

<template name="-" selector="%math %prefix">
  <i:this/>
  <apply> <minus/> <i:this/> </apply>
</template>

<template name="-" selector="%math %suffix">
  <i:this/>
  <apply> <minus/> <i:this/> <i:next/> </apply>
</template>

<template name="-" selector="%math %suffix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:next/> </apply>
</template>

<template name="-" selector="math %infix">
  <i:this/>
  <apply> <minus/> <i:this/> <i:box/> </apply>
</template>

<template name="-" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="-" phase="post" selector="plus > * %place">
  <i:this/>
  <apply> <minus/> <i:this/> </apply>
</template>

<template name="bs" phase="pre" selector="plus > minus > * %place">
  <i:this/>
  <i:nary> <i:delete/> <i:left/> </i:nary>
</template>

<!--
<template name="-" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <negative/> <i:this/> </apply>
</template>

<template name="-" ctrl="true" selector="%math %prefix">
  <i:this/>
  <apply> <minus/> <i:box/> <i:this/> </apply>
</template>

<template name="-" ctrl="true" selector="%math %suffix">
  <i:this/>
  <apply> <minus/> <i:this/> </apply>
</template>
-->

<!-- 4.4.3.6 (plus) -->

<template name="uplus" selector="%math %outfix">
  <i:this/>
  <apply> <plus/> <i:this/> </apply>
</template>

<template name="plus" selector="%math %outfix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:box/> </apply>
</template>

<template name="nary-plus" selector="%math %prefix">
  <i:this/>
  <apply> <plus/> <i:this/> </apply>
</template>

<template name="nary-plus" selector="%math %suffix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:next/> </apply>
</template>

<template name="nary-plus" selector="math %infix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:box/> </apply>
</template>

<template name="nary-plus" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="iplus" selector="%math %outfix">
  <i:this/>
  <apply> <plus class="iplus"/> <i:this/> <i:box/> </apply>
</template>

<template name="splus" selector="%math">
  <i:this/>
  <apply> <plus class="splus"/> <i:this/> </apply>
</template>

<template name="+" selector="%math %prefix">
  <i:this/>
  <apply> <plus/> <i:this/> </apply>
</template>

<template name="+" selector="%math %suffix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:next/> </apply>
</template>

<template name="+" selector="math %infix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:box/> </apply>
</template>

<template name="+" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="+" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <positive/> <i:this/> </apply>
</template>

<template name="+" ctrl="true" selector="%math %prefix">
  <i:this/>
  <apply> <plus/> <i:box/> <i:this/> </apply>
</template>
-->

<template name="+" ctrl="true" alt="true" selector="%math %outfix">
  <i:this/>
  <apply> <plus class="iplus"/> <i:this/> <i:box/> </apply>
</template>

<!--
<template name="+" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <plus class="splus"/> <i:this/> </apply>
</template>
-->

<template name="+" ctrl="true" alt="true" selector="plus >">
  <i:this/>
  <apply> <plus class="iplus"/> <i:attrib/> </apply>
</template>

<template name="+" ctrl="true" alt="true" selector="plus.iplus >">
  <i:this/>
  <apply> <plus class="@"/> <i:attrib/> </apply>
</template>

<!--
<template name="+" ctrl="true" alt="true" selector="plus >">
  <i:this/>
  <apply> <plus class="splus"/> <i:attrib/> </apply>
</template>

<template name="+" ctrl="true" alt="true" selector="plus.splus >">
  <i:this/>
  <apply> <plus class="@"/> <i:attrib/> </apply>
</template>
-->

<!-- 4.4.3.7 (power) -->

<template name="square" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="cube" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="fourth" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="power" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="^" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="square" selector="%math">
  <i:this/>
  <apply> <power/> <i:this/> <cn>2</cn> </apply>
</template>

<template name="cube" selector="%math">
  <i:this/>
  <apply> <power/> <i:this/> <cn>3</cn> </apply>
</template>

<template name="fourth" selector="%math">
  <i:this/>
  <apply> <power/> <i:this/> <cn>4</cn> </apply>
</template>

<template name="power" selector="%math">
  <i:this/>
  <apply> <power/> <i:this/> <i:box/> </apply>
</template>

<template name="^" selector="%math">
  <i:this/>
  <apply> <power/> <i:this/> <i:box/> </apply>
</template>

<template name="square" phase="post" selector="%math">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="cube" phase="post" selector="%math">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="fourth" phase="post" selector="%math">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<!-- 4.4.3.8 (rem) -->

<template name="rem" selector="%math">
  <i:this/>
  <apply> <rem/> <i:this/> <i:box/> </apply>
</template>

<!-- 4.4.3.9 (times) -->

<template name="times" selector="%math %outfix">
  <i:this/>
  <apply> <times/> <i:this/> <i:box/> </apply>
</template>

<template name="times" selector="times > %infix">
  <i:this/>
  <apply> <times class="@"/> <i:attrib/> </apply>
</template>

<template name="times" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="*" selector="%math %outfix">
  <i:this/>
  <apply> <times/> <i:this/> <i:box/> </apply>
</template>

<template name="*" selector="times > %infix">
  <i:this/>
  <apply> <times class="@"/> <i:attrib/> </apply>
</template>
-->

<!-- 4.4.3.9 (times sign) -->

<template name="times-sign" selector="%math %outfix">
  <i:this/>
  <apply> <times class="sign"/> <i:this/> <i:box/> </apply>
</template>

<template name="times-sign" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="times-sign" selector="times > %infix">
  <i:this/>
  <apply> <times class="sign"/> <i:attrib/> </apply>
</template>

<template name="times-sign" selector="times.sign > %infix">
  <i:this/>
  <apply> <times class="@"/> <i:attrib/> </apply>
</template>
-->

<template name="*" selector="%math %outfix">
  <i:this/>
  <apply> <times class="sign"/> <i:this/> <i:box/> </apply>
</template>

<template name="*" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="*" selector="times > %infix">
  <i:this/>
  <apply> <times class="sign"/> <i:attrib/> </apply>
</template>

<template name="*" selector="times.sign > %infix">
  <i:this/>
  <apply> <times class="@"/> <i:attrib/> </apply>
</template>
-->

<!-- 4.4.3.9 (times sdot) -->

<template name="times-sdot" selector="%math %outfix">
  <i:this/>
  <apply> <times class="sdot"/> <i:this/> <i:box/> </apply>
</template>

<template name="times-sdot" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="times-sdot" selector="times > %infix">
  <i:this/>
  <apply> <times class="sdot"/> <i:attrib/> </apply>
</template>

<template name="times-sdot" selector="times.sdot > %infix">
  <i:this/>
  <apply> <times class="@"/> <i:attrib/> </apply>
</template>
-->

<template name="*" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <times class="sdot"/> <i:this/> <i:box/> </apply>
</template>

<template name="*" ctrl="true" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="*" ctrl="true" selector="times > %infix">
  <i:this/>
  <apply> <times class="sdot"/> <i:attrib/> </apply>
</template>

<template name="*" ctrl="true" selector="times.sdot > %infix">
  <i:this/>
  <apply> <times class="@"/> <i:attrib/> </apply>
</template>
-->

<!-- 4.4.3.9 (times ast) -->

<template name="times-ast" selector="%math %outfix">
  <i:this/>
  <apply> <times class="ast"/> <i:this/> <i:box/> </apply>
</template>

<template name="times-ast" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="times-ast" selector="times > %infix">
  <i:this/>
  <apply> <times class="ast"/> <i:attrib/> </apply>
</template>

<template name="times-ast" selector="times.ast > %infix">
  <i:this/>
  <apply> <times class="@"/> <i:attrib/> </apply>
</template>
-->

<template name="*" ctrl="true" alt="true" selector="%math %outfix">
  <i:this/>
  <apply> <times class="ast"/> <i:this/> <i:box/> </apply>
</template>

<template name="*" ctrl="true" alt="true" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="*" ctrl="true" alt="true" selector="times > %infix">
  <i:this/>
  <apply> <times class="ast"/> <i:attrib/> </apply>
</template>

<template name="*" ctrl="true" alt="true" selector="times.ast > %infix">
  <i:this/>
  <apply> <times class="@"/> <i:attrib/> </apply>
</template>
-->

<!-- 4.4.3.10 (root) -->

<template name="sqrt" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="cube-root" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="fourth-root" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="root" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="sqrt" selector="%math %select">
  <i:this/>
  <apply> <root/> <i:this/> </apply>
</template>

<template name="cube-root" selector="%math %select">
  <i:this/>
  <apply> <root/> <i:this/> <cn>3</cn> </apply>
</template>

<template name="fourth-root" selector="%math %select">
  <i:this/>
  <apply> <root/> <i:this/> <cn>4</cn> </apply>
</template>

<template name="root" selector="%math %select">
  <i:this/>
  <apply> <root/> <i:this/> <i:next/> </apply>
</template>

<template name="sqrt" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <root/> <i:next/> </apply> </apply>
</template>

<template name="cube-root" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <root/> <i:next/> <cn>3</cn> </apply> </apply>
</template>

<template name="fourth-root" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <root/> <i:next/> <cn>4</cn> </apply> </apply>
</template>

<template name="root" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <root/> <i:box/> <i:next/> </apply> </apply>
</template>

<template name="`" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="`" selector="%math %select">
  <i:this/>
  <apply> <root/> <i:this/> </apply>
</template>

<template name="`" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <root/> <i:next/> </apply> </apply>
</template>

<template name="`" ctrl="true" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <root/> <i:box/> <i:next/> </apply> </apply>
</template>

<template name="^" ctrl="true" phase="pre" selector="root >">
  <i:this/>
  <apply> <root/> <i:close/> </apply>
</template>

<template name="^" ctrl="true" selector="root >">
  <apply> <root/> <i:x/> </apply>
  <apply> <root/> <i:x/> <i:next/> </apply>
</template>

<template name="bs" selector="root > * %place">
  <i:this/>
  <i:nary> <i:delete/> <i:right/> </i:nary>
</template>

<template name="bs" selector="root > * + %place">
  <i:this/>
  <i:nary> <i:delete/> <i:left/> </i:nary>
</template>

<!-- 4.4.3.11 (gcd) -->

<template name="gcd" selector="%math">
  <i:this/>
  <apply> <gcd/> <i:this/> </apply>
</template>

<!-- 4.4.3.12 (and) -->

<template name="and" selector="%math %outfix">
  <i:this/>
  <apply> <and/> <i:this/> <i:box/> </apply>
</template>

<template name="and" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="&amp;" selector="%math %outfix">
  <i:this/>
  <apply> <and/> <i:this/> <i:box/> </apply>
</template>
-->

<!-- 4.4.3.13 (or) -->

<template name="or" selector="%math %outfix">
  <i:this/>
  <apply> <or/> <i:this/> <i:box/> </apply>
</template>

<template name="or" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="|" selector="%math %outfix">
  <i:this/>
  <apply> <or/> <i:this/> <i:box/> </apply>
</template>
-->

<!-- 4.4.3.14 (xor) -->

<template name="xor" selector="%math %outfix">
  <i:this/>
  <apply> <xor/> <i:this/> <i:box/> </apply>
</template>

<template name="xor" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="|" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <xor/> <i:this/> <i:box/> </apply>
</template>
-->

<!-- 4.4.3.15 (not) -->

<template name="not" selector="%math">
  <i:this/>
  <apply> <not/> <i:this/> </apply>
</template>

<!--
<template name="!" selector="%math %prefix">
  <i:this/>
  <apply> <not/> <i:this/> </apply>
</template>
-->

<!-- 4.4.3.16 (implies) -->

<template name="implies" selector="%math">
  <i:this/>
  <apply> <implies/> <i:this/> <i:box/> </apply>
</template>

<template name="implies" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.3.17 (forall) -->

<template name="forall" selector="%math">
  <i:this/>
  <apply> <forall/> <i:this/> </apply>
</template>

<template name="forall2" selector="%math">
  <i:this/>
  <apply> <forall/> <i:this/> <apply> <qvars/> <apply> <qvar/> <i:box/> </apply> </apply> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="forall >">
  <i:this/>
  <apply> <forall/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="forall >">
  <apply> <forall/> <i:y/> </apply>
  <apply> <forall/> <i:y/> <apply> <qvars/> <apply> <qvar/> <i:next/> </apply> </apply> </apply>
</template>

<!-- 4.4.3.18 (exists) -->

<template name="exists" selector="%math">
  <i:this/>
  <apply> <exists/> <i:this/> </apply>
</template>

<template name="exists2" selector="%math">
  <i:this/>
  <apply> <exists/> <i:this/> <apply> <qvars/> <apply> <qvar/> <i:box/> </apply> </apply> </apply>
</template>

<template name="qvars" selector="%math">
  <i:this/>
  <apply> <qvars/> <i:this/> </apply>
</template>

<template name="qvar" selector="%math">
  <i:this/>
  <apply> <qvar/> <i:this/> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="exists >">
  <i:this/>
  <apply> <exists/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="exists >">
  <apply> <exists/> <i:y/> </apply>
  <apply> <exists/> <i:y/> <apply> <qvars/> <apply> <qvar/> <i:next/> </apply> </apply> </apply>
</template>

<template name="," phase="pre" selector="qvar >">
  <i:this/>
  <apply> <qvar/> <i:close/> </apply>
</template>

<template name="," selector="qvar >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<!-- 4.4.3.19 (abs) -->

<template name="abs" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="abs" selector="%math %select">
  <i:this/>
  <apply> <abs/> <i:this/> </apply>
</template>

<template name="abs" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <abs/> <i:next/> </apply> </apply>
</template>

<template name="|" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <abs/> <i:next/> </apply> </apply>
</template>

<template name="|" selector="abs >">
  <i:this/>
  <apply> <abs/> <i:close/> </apply>
</template>

<!-- 4.4.3.20 (conjugate) -->

<template name="conjugate" selector="%math">
  <i:this/>
  <apply> <conjugate/> <i:this/> </apply>
</template>

<!-- 4.4.3.21 (arg) -->

<template name="arg" selector="%math">
  <i:this/>
  <apply> <arg/> <i:this/> </apply>
</template>

<!-- 4.4.3.22 (real) -->

<template name="real" selector="%math">
  <i:this/>
  <apply> <real/> <i:this/> </apply>
</template>

<!-- 4.4.3.23 (imaginary) -->

<template name="imaginary" selector="%math">
  <i:this/>
  <apply> <imaginary/> <i:this/> </apply>
</template>

<!-- 4.4.3.24 (lcm) -->

<template name="lcm" selector="%math">
  <i:this/>
  <apply> <lcm/> <i:this/> </apply>
</template>

<!-- 4.4.3.25 (floor) -->

<template name="floor" selector="%math">
  <i:this/>
  <apply> <floor/> <i:this/> </apply>
</template>

<!-- 4.4.3.26 (ceiling) -->

<template name="ceiling" selector="%math">
  <i:this/>
  <apply> <ceiling/> <i:this/> </apply>
</template>

<!-- 4.4.4.1 (eq) -->

<template name="eq" selector="%math %outfix">
  <i:this/>
  <apply> <eq/> <i:this/> <i:box/> </apply>
</template>

<template name="equal" selector="%math %outfix">
  <i:this/>
  <apply> <eq/> <i:this/> <i:box/> </apply>
</template>

<template name="=" selector="%math %outfix">
  <i:this/>
  <apply> <eq/> <i:this/> <i:box/> </apply>
</template>

<template name="eq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="=" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.2 (neq) -->

<template name="neq" selector="%math %outfix">
  <i:this/>
  <apply> <neq/> <i:this/> <i:box/> </apply>
</template>

<template name="not-equal" selector="%math %outfix">
  <i:this/>
  <apply> <neq/> <i:this/> <i:box/> </apply>
</template>

<!--
<template name="=" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <neq/> <i:this/> <i:box/> </apply>
</template>
-->

<template name="neq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!--
<template name="=" ctrl="true" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>
-->

<!-- 4.4.4.3 (gt) -->

<template name="gt" selector="%math %outfix">
  <i:this/>
  <apply> <gt/> <i:this/> <i:box/> </apply>
</template>

<template name="greater-than" selector="%math %outfix">
  <i:this/>
  <apply> <gt/> <i:this/> <i:box/> </apply>
</template>

<template name="&gt;" selector="%math %outfix">
  <i:this/>
  <apply> <gt/> <i:this/> <i:box/> </apply>
</template>

<template name="gt" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="greater-than" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="&gt;" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.4 (lt) -->

<template name="lt" selector="%math %outfix">
  <i:this/>
  <apply> <lt/> <i:this/> <i:box/> </apply>
</template>

<template name="less-than" selector="%math %outfix">
  <i:this/>
  <apply> <lt/> <i:this/> <i:box/> </apply>
</template>

<template name="&lt;" selector="%math %outfix">
  <i:this/>
  <apply> <lt/> <i:this/> <i:box/> </apply>
</template>

<template name="lt" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="less-than" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="&lt;" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.5 (geq) -->

<template name="geq" selector="%math %outfix">
  <i:this/>
  <apply> <geq/> <i:this/> <i:box/> </apply>
</template>

<template name="greater-equal" selector="%math %outfix">
  <i:this/>
  <apply> <geq/> <i:this/> <i:box/> </apply>
</template>

<template name="&gt;" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <geq/> <i:this/> <i:box/> </apply>
</template>

<template name="geq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="greater-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="&gt;" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.6 (leq) -->

<template name="leq" selector="%math %outfix">
  <i:this/>
  <apply> <leq/> <i:this/> <i:box/> </apply>
</template>

<template name="less-equal" selector="%math %outfix">
  <i:this/>
  <apply> <leq/> <i:this/> <i:box/> </apply>
</template>

<template name="&lt;" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <leq/> <i:this/> <i:box/> </apply>
</template>

<template name="leq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="less-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="&lt;" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.7 (equivalent) -->

<template name="equiv" selector="%math %outfix">
  <i:this/>
  <apply> <equivalent/> <i:this/> <i:box/> </apply>
</template>

<template name="equivalent" selector="%math %outfix">
  <i:this/>
  <apply> <equivalent/> <i:this/> <i:box/> </apply>
</template>

<template name="equiv" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="equivalent" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.7 (nequivalent) -->

<template name="nequiv" selector="%math %outfix">
  <i:this/>
  <apply> <nequivalent/> <i:this/> <i:box/> </apply>
</template>

<template name="not-equivalent" selector="%math %outfix">
  <i:this/>
  <apply> <nequivalent/> <i:this/> <i:box/> </apply>
</template>

<template name="nequiv" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-equivalent" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.8 (approx) -->

<template name="approx" selector="%math %outfix">
  <i:this/>
  <apply> <approx/> <i:this/> <i:box/> </apply>
</template>

<template name="approx" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.8 (napprox) -->

<template name="napprox" selector="%math %outfix">
  <i:this/>
  <apply> <napprox/> <i:this/> <i:box/> </apply>
</template>

<template name="not-approx" selector="%math %outfix">
  <i:this/>
  <apply> <napprox/> <i:this/> <i:box/> </apply>
</template>

<template name="napprox" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-approx" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.8 (sim) -->

<template name="sim" selector="%math %outfix">
  <i:this/>
  <apply> <sim/> <i:this/> <i:box/> </apply>
</template>

<template name="similar" selector="%math %outfix">
  <i:this/>
  <apply> <sim/> <i:this/> <i:box/> </apply>
</template>

<template name="~" selector="%math %outfix">
  <i:this/>
  <apply> <sim/> <i:this/> <i:box/> </apply>
</template>

<template name="sim" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="similar" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="~" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.8 (nsim) -->

<template name="nsim" selector="%math %outfix">
  <i:this/>
  <apply> <nsim/> <i:this/> <i:box/> </apply>
</template>

<template name="not-similar" selector="%math %outfix">
  <i:this/>
  <apply> <nsim/> <i:this/> <i:box/> </apply>
</template>

<template name="~" ctrl="true" selector="%math %outfix">
  <i:this/>
  <apply> <nsim/> <i:this/> <i:box/> </apply>
</template>

<template name="nsim" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-similar" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="~" ctrl="true" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.8 (simeq) -->

<template name="simeq" selector="%math %outfix">
  <i:this/>
  <apply> <simeq/> <i:this/> <i:box/> </apply>
</template>

<template name="similar-equal" selector="%math %outfix">
  <i:this/>
  <apply> <simeq/> <i:this/> <i:box/> </apply>
</template>

<template name="simeq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="similar-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.8 (nsimeq) -->

<template name="nsimeq" selector="%math %outfix">
  <i:this/>
  <apply> <nsimeq/> <i:this/> <i:box/> </apply>
</template>

<template name="not-similar-equal" selector="%math %outfix">
  <i:this/>
  <apply> <nsimeq/> <i:this/> <i:box/> </apply>
</template>

<template name="nsimeq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-similar-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.8 (cong) -->

<template name="cong" selector="%math %outfix">
  <i:this/>
  <apply> <cong/> <i:this/> <i:box/> </apply>
</template>

<template name="congruent" selector="%math %outfix">
  <i:this/>
  <apply> <cong/> <i:this/> <i:box/> </apply>
</template>

<template name="cong" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="congruent" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.8 (ncong) -->

<template name="ncong" selector="%math %outfix">
  <i:this/>
  <apply> <ncong/> <i:this/> <i:box/> </apply>
</template>

<template name="not-congruent" selector="%math %outfix">
  <i:this/>
  <apply> <ncong/> <i:this/> <i:box/> </apply>
</template>

<template name="ncong" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-congruent" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.4.9 (factorof) -->

<template name="factorof" selector="%math">
  <i:this/>
  <apply> <factorof/> <i:this/> <i:box/> </apply>
</template>

<template name="factorof" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.5.1 (int) -->

<template name="int" selector="%math">
  <i:this/>
  <apply> <int/> <i:this/> </apply>
</template>

<template name="int2" selector="%math">
  <i:this/>
  <apply> <int/> <i:this/> <i:box/> </apply>
</template>

<template name="int3" selector="%math">
  <i:this/>
  <apply> <int/> <i:this/> <i:box/> <i:next/> </apply>
</template>

<template name="int4" selector="%math">
  <i:this/>
  <apply> <int/> <i:this/> <i:box/> <i:next/> <i:box/> </apply>
</template>

<template name="," ctrl="true" phase="pre" selector="int >">
  <i:this/>
  <apply> <int/> <i:close/> </apply>
</template>

<template name="," ctrl="true" selector="int >">
  <apply> <int/> <i:y/> </apply>
  <apply> <int/> <i:y/> <i:next/> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="int >">
  <i:this/>
  <apply> <int/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="int >">
  <apply> <int/> <i:y/> </apply>
  <apply> <int/> <i:y/> <i:box/> <i:next/> </apply>
</template>

<template name="_" ctrl="true" selector="int >">
  <apply> <int/> <i:y/> <i:x/> </apply>
  <apply> <int/> <i:y/> <i:x/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" phase="pre" selector="int >">
  <i:this/>
  <apply> <int/> <i:close/> </apply>
</template>

<template name="^" ctrl="true" selector="int >">
  <apply> <int/> <i:y/> </apply>
  <apply> <int/> <i:y/> <i:box/> <i:box/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" selector="int >">
  <apply> <int/> <i:y/> <i:x/> </apply>
  <apply> <int/> <i:y/> <i:x/> <i:box/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" selector="int >">
  <apply> <int/> <i:y/> <i:x/> <i:lo/> </apply>
  <apply> <int/> <i:y/> <i:x/> <i:lo/> <i:next/> </apply>
</template>

<!-- 4.4.5.2 (diff) -->

<template name="diff" selector="%math">
  <i:this/>
  <apply> <diff/> <i:this/> </apply>
</template>

<template name="diff2" selector="%math">
  <i:this/>
  <apply> <diff/> <i:this/> <i:box/> </apply>
</template>

<template name="diff3" selector="%math">
  <i:this/>
  <apply> <diff/> <i:this/> <i:box/> <i:box/> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="diff >">
  <i:this/>
  <apply> <diff/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="diff >">
  <apply> <diff/> <i:y/> </apply>
  <apply> <diff/> <i:y/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" phase="pre" selector="diff >">
  <i:this/>
  <apply> <diff/> <i:close/> </apply>
</template>

<template name="^" ctrl="true" selector="diff >">
  <apply> <diff/> <i:y/> </apply>
  <apply> <diff/> <i:y/> <i:box/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" selector="diff >">
  <apply> <diff/> <i:y/> <i:x/> </apply>
  <apply> <diff/> <i:y/> <i:x/> <i:next/> </apply>
</template>

<!-- 4.4.5.3 (partialdiff) -->

<template name="partialdiff" selector="%math">
  <i:this/>
  <apply> <partialdiff/> <i:this/> </apply>
</template>

<template name="partialdiff2" selector="%math">
  <i:this/>
  <apply> <partialdiff/> <i:this/> <apply> <pvars/> <apply> <pvar/> <i:box/> </apply> </apply> </apply>
</template>

<template name="partialdiff3" selector="%math">
  <i:this/>
  <apply> <partialdiff/> <i:this/> <apply> <pvars/> <apply> <pvar/> <i:box/> </apply> </apply> <i:box/> </apply>
</template>

<template name="pvars" selector="%math">
  <i:this/>
  <apply> <pvars/> <i:this/> </apply>
</template>

<template name="pvar" selector="%math">
  <i:this/>
  <apply> <pvar/> <i:this/> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="partialdiff >">
  <i:this/>
  <apply> <partialdiff/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="partialdiff >">
  <apply> <partialdiff/> <i:y/> </apply>
  <apply> <partialdiff/> <i:y/> <apply> <pvars/> <apply> <pvar/> <i:next/> </apply> </apply> </apply>
</template>

<template name="^" ctrl="true" phase="pre" selector="partialdiff >">
  <i:this/>
  <apply> <partialdiff/> <i:close/> </apply>
</template>

<template name="^" ctrl="true" selector="partialdiff >">
  <apply> <partialdiff/> <i:y/> </apply>
  <apply> <partialdiff/> <i:y/> <apply> <pvars/> <apply> <pvar/> <i:box/> </apply> </apply> <i:next/> </apply>
</template>

<template name="^" ctrl="true" selector="partialdiff >">
  <apply> <partialdiff/> <i:y/> <i:x/> </apply>
  <apply> <partialdiff/> <i:y/> <i:x/> <i:next/> </apply>
</template>

<template name="^" phase="pre" selector="pvar >">
  <i:this/>
  <apply> <pvar/> <i:close/> </apply>
</template>

<template name="^" selector="pvar >">
  <apply> <pvar/> <i:x/> </apply>
  <apply> <pvar/> <i:x/> <i:next/> </apply>
</template>

<template name="*" phase="pre" selector="pvar >">
  <i:this/>
  <apply> <pvar/> <i:close/> </apply>
</template>

<template name="*" selector="pvar >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<!-- 4.4.5.4 (lowlimit) -->

<!-- see (int) -->

<!-- 4.4.5.5 (uplimit) -->

<!-- see (int) -->

<!-- 4.4.5.6 (bvar) -->

<!-- see (diff) -->

<!-- 4.4.5.7 (degree) -->

<!-- see (diff) -->

<!-- 4.4.5.8 (divergence) -->

<template name="divergence" selector="%math">
  <i:this/>
  <apply> <divergence/> <i:this/> </apply>
</template>

<!-- 4.4.5.9 (grad) -->

<template name="grad" selector="%math">
  <i:this/>
  <apply> <grad/> <i:this/> </apply>
</template>

<!-- 4.4.5.10 (curl) -->

<template name="curl" selector="%math">
  <i:this/>
  <apply> <curl/> <i:this/> </apply>
</template>

<!-- 4.4.5.11 (laplacian) -->

<template name="laplacian" selector="%math">
  <i:this/>
  <apply> <laplacian/> <i:this/> </apply>
</template>

<!-- 4.4.6.1 (set) -->

<template name="set" selector="%math">
  <i:this/>
  <apply> <set/> <i:this/> </apply>
</template>

<template name="{" ctrl="true" selector="%math">
  <i:this/>
  <apply> <set/> <i:this/> </apply>
</template>

<template name="}" ctrl="true" selector="set >">
  <i:this/>
  <apply> <set/> <i:close/> </apply>
</template>

<template name="}" selector="set >">
  <i:this/>
  <apply> <set/> <i:close/> </apply>
</template>

<template name="," phase="pre" selector="set >">
  <i:this/>
  <apply> <set/> <i:child/> </apply>
</template>

<template name="," selector="set >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," phase="pre" selector="set > paren">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," selector="set > paren + %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="," phase="pre" selector="set > bracket">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," selector="set > bracket + %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="," phase="pre" selector="set > brace">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," selector="set > brace + %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="," phase="pre" selector="set > interval">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," selector="set > interval + %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<!-- 4.4.6.2 (list) -->

<template name="list" selector="%math">
  <i:this/>
  <apply> <list/> <i:this/> </apply>
</template>

<template name="[" ctrl="true" selector="%math">
  <i:this/>
  <apply> <list/> <i:this/> </apply>
</template>

<template name="]" ctrl="true" selector="list >">
  <i:this/>
  <apply> <list/> <i:close/> </apply>
</template>

<template name="]" selector="list >">
  <i:this/>
  <apply> <list/> <i:close/> </apply>
</template>

<template name="," phase="pre" selector="list >">
  <i:this/>
  <apply> <list/> <i:child/> </apply>
</template>

<template name="," selector="list >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," phase="pre" selector="list > paren">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," selector="list > paren + %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="," phase="pre" selector="list > bracket">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," selector="list > bracket + %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="," phase="pre" selector="list > brace">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," selector="list > brace + %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="," phase="pre" selector="list > interval">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," selector="list > interval + %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<!-- 4.4.6.3 (union) -->

<template name="union" selector="%math %outfix">
  <i:this/>
  <apply> <union/> <i:this/> <i:box/> </apply>
</template>

<template name="union" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.4 (intersect) -->

<template name="intersect" selector="%math %outfix">
  <i:this/>
  <apply> <intersect/> <i:this/> <i:box/> </apply>
</template>

<template name="intersection" selector="%math %outfix">
  <i:this/>
  <apply> <intersect/> <i:this/> <i:box/> </apply>
</template>

<template name="intersect" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="intersection" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.5 (in) -->

<template name="in" selector="%math %outfix">
  <i:this/>
  <apply> <in/> <i:this/> <i:box/> </apply>
</template>

<template name="member" selector="%math %outfix">
  <i:this/>
  <apply> <in/> <i:this/> <i:box/> </apply>
</template>

<template name="in" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="member" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.6 (notin) -->

<template name="notin" selector="%math %outfix">
  <i:this/>
  <apply> <notin/> <i:this/> <i:box/> </apply>
</template>

<template name="not-member" selector="%math %outfix">
  <i:this/>
  <apply> <notin/> <i:this/> <i:box/> </apply>
</template>

<template name="notin" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-member" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.7 (subset) -->

<template name="subset" selector="%math %outfix">
  <i:this/>
  <apply> <subset/> <i:this/> <i:box/> </apply>
</template>

<template name="subset-equal" selector="%math %outfix">
  <i:this/>
  <apply> <subset/> <i:this/> <i:box/> </apply>
</template>

<template name="subset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="subset-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.7 (supset) -->

<template name="supset" selector="%math %outfix">
  <i:this/>
  <apply> <supset/> <i:this/> <i:box/> </apply>
</template>

<template name="superset-equal" selector="%math %outfix">
  <i:this/>
  <apply> <supset/> <i:this/> <i:box/> </apply>
</template>

<template name="supset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="superset-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.8 (prsubset) -->

<template name="prsubset" selector="%math %outfix">
  <i:this/>
  <apply> <prsubset/> <i:this/> <i:box/> </apply>
</template>

<template name="proper-subset" selector="%math %outfix">
  <i:this/>
  <apply> <prsubset/> <i:this/> <i:box/> </apply>
</template>

<template name="prsubset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="proper-subset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.8 (prsupset) -->

<template name="prsupset" selector="%math %outfix">
  <i:this/>
  <apply> <prsupset/> <i:this/> <i:box/> </apply>
</template>

<template name="proper-superset" selector="%math %outfix">
  <i:this/>
  <apply> <prsupset/> <i:this/> <i:box/> </apply>
</template>

<template name="prsupset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="proper-superset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.9 (notsubset) -->

<template name="notsubset" selector="%math %outfix">
  <i:this/>
  <apply> <notsubset/> <i:this/> <i:box/> </apply>
</template>

<template name="not-subset-equal" selector="%math %outfix">
  <i:this/>
  <apply> <notsubset/> <i:this/> <i:box/> </apply>
</template>

<template name="notsubset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-subset-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.9 (notsupset) -->

<template name="notsupset" selector="%math %outfix">
  <i:this/>
  <apply> <notsupset/> <i:this/> <i:box/> </apply>
</template>

<template name="not-superset-equal" selector="%math %outfix">
  <i:this/>
  <apply> <notsupset/> <i:this/> <i:box/> </apply>
</template>

<template name="notsupset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-superset-equal" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.10 (notprsubset) -->

<template name="notprsubset" selector="%math %outfix">
  <i:this/>
  <apply> <notprsubset/> <i:this/> <i:box/> </apply>
</template>

<template name="not-proper-subset" selector="%math %outfix">
  <i:this/>
  <apply> <notprsubset/> <i:this/> <i:box/> </apply>
</template>

<template name="notprsubset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-proper-subset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.10 (notprsupset) -->

<template name="notprsupset" selector="%math %outfix">
  <i:this/>
  <apply> <notprsupset/> <i:this/> <i:box/> </apply>
</template>

<template name="not-proper-superset" selector="%math %outfix">
  <i:this/>
  <apply> <notprsupset/> <i:this/> <i:box/> </apply>
</template>

<template name="notprsubset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-proper-superset" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.11 (setdiff) -->

<template name="setdiff" selector="%math %outfix">
  <i:this/>
  <apply> <setdiff/> <i:this/> <i:box/> </apply>
</template>

<template name="setdiff" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.6.12 (card) -->

<template name="card" selector="%math">
  <i:this/>
  <apply> <card/> <i:this/> </apply>
</template>

<!-- 4.4.6.13 (cartesianproduct) -->

<template name="cartesianproduct" selector="%math %outfix">
  <i:this/>
  <apply> <cartesianproduct/> <i:this/> <i:box/> </apply>
</template>

<template name="cartesianproduct" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.7.1 (sum) -->

<template name="sum" selector="%math">
  <i:this/>
  <apply> <sum/> <i:this/> </apply>
</template>

<template name="sum1" selector="%math">
  <i:this/>
  <apply> <sum1/> <i:this/> </apply>
</template>

<template name="sum2" selector="%math">
  <i:this/>
  <apply> <sum/> <i:this/> <i:next/> </apply>
</template>

<template name="sum3" selector="%math">
  <i:this/>
  <apply> <sum/> <i:this/> <i:next/> <i:box/> </apply>
</template>

<template name="sum4" selector="%math">
  <i:this/>
  <apply> <sum/> <i:this/> <i:next/> <i:box/> <i:box/> </apply>
</template>

<template name="," ctrl="true" phase="pre" selector="sum >">
  <i:this/>
  <apply> <sum/> <i:close/> </apply>
</template>

<template name="," ctrl="true" selector="sum >">
  <apply> <sum/> <i:y/> </apply>
  <apply> <sum/> <i:y/> <i:next/> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="sum >">
  <i:this/>
  <apply> <sum/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="sum >">
  <apply> <sum/> <i:y/> </apply>
  <apply> <sum/> <i:y/> <i:box/> <i:next/> </apply>
</template>

<template name="_" ctrl="true" selector="sum >">
  <apply> <sum/> <i:y/> <i:x/> </apply>
  <apply> <sum/> <i:y/> <i:x/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" phase="pre" selector="sum >">
  <i:this/>
  <apply> <sum/> <i:close/> </apply>
</template>

<template name="^" ctrl="true" selector="sum >">
  <apply> <sum/> <i:y/> </apply>
  <apply> <sum/> <i:y/> <i:box/> <i:box/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" selector="sum >">
  <apply> <sum/> <i:y/> <i:x/> </apply>
  <apply> <sum/> <i:y/> <i:x/> <i:box/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" selector="sum >">
  <apply> <sum/> <i:y/> <i:x/> <i:lo/> </apply>
  <apply> <sum/> <i:y/> <i:x/> <i:lo/> <i:next/> </apply>
</template>

<!-- 4.4.7.2 (product) -->

<template name="product" selector="%math">
  <i:this/>
  <apply> <product/> <i:this/> </apply>
</template>

<template name="product2" selector="%math">
  <i:this/>
  <apply> <product/> <i:this/> <i:next/> </apply>
</template>

<template name="product3" selector="%math">
  <i:this/>
  <apply> <product/> <i:this/> <i:next/> <i:box/> </apply>
</template>

<template name="product4" selector="%math">
  <i:this/>
  <apply> <product/> <i:this/> <i:next/> <i:box/> <i:box/> </apply>
</template>

<template name="," ctrl="true" phase="pre" selector="product >">
  <i:this/>
  <apply> <product/> <i:close/> </apply>
</template>

<template name="," ctrl="true" selector="product >">
  <apply> <product/> <i:y/> </apply>
  <apply> <product/> <i:y/> <i:next/> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="product >">
  <i:this/>
  <apply> <product/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="product >">
  <apply> <product/> <i:y/> </apply>
  <apply> <product/> <i:y/> <i:box/> <i:next/> </apply>
</template>

<template name="_" ctrl="true" selector="product >">
  <apply> <product/> <i:y/> <i:x/> </apply>
  <apply> <product/> <i:y/> <i:x/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" phase="pre" selector="product >">
  <i:this/>
  <apply> <product/> <i:close/> </apply>
</template>

<template name="^" ctrl="true" selector="product >">
  <apply> <product/> <i:y/> </apply>
  <apply> <product/> <i:y/> <i:box/> <i:box/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" selector="product >">
  <apply> <product/> <i:y/> <i:x/> </apply>
  <apply> <product/> <i:y/> <i:x/> <i:box/> <i:next/> </apply>
</template>

<template name="^" ctrl="true" selector="product >">
  <apply> <product/> <i:y/> <i:x/> <i:lo/> </apply>
  <apply> <product/> <i:y/> <i:x/> <i:lo/> <i:next/> </apply>
</template>

<!-- 4.4.7.3 (limit) -->

<template name="limit" selector="%math">
  <i:this/>
  <apply> <limit/> <i:this/> <i:next/> <i:box/> </apply>
</template>

<template name="+" ctrl="true" alt="true" selector="limit >">
  <i:this/>
  <apply> <limit type="above"/> <i:attrib/> </apply>
</template>

<template name="-" ctrl="true" alt="true" selector="limit >">
  <i:this/>
  <apply> <limit type="below"/> <i:attrib/> </apply>
</template>

<template name="=" ctrl="true" alt="true" selector="limit >">
  <i:this/>
  <apply> <limit type="two-sided"/> <i:attrib/> </apply>
</template>

<template name="*" ctrl="true" alt="true" selector="limit >">
  <i:this/>
  <apply> <limit type="@"/> <i:attrib/> </apply>
</template>

<!-- 4.4.7.4 (tendsto) -->

<template name="tendsto" selector="%math">
  <i:this/>
  <apply> <tendsto/> <i:this/> <i:box/> </apply>
</template>

<template name="tendsto" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="+" ctrl="true" alt="true" selector="tendsto >">
  <i:this/>
  <apply> <tendsto type="above"/> <i:attrib/> </apply>
</template>

<template name="-" ctrl="true" alt="true" selector="tendsto >">
  <i:this/>
  <apply> <tendsto type="below"/> <i:attrib/> </apply>
</template>

<template name="=" ctrl="true" alt="true" selector="tendsto >">
  <i:this/>
  <apply> <tendsto type="two-sided"/> <i:attrib/> </apply>
</template>

<template name="*" ctrl="true" alt="true" selector="tendsto >">
  <i:this/>
  <apply> <tendsto type="@"/> <i:attrib/> </apply>
</template>

<!-- 4.4.8.1 (sin) -->

<template name="sin" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="sin" selector="%math %select">
  <i:this/>
  <apply> <sin/> <i:this/> </apply>
</template>

<template name="sin" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <sin/> <i:next/> </apply> </apply>
</template>

<!-- 4.4.8.1 (cos) -->

<template name="cos" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="cos" selector="%math %select">
  <i:this/>
  <apply> <cos/> <i:this/> </apply>
</template>

<template name="cos" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <cos/> <i:next/> </apply> </apply>
</template>

<!-- 4.4.8.1 (tan) -->

<template name="tan" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="tan" selector="%math %select">
  <i:this/>
  <apply> <tan/> <i:this/> </apply>
</template>

<template name="tan" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <tan/> <i:next/> </apply> </apply>
</template>

<!-- 4.4.8.1 (sec) -->

<template name="sec" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="sec" selector="%math %select">
  <i:this/>
  <apply> <sec/> <i:this/> </apply>
</template>

<template name="sec" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <sec/> <i:next/> </apply> </apply>
</template>

<!-- 4.4.8.1 (csc) -->

<template name="csc" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="csc" selector="%math %select">
  <i:this/>
  <apply> <csc/> <i:this/> </apply>
</template>

<template name="csc" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <csc/> <i:next/> </apply> </apply>
</template>

<!-- 4.4.8.1 (cot) -->

<template name="cot" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="cot" selector="%math %select">
  <i:this/>
  <apply> <cot/> <i:this/> </apply>
</template>

<template name="cot" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <cot/> <i:next/> </apply> </apply>
</template>

<!-- 4.4.8.1 (sinh) -->

<template name="sinh" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="sinh" selector="%math %select">
  <i:this/>
  <apply> <sinh/> <i:this/> </apply>
</template>

<template name="sinh" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <sinh/> <i:next/> </apply> </apply>
</template>

<template name="sin" ctrl="true" selector="%math">
  <i:this/>
  <apply> <sinh/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (cosh) -->

<template name="cosh" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="cosh" selector="%math %select">
  <i:this/>
  <apply> <cosh/> <i:this/> </apply>
</template>

<template name="cosh" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <cosh/> <i:next/> </apply> </apply>
</template>

<template name="cos" ctrl="true" selector="%math">
  <i:this/>
  <apply> <cosh/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (tanh) -->

<template name="tanh" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="tanh" selector="%math %select">
  <i:this/>
  <apply> <tanh/> <i:this/> </apply>
</template>

<template name="tanh" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <tanh/> <i:next/> </apply> </apply>
</template>

<template name="tan" ctrl="true" selector="%math">
  <i:this/>
  <apply> <tanh/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (sech) -->

<template name="sech" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="sech" selector="%math %select">
  <i:this/>
  <apply> <sech/> <i:this/> </apply>
</template>

<template name="sech" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <sech/> <i:next/> </apply> </apply>
</template>

<template name="sec" ctrl="true" selector="%math">
  <i:this/>
  <apply> <sech/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (csch) -->

<template name="csch" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="csch" selector="%math %select">
  <i:this/>
  <apply> <csch/> <i:this/> </apply>
</template>

<template name="csch" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <csch/> <i:next/> </apply> </apply>
</template>

<template name="csc" ctrl="true" selector="%math">
  <i:this/>
  <apply> <csch/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (coth) -->

<template name="coth" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="coth" selector="%math %select">
  <i:this/>
  <apply> <coth/> <i:this/> </apply>
</template>

<template name="coth" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <coth/> <i:next/> </apply> </apply>
</template>

<template name="cot" ctrl="true" selector="%math">
  <i:this/>
  <apply> <coth/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arcsin) -->

<template name="arcsin" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arcsin" selector="%math %select">
  <i:this/>
  <apply> <arcsin/> <i:this/> </apply>
</template>

<template name="arcsin" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arcsin/> <i:next/> </apply> </apply>
</template>

<template name="sin" alt="true" selector="%math">
  <i:this/>
  <apply> <arcsin/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arccos) -->

<template name="arccos" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arccos" selector="%math %select">
  <i:this/>
  <apply> <arccos/> <i:this/> </apply>
</template>

<template name="arccos" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arccos/> <i:next/> </apply> </apply>
</template>

<template name="cos" alt="true" selector="%math">
  <i:this/>
  <apply> <arccos/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arctan) -->

<template name="arctan" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arctan" selector="%math %select">
  <i:this/>
  <apply> <arctan/> <i:this/> </apply>
</template>

<template name="arctan" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arctan/> <i:next/> </apply> </apply>
</template>

<template name="tan" alt="true" selector="%math">
  <i:this/>
  <apply> <arctan/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arcsec) -->

<template name="arcsec" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arcsec" selector="%math %select">
  <i:this/>
  <apply> <arcsec/> <i:this/> </apply>
</template>

<template name="arcsec" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arcsec/> <i:next/> </apply> </apply>
</template>

<template name="sec" alt="true" selector="%math">
  <i:this/>
  <apply> <arcsec/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arccsc) -->

<template name="arccsc" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arccsc" selector="%math %select">
  <i:this/>
  <apply> <arccsc/> <i:this/> </apply>
</template>

<template name="arccsc" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arccsc/> <i:next/> </apply> </apply>
</template>

<template name="csc" alt="true" selector="%math">
  <i:this/>
  <apply> <arccsc/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arccot) -->

<template name="arccot" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arccot" selector="%math %select">
  <i:this/>
  <apply> <arccot/> <i:this/> </apply>
</template>

<template name="arccot" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arccot/> <i:next/> </apply> </apply>
</template>

<template name="cot" alt="true" selector="%math">
  <i:this/>
  <apply> <arccot/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arcsinh) -->

<template name="arcsinh" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arcsinh" selector="%math %select">
  <i:this/>
  <apply> <arcsinh/> <i:this/> </apply>
</template>

<template name="arcsinh" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arcsinh/> <i:next/> </apply> </apply>
</template>

<template name="sin" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <arcsinh/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arccosh) -->

<template name="arccosh" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arccosh" selector="%math %select">
  <i:this/>
  <apply> <arccosh/> <i:this/> </apply>
</template>

<template name="arccosh" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arccosh/> <i:next/> </apply> </apply>
</template>

<template name="cos" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <arccosh/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arctanh) -->

<template name="arctanh" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arctanh" selector="%math %select">
  <i:this/>
  <apply> <arctanh/> <i:this/> </apply>
</template>

<template name="arctanh" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arctanh/> <i:next/> </apply> </apply>
</template>

<template name="tan" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <arctanh/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arcsech) -->

<template name="arcsech" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arcsech" selector="%math %select">
  <i:this/>
  <apply> <arcsech/> <i:this/> </apply>
</template>

<template name="arcsech" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arcsech/> <i:next/> </apply> </apply>
</template>

<template name="sec" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <arcsech/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arccsch) -->

<template name="arccsch" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arccsch" selector="%math %select">
  <i:this/>
  <apply> <arccsch/> <i:this/> </apply>
</template>

<template name="arccsch" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arccsch/> <i:next/> </apply> </apply>
</template>

<template name="csc" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <arccsch/> <i:this/> </apply>
</template>

<!-- 4.4.8.1 (arccoth) -->

<template name="arccoth" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="arccoth" selector="%math %select">
  <i:this/>
  <apply> <arccoth/> <i:this/> </apply>
</template>

<template name="arccoth" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arccoth/> <i:next/> </apply> </apply>
</template>

<template name="cot" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <arccoth/> <i:this/> </apply>
</template>

<!-- 4.4.8.2 (exp) -->

<template name="exp" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="exp" selector="%math %select">
  <i:this/>
  <apply> <exp/> <i:this/> </apply>
</template>

<template name="exp" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <exp/> <i:next/> </apply> </apply>
</template>

<!-- 4.4.8.3 (ln) -->

<template name="ln" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="ln" selector="%math %select">
  <i:this/>
  <apply> <ln/> <i:this/> </apply>
</template>

<template name="ln" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <ln/> <i:next/> </apply> </apply>
</template>

<!-- 4.4.8.4 (log) -->

<template name="log" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="log" selector="%math %select">
  <i:this/>
  <apply> <log/> <i:this/> </apply>
</template>

<template name="log" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <log/> <i:next/> </apply> </apply>
</template>

<template name="log-base" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="log-base" selector="%math %select">
  <i:this/>
  <apply> <log/> <i:this/> <i:next/> </apply>
</template>

<template name="log-base" selector="%math %outfix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <log/> <i:box/> <i:next/> </apply> </apply>
</template>

<template name="_" ctrl="true" phase="pre" selector="log >">
  <i:this/>
  <apply> <log/> <i:close/> </apply>
</template>

<template name="_" ctrl="true" selector="log >">
  <apply> <log/> <i:x/> </apply>
  <apply> <log/> <i:x/> <i:next/> </apply>
</template>

<template name="bs" selector="log > * %place">
  <i:this/>
  <i:nary> <i:delete/> <i:right/> </i:nary>
</template>

<template name="bs" selector="log > * + %place">
  <i:this/>
  <i:nary> <i:delete/> <i:left/> </i:nary>
</template>

<!-- 4.4.8.4 (logbase) -->

<!-- see (log) -->

<!-- 4.4.9.1 (mean) -->

<template name="mean" selector="%math">
  <i:this/>
  <apply> <mean/> <i:this/> </apply>
</template>

<template name="mean0" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <mean/> </apply> </apply>
</template>

<template name="xbar" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <mean/> <ci>x</ci> </apply> </apply>
</template>

<template name="ybar" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <mean/> <ci>y</ci> </apply> </apply>
</template>

<!--
<template name="^" phase="pre" selector="mean >">
  <i:this/>
  <apply> <mean/> <i:close/> </apply>
</template>

<template name="^" selector="mean >">
  <apply> <mean/> <i:x/> </apply>
  <apply> <moment/> <i:x/> <i:next/> </apply>
</template>

<template name="-" phase="pre" selector="mean >">
  <i:this/>
  <apply> <mean/> <i:close/> </apply>
</template>

<template name="-" selector="mean >">
  <apply> <mean/> <i:x/> </apply>
  <apply> <moment/> <i:x/> <i:box/> <i:next/> </apply>
</template>

<template name="-" selector="mean >">
  <apply> <mean/> <i:x/> <i:n/> </apply>
  <apply> <moment/> <i:x/> <i:n/> <i:next/> </apply>
</template>
-->

<!-- 4.4.9.2 (sdev) -->

<template name="sdev" selector="%math">
  <i:this/>
  <apply> <sdev/> <i:this/> </apply>
</template>

<template name="sdev0" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <sdev/> </apply> </apply>
</template>

<!-- 4.4.9.3 (variance) -->

<template name="variance" selector="%math">
  <i:this/>
  <apply> <variance/> <i:this/> </apply>
</template>

<!-- 4.4.9.4 (median) -->

<template name="median" selector="%math">
  <i:this/>
  <apply> <median/> <i:this/> </apply>
</template>

<!-- 4.4.9.5 (mode) -->

<template name="mode" selector="%math">
  <i:this/>
  <apply> <mode/> <i:this/> </apply>
</template>

<!-- 4.4.9.6 (moment) -->

<template name="moment" selector="%math">
  <i:this/>
  <apply> <moment/> <i:this/> </apply>
</template>

<template name="moment2" selector="%math">
  <i:this/>
  <apply> <moment/> <i:this/> <i:box/> </apply>
</template>

<template name="moment3" selector="%math">
  <i:this/>
  <apply> <moment/> <i:this/> <i:box/> <i:box/> </apply>
</template>

<!--
<template name="^" phase="pre" selector="moment >">
  <i:this/>
  <apply> <moment/> <i:close/> </apply>
</template>

<template name="^" selector="moment >">
  <apply> <moment/> <i:x/> </apply>
  <apply> <moment/> <i:x/> <i:next/> </apply>
</template>

<template name="^" selector="moment >">
  <apply> <moment/> <i:x/> <i:n/> </apply>
  <apply> <moment/> <i:x/> <i:n/> </apply>
</template>

<template name="^" selector="moment >">
  <apply> <moment/> <i:x/> <i:n/> <i:p/> </apply>
  <apply> <moment/> <i:x/> <i:n/> <i:p/> </apply>
</template>

<template name="-" phase="pre" selector="moment >">
  <i:this/>
  <apply> <moment/> <i:close/> </apply>
</template>

<template name="-" selector="moment >">
  <apply> <moment/> <i:x/> </apply>
  <apply> <moment/> <i:x/> <i:box/> <i:next/> </apply>
</template>

<template name="-" selector="moment >">
  <apply> <moment/> <i:x/> <i:n/> </apply>
  <apply> <moment/> <i:x/> <i:n/> <i:next/> </apply>
</template>

<template name="-" selector="moment >">
  <apply> <moment/> <i:x/> <i:n/> <i:p/> </apply>
  <apply> <moment/> <i:x/> <i:n/> <i:p/> </apply>
</template>
-->

<!-- 4.4.9.7 (momentabout) -->

<!-- see (moment) -->

<!-- 4.4.10.1 (vector) -->

<template name="vector" selector="%math">
  <i:this/>
  <apply> <vector/> <i:this/> </apply>
</template>

<template name="[" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <vector/> <i:this/> </apply>
</template>

<template name="]" ctrl="true" alt="true" selector="vector >">
  <i:this/>
  <apply> <vector/> <i:close/> </apply>
</template>

<!-- 4.4.10.2 (matrix) -->

<template name="matrix" selector="%math">
  <i:this/>
  <apply> <matrix/> <apply> <matrixrow/> <i:this/> </apply> </apply>
</template>

<template name="(" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <matrix/> <apply> <matrixrow/> <i:this/> </apply> </apply>
</template>

<template name=")" ctrl="true" alt="true" selector="matrix >">
  <i:this/>
  <apply> <matrix/> <i:close/> </apply>
</template>

<!-- 4.4.10.3 (matrixrow) -->

<!-- see (matrix) -->

<!-- 4.4.10.4 (determinant) -->

<template name="determinant" selector="%math">
  <i:this/>
  <apply> <determinant/> <i:this/> </apply>
</template>

<!-- 4.4.10.5 (transpose) -->

<template name="transpose" selector="%math">
  <i:this/>
  <apply> <transpose/> <i:this/> </apply>
</template>

<!-- 4.4.10.6 (selector) -->

<template name="selector" selector="%math">
  <i:this/>
  <apply> <selector/> <i:this/> <i:box/> </apply>
</template>

<!-- 4.4.10.7 (vectorproduct) -->

<template name="vectorproduct" selector="%math %outfix">
  <i:this/>
  <apply> <vectorproduct/> <i:this/> <i:box/> </apply>
</template>

<template name="vectorproduct" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.10.8 (scalarproduct) -->

<template name="scalarproduct" selector="%math %outfix">
  <i:this/>
  <apply> <scalarproduct/> <i:this/> <i:box/> </apply>
</template>

<template name="scalarproduct" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.10.9 (outerproduct) -->

<template name="outerproduct" selector="%math %outfix">
  <i:this/>
  <apply> <outerproduct/> <i:this/> <i:box/> </apply>
</template>

<template name="outerproduct" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- 4.4.11.1 (annotation) -->

<template name="annotation" selector="%math">
  <i:this/>
  <apply> <annotation/> <i:this/> </apply>
</template>

<template name="}" selector="annotation >">
  <i:this/>
  <apply> <annotation/> <i:close/> </apply>
</template>

<!-- 4.4.11.2 (semantics) -->

<template name="semantics" selector="%math">
  <i:this/>
  <apply> <semantics/> <i:this/> </apply>
</template>

<template name="{" selector="semantics > * %place">
  <i:this/>
  <apply> <annotation/> <i:this/> </apply>
</template>

<template name="[" selector="semantics > * %place">
  <i:this/>
  <apply> <annotation-xml/> <i:this/> </apply>
</template>

<template name="edit" selector="semantics >">
  <i:this/>
  <apply> <semantics class="@"/> <i:attrib/> </apply>
</template>

<template name="display" selector="semantics >">
  <i:this/>
  <apply> <semantics class="display"/> <i:attrib/> </apply>
</template>

<!--
<template name="E" ctrl="true" selector="semantics >">
  <i:this/>
  <apply> <semantics class="@"/> <i:attrib/> </apply>
</template>

<template name="D" ctrl="true" selector="semantics >">
  <i:this/>
  <apply> <semantics class="display"/> <i:attrib/> </apply>
</template>
-->

<!-- 4.4.11.3 (annotation-xml) -->

<template name="annotation-xml" selector="%math">
  <i:this/>
  <apply> <annotation-xml/> <i:this/> </apply>
</template>

<template name="]" selector="annotation-xml >">
  <i:this/>
  <apply> <annotation-xml/> <i:close/> </apply>
</template>

<template name="present" selector="annotation-xml >">
  <i:this/>
  <apply> <annotation-xml encoding="MathML-Presentation"/> <i:attrib/> </apply>
</template>

<template name="content" selector="annotation-xml >">
  <i:this/>
  <apply> <annotation-xml encoding="MathML-Content"/> <i:attrib/> </apply>
</template>

<template name="other" selector="annotation-xml >">
  <i:this/>
  <apply> <annotation-xml encoding="@"/> <i:attrib/> </apply>
</template>

<!--
<template name="P" ctrl="true" selector="annotation-xml >">
  <i:this/>
  <apply> <annotation-xml encoding="MathML-Presentation"/> <i:attrib/> </apply>
</template>

<template name="C" ctrl="true" selector="annotation-xml >">
  <i:this/>
  <apply> <annotation-xml encoding="MathML-Content"/> <i:attrib/> </apply>
</template>

<template name="O" ctrl="true" selector="annotation-xml >">
  <i:this/>
  <apply> <annotation-xml encoding="@"/> <i:attrib/> </apply>
</template>
-->

<!-- 4.4.12.1 (integers) -->

<template name="integers" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <integers/> </apply>
</template>

<!-- 4.4.12.2 (reals) -->

<template name="reals" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <reals/> </apply>
</template>

<!-- 4.4.12.3 (rationals) -->

<template name="rationals" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <rationals/> </apply>
</template>

<!-- 4.4.12.4 (naturalnumbers) -->

<template name="naturalnumbers" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <naturalnumbers/> </apply>
</template>

<!-- 4.4.12.5 (complexes) -->

<template name="complexes" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <complexes/> </apply>
</template>

<!-- 4.4.12.6 (primes) -->

<template name="primes" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <primes/> </apply>
</template>

<!-- 4.4.12.7 (exponentiale) -->

<template name="exponentiale" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <exponentiale/> </apply>
</template>

<!-- 4.4.12.8 (imaginaryi) -->

<template name="imaginaryi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <imaginaryi/> </apply>
</template>

<!-- 4.4.12.9 (notanumber) -->

<template name="notanumber" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <notanumber/> </apply>
</template>

<!-- 4.4.12.10 (true) -->

<template name="true" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <true/> </apply>
</template>

<!-- 4.4.12.11 (false) -->

<template name="false" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <false/> </apply>
</template>

<!-- 4.4.12.12 (emptyset) -->

<template name="emptyset" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <emptyset/> </apply>
</template>

<!-- 4.4.12.13 (pi) -->

<template name="constantpi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <pi/> </apply>
</template>

<!-- 4.4.12.14 (eulergamma) -->

<template name="eulergamma" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <eulergamma/> </apply>
</template>

<!-- 4.4.12.15 (infinity) -->

<template name="infinity" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <infinity/> </apply>
</template>

<!-- Presentation Markup Elements -->

<!-- (mphantom) -->

<!--
<template name="0" ctrl="true" phase="pre" selector="%math %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="0" ctrl="true" selector="%math">
  <i:this/>
  <mphantom> <i:this/> </mphantom>
</template>

<template name="1" ctrl="true" phase="pre" selector="%math %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="1" ctrl="true" selector="%math">
  <mphantom> <i:x/> </mphantom>
  <i:x/>
</template>
-->

<!-- (mpadded) -->

<!--
<template name="0" alt="true" phase="pre" selector="%math %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="0" alt="true" selector="%math">
  <i:this/>
  <mpadded width="0"> <i:this/> </mpadded>
</template>

<template name="1" alt="true" phase="pre" selector="%math %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="1" alt="true" selector="%math">
  <mpadded> <i:x/> </mpadded>
  <i:x/>
</template>

<template name="2" alt="true" phase="pre" selector="%math %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="2" alt="true" selector="%math">
  <i:this/>
  <mpadded> <i:this/> </mpadded>
</template>
-->

<!-- (mspace) -->

<!--
<template name="3" alt="true" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <mspace/> </mrow>
</template>
-->

<!-- (mstyle) -->

<!--
<template name="0" ctrl="true" alt="true" phase="pre" selector="%math %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="0" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <mstyle> <i:this/> </mstyle>
</template>

<template name="1" ctrl="true" alt="true" phase="pre" selector="%math %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="1" ctrl="true" alt="true" selector="%math">
  <mstyle> <i:x/> </mstyle>
  <i:x/>
</template>
-->

<!-- (mtable) -->

<!--
<template name="mtable" selector="%math">
  <i:this/>
  <mtable> <mtr> <mtd> <i:this/> </mtd> </mtr> </mtable>
</template>

<template name="{" alt="true" selector="%math">
  <i:this/>
  <mtable> <mtr> <mtd> <i:this/> </mtd> </mtr> </mtable>
</template>

<template name="}" alt="true" selector="%math">
  <i:this/>
  <apply> <mtable/> <i:close/> </apply>
</template>

<template name="=" alt="true" selector="mtable >">
  <i:this/>
  <apply> <eq class="align"/> <i:this/> <i:box/> </apply>
</template>

<template name="&lt;" alt="true" selector="mtable >">
  <i:this/>
  <apply> <lt class="align"/> <i:this/> <i:box/> </apply>
</template>

<template name="&gt;" alt="true" selector="mtable >">
  <i:this/>
  <apply> <gt class="align"/> <i:this/> <i:box/> </apply>
</template>

<template name="&lt;" ctrl="true" alt="true" selector="mtable >">
  <i:this/>
  <apply> <leq class="align"/> <i:this/> <i:box/> </apply>
</template>

<template name="&gt;" ctrl="true" alt="true" selector="mtable >">
  <i:this/>
  <apply> <geq class="align"/> <i:this/> <i:box/> </apply>
</template>

<template name="=" ctrl="true" alt="true" selector="mtable >">
  <i:this/>
  <apply> <neq class="align"/> <i:this/> <i:box/> </apply>
</template>

<template name="=" alt="true" selector="mtable eq >">
  <i:this/>
  <apply> <eq class="align"/> <i:attrib/> </apply>
</template>

<template name="&lt;" alt="true" selector="mtable lt >">
  <i:this/>
  <apply> <lt class="align"/> <i:attrib/> </apply>
</template>

<template name="&gt;" alt="true" selector="mtable gt >">
  <i:this/>
  <apply> <gt class="align"/> <i:attrib/> </apply>
</template>

<template name="&lt;" ctrl="true" alt="true" selector="mtable leq >">
  <i:this/>
  <apply> <leq class="align"/> <i:attrib/> </apply>
</template>

<template name="&gt;" ctrl="true" alt="true" selector="mtable geq >">
  <i:this/>
  <apply> <geq class="align"/> <i:attrib/> </apply>
</template>

<template name="=" ctrl="true" alt="true" selector="mtable neq >">
  <i:this/>
  <apply> <neq class="align"/> <i:attrib/> </apply>
</template>

<template name="=" alt="true" selector="mtable eq.align >">
  <i:this/>
  <apply> <eq class="@"/> <i:attrib/> </apply>
</template>

<template name="&lt;" alt="true" selector="mtable lt.align >">
  <i:this/>
  <apply> <lt class="@"/> <i:attrib/> </apply>
</template>

<template name="&gt;" alt="true" selector="mtable gt.align >">
  <i:this/>
  <apply> <gt class="@"/> <i:attrib/> </apply>
</template>

<template name="&lt;" ctrl="true" alt="true" selector="mtable leq.align >">
  <i:this/>
  <apply> <leq class="@"/> <i:attrib/> </apply>
</template>

<template name="&gt;" ctrl="true" alt="true" selector="mtable geq.align >">
  <i:this/>
  <apply> <geq class="@"/> <i:attrib/> </apply>
</template>

<template name="=" ctrl="true" alt="true" selector="mtable neq.align >">
  <i:this/>
  <apply> <neq class="@"/> <i:attrib/> </apply>
</template>
-->

<!-- (maligngroup) -->

<!--
<template name="maligngroup" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <maligngroup/> </mrow>
</template>

<template name="," ctrl="true" alt="true" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <maligngroup/> </mrow>
</template>

<template name="left" ctrl="true" alt="true" shift="true" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <maligngroup groupalign="left"/> </mrow>
</template>

<template name="right" ctrl="true" alt="true" shift="true" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <maligngroup groupalign="right"/> </mrow>
</template>

<template name="up" ctrl="true" alt="true" shift="true" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <maligngroup groupalign="center"/> </mrow>
</template>

<template name="down" ctrl="true" alt="true" shift="true" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <maligngroup groupalign="decimalpoint"/> </mrow>
</template>
-->

<!-- (malignmark) -->

<!--
<template name="malignmark" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <malignmark/> </mrow>
</template>

<template name="." ctrl="true" alt="true" selector="%math %outfix %exist">
  <i:this/>
  <mrow> <i:this/> <malignmark/> </mrow>
</template>
-->

<!-- Custom geometry operators -->

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="ray >">
  <i:this/>
  <apply> <ray/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="line >">
  <i:this/>
  <apply> <line/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="segment >">
  <i:this/>
  <apply> <segment/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="arc >">
  <i:this/>
  <apply> <arc/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="angle >">
  <i:this/>
  <apply> <angle/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="rightangle >">
  <i:this/>
  <apply> <rightangle/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="sphericalangle >">
  <i:this/>
  <apply> <sphericalangle/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="measuredangle >">
  <i:this/>
  <apply> <measuredangle/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="anglemeasure >">
  <i:this/>
  <apply> <anglemeasure/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="triangle >">
  <i:this/>
  <apply> <triangle/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="parallelogram >">
  <i:this/>
  <apply> <parallelogram/> <i:close/> </apply>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="circle >">
  <i:this/>
  <apply> <circle/> <i:close/> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="ray > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="ray > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="ray > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="ray %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="line > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="line > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="line > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="line %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="segment > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="segment > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="segment > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="segment %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="arc > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="arc > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="arc > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="arc %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="angle > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="angle > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="angle > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="angle %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="rightangle > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="rightangle > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="rightangle > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="rightangle %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="sphericalangle > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="sphericalangle > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="sphericalangle > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="sphericalangle %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="measuredangle %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="measuredangle > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="measuredangle > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="measuredangle > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="triangle > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="triangle > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="triangle > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="triangle %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="parallelogram > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="parallelogram > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="parallelogram > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="parallelogram %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="circle > %token">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" selector="circle > %exist">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="circle > %place">
  <i:this/>
  <ci> <i:key/> </ci>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post" selector="circle %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci> <i:key/> </ci> </apply>
</template>

<template name="ray1" selector="%math">
  <i:this/>
  <apply> <ray/> <i:this/> </apply>
</template>

<template name="ray2" selector="%math">
  <i:this/>
  <apply> <ray/> <i:this/> <i:box/> </apply>
</template>

<template name="ray" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <ray/> <i:next/> </apply> </apply>
</template>

<template name="line1" selector="%math">
  <i:this/>
  <apply> <line/> <i:this/> </apply>
</template>

<template name="line2" selector="%math">
  <i:this/>
  <apply> <line/> <i:this/> <i:box/> </apply>
</template>

<template name="line" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <line/> <i:next/> </apply> </apply>
</template>

<template name="segment1" selector="%math">
  <i:this/>
  <apply> <segment/> <i:this/> </apply>
</template>

<template name="segment2" selector="%math">
  <i:this/>
  <apply> <segment/> <i:this/> <i:box/> </apply>
</template>

<template name="segment" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <segment/> <i:next/> </apply> </apply>
</template>

<template name="arc1" selector="%math">
  <i:this/>
  <apply> <arc/> <i:this/> </apply>
</template>

<template name="arc2" selector="%math">
  <i:this/>
  <apply> <arc/> <i:this/> <i:box/> </apply>
</template>

<template name="arc3" selector="%math">
  <i:this/>
  <apply> <arc/> <i:this/> <i:box/> <i:next/> </apply>
</template>

<template name="arc" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <arc/> <i:next/> </apply> </apply>
</template>

<template name="parallel" selector="%math %outfix">
  <i:this/>
  <apply> <parallel/> <i:this/> <i:box/> </apply>
</template>

<template name="parallel" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-parallel" selector="%math %outfix">
  <i:this/>
  <apply> <nparallel/> <i:this/> <i:box/> </apply>
</template>

<template name="not-parallel" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="perpendicular" selector="%math %outfix">
  <i:this/>
  <apply> <perp/> <i:this/> <i:box/> </apply>
</template>

<template name="perpendicular" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="not-perpendicular" selector="%math %outfix">
  <i:this/>
  <apply> <nperp/> <i:this/> <i:box/> </apply>
</template>

<template name="not-perpendicular" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="angle1" selector="%math">
  <i:this/>
  <apply> <angle/> <i:this/> </apply>
</template>

<template name="angle2" selector="%math">
  <i:this/>
  <apply> <angle/> <i:this/> <i:box/> </apply>
</template>

<template name="angle3" selector="%math">
  <i:this/>
  <apply> <angle/> <i:this/> <i:box/> <i:next/> </apply>
</template>

<template name="angle" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <angle/> <i:next/> </apply> </apply>
</template>

<template name="rightangle1" selector="%math">
  <i:this/>
  <apply> <rightangle/> <i:this/> </apply>
</template>

<template name="rightangle2" selector="%math">
  <i:this/>
  <apply> <rightangle/> <i:this/> <i:box/> </apply>
</template>

<template name="rightangle3" selector="%math">
  <i:this/>
  <apply> <rightangle/> <i:this/> <i:box/> <i:next/> </apply>
</template>

<template name="rightangle" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <rightangle/> <i:next/> </apply> </apply>
</template>

<template name="measuredangle1" selector="%math">
  <i:this/>
  <apply> <measuredangle/> <i:this/> </apply>
</template>

<template name="measuredangle2" selector="%math">
  <i:this/>
  <apply> <measuredangle/> <i:this/> <i:box/> </apply>
</template>

<template name="measuredangle3" selector="%math">
  <i:this/>
  <apply> <measuredangle/> <i:this/> <i:box/> <i:next/> </apply>
</template>

<template name="measuredangle" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <measuredangle/> <i:next/> </apply> </apply>
</template>

<template name="sphericalangle1" selector="%math">
  <i:this/>
  <apply> <sphericalangle/> <i:this/> </apply>
</template>

<template name="sphericalangle2" selector="%math">
  <i:this/>
  <apply> <sphericalangle/> <i:this/> <i:box/> </apply>
</template>

<template name="sphericalangle3" selector="%math">
  <i:this/>
  <apply> <sphericalangle/> <i:this/> <i:box/> <i:next/> </apply>
</template>

<template name="sphericalangle" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <sphericalangle/> <i:next/> </apply> </apply>
</template>

<template name="anglemeasure1" selector="%math">
  <i:this/>
  <apply> <anglemeasure/> <apply> <angle/> <i:this/> </apply> </apply>
</template>

<template name="anglemeasure" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <anglemeasure/> <apply> <angle/> <i:next/> </apply> </apply> </apply>
</template>

<template name="triangle1" selector="%math">
  <i:this/>
  <apply> <triangle/> <i:this/> </apply>
</template>

<template name="triangle2" selector="%math">
  <i:this/>
  <apply> <triangle/> <i:this/> <i:box/> </apply>
</template>

<template name="triangle3" selector="%math">
  <i:this/>
  <apply> <triangle/> <i:this/> <i:box/> <i:next/> </apply>
</template>

<template name="triangle" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <triangle/> <i:next/> </apply> </apply>
</template>

<template name="parallelogram1" selector="%math">
  <i:this/>
  <apply> <parallelogram/> <i:this/> </apply>
</template>

<template name="parallelogram2" selector="%math">
  <i:this/>
  <apply> <parallelogram/> <i:this/> <i:box/> </apply>
</template>

<template name="parallelogram3" selector="%math">
  <i:this/>
  <apply> <parallelogram/> <i:this/> <i:box/> <i:next/> </apply>
</template>

<template name="parallelogram4" selector="%math">
  <i:this/>
  <apply> <parallelogram/> <i:this/> <i:box/> <i:next/> <i:box/> </apply>
</template>

<template name="parallelogram" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <parallelogram/> <i:next/> </apply> </apply>
</template>

<template name="circle1" selector="%math">
  <i:this/>
  <apply> <circle/> <i:this/> </apply>
</template>

<template name="circle" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <circle/> <i:next/> </apply> </apply>
</template>

<!-- Custom relational operators -->

<template name=":" selector="%math %outfix">
  <i:this/>
  <apply> <ratio/> <i:this/> <i:box/> </apply>
</template>

<template name=":" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="doteq" selector="%math %outfix">
  <i:this/>
  <apply> <doteq/> <i:this/> <i:box/> </apply>
</template>

<template name="doteq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="ratio" selector="%math %outfix">
  <i:this/>
  <apply> <ratio/> <i:this/> <i:box/> </apply>
</template>

<template name="ratio" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="propto" selector="%math %outfix">
  <i:this/>
  <apply> <propto/> <i:this/> <i:box/> </apply>
</template>

<template name="propto" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="prec" selector="%math %outfix">
  <i:this/>
  <apply> <prec/> <i:this/> <i:box/> </apply>
</template>

<template name="prec" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="succ" selector="%math %outfix">
  <i:this/>
  <apply> <succ/> <i:this/> <i:box/> </apply>
</template>

<template name="succ" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="preceq" selector="%math %outfix">
  <i:this/>
  <apply> <preceq/> <i:this/> <i:box/> </apply>
</template>

<template name="preceq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="succeq" selector="%math %outfix">
  <i:this/>
  <apply> <succeq/> <i:this/> <i:box/> </apply>
</template>

<template name="succeq" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="ll" selector="%math %outfix">
  <i:this/>
  <apply> <ll/> <i:this/> <i:box/> </apply>
</template>

<template name="ll" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="gg" selector="%math %outfix">
  <i:this/>
  <apply> <gg/> <i:this/> <i:box/> </apply>
</template>

<template name="gg" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="therefore" selector="%math %outfix">
  <i:this/>
  <apply> <therefore/> <i:this/> <i:box/> </apply>
</template>

<template name="therefore" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="because" selector="%math %outfix">
  <i:this/>
  <apply> <because/> <i:this/> <i:box/> </apply>
</template>

<template name="because" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<!-- Custom arithmetic operators -->

<template name="pm" selector="%math %prefix">
  <i:this/>
  <apply> <pm/> <i:this/> </apply>
</template>

<template name="pm" selector="%math %suffix">
  <i:this/>
  <apply> <pm/> <i:this/> <i:next/> </apply>
</template>

<template name="pm" selector="%math %suffix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:next/> </apply>
</template>

<template name="pm" selector="math %infix">
  <i:this/>
  <apply> <pm/> <i:this/> <i:box/> </apply>
</template>

<template name="pm" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="pm" phase="post" selector="plus > * %place">
  <i:this/>
  <apply> <pm/> <i:this/> </apply>
</template>

<template name="plus-minus" selector="%math %prefix">
  <i:this/>
  <apply> <pm/> <i:this/> </apply>
</template>

<template name="plus-minus" selector="%math %suffix">
  <i:this/>
  <apply> <pm/> <i:this/> <i:next/> </apply>
</template>

<template name="plus-minus" selector="%math %suffix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:next/> </apply>
</template>

<template name="plus-minus" selector="math %infix">
  <i:this/>
  <apply> <pm/> <i:this/> <i:box/> </apply>
</template>

<template name="plus-minus" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="plus-minus" phase="post" selector="plus > * %place">
  <i:this/>
  <apply> <pm/> <i:this/> </apply>
</template>

<template name="mp" selector="%math %prefix">
  <i:this/>
  <apply> <mp/> <i:this/> </apply>
</template>

<template name="mp" selector="%math %suffix">
  <i:this/>
  <apply> <mp/> <i:this/> <i:next/> </apply>
</template>

<template name="mp" selector="%math %suffix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:next/> </apply>
</template>

<template name="mp" selector="math %infix">
  <i:this/>
  <apply> <mp/> <i:this/> <i:box/> </apply>
</template>

<template name="mp" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="mp" phase="post" selector="plus > * %place">
  <i:this/>
  <apply> <mp/> <i:this/> </apply>
</template>

<template name="minus-plus" selector="%math %prefix">
  <i:this/>
  <apply> <mp/> <i:this/> </apply>
</template>

<template name="minus-plus" selector="%math %suffix">
  <i:this/>
  <apply> <mp/> <i:this/> <i:next/> </apply>
</template>

<template name="minus-plus" selector="%math %suffix">
  <i:this/>
  <apply> <plus/> <i:this/> <i:next/> </apply>
</template>

<template name="minus-plus" selector="math %infix">
  <i:this/>
  <apply> <mp/> <i:this/> <i:box/> </apply>
</template>

<template name="minus-plus" phase="pre" selector="%math %number">
  <i:this/>
  <i:edit> <i:delete/> <i:split/> </i:edit>
</template>

<template name="minus-plus" phase="post" selector="plus > * %place">
  <i:this/>
  <apply> <mp/> <i:this/> </apply>
</template>

<template name="positive" selector="%math %outfix">
  <i:this/>
  <apply> <positive/> <i:this/> </apply>
</template>

<template name="negative" selector="%math %outfix">
  <i:this/>
  <apply> <negative/> <i:this/> </apply>
</template>

<template name="superscript" selector="%math">
  <i:this/>
  <apply> <superscript/> <i:this/> <i:box/> </apply>
</template>

<template name="subscript" selector="%math">
  <i:this/>
  <apply> <subscript/> <i:this/> <i:box/> </apply>
</template>

<!--
<template name="_" selector="%math">
  <i:this/>
  <apply> <subscript/> <i:this/> <i:box/> </apply>
</template>
-->

<template name="," phase="pre" selector="superscript >">
  <i:this/>
  <apply> <superscript/> <i:child/> </apply>
</template>

<template name="," selector="superscript >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="," phase="pre" selector="subscript >">
  <i:this/>
  <apply> <subscript/> <i:child/> </apply>
</template>

<template name="," selector="subscript >">
  <i:this/>
  <i:nary> <i:insert/> <i:right/> </i:nary>
</template>

<template name="mxf" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <mxf/> <i:next/> <i:box/> <i:box/> </apply> </apply>
</template>

<template name="mxf" selector="%math %place">
  <i:this/>
  <apply> <mxf/> <i:box/> <i:box/> <i:box/> </apply>
</template>

<template name="mxf" selector="cn">
  <cn> <i:x/> </cn>
  <apply> <mxf/> <cn> <i:x/> </cn> <i:box/> <i:box/> </apply>
</template>

<template name="0" ctrl="true" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="+" ctrl="true" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="-" ctrl="true" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="=" ctrl="true" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="_" ctrl="true" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="c" ctrl="true" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="v" ctrl="true" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="x" ctrl="true" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre" selector="mxf >">
  <i:this/>
  <apply> <mxf/> <i:close/> </apply>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre" selector="mxf >">
  <i:this/>
  <apply> <mxf/> <i:close/> </apply>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" phase="pre" selector="mxf >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" phase="pre" selector="mxf cn">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="up" phase="pre" selector="mxf >">
  <i:this/>
  <apply> <mxf/> <i:child/> </apply>
</template>

<template name="up" selector="mxf >">
  <i:this/>
  <i:cursor> <i:sibling/> <i:home/> </i:cursor>
</template>

<template name="up" phase="post" selector="mxf >">
  <i:this/>
  <i:cursor> <i:sibling/> <i:right/> </i:cursor>
</template>

<template name="down" phase="pre" selector="mxf >">
  <i:this/>
  <apply> <mxf/> <i:child/> </apply>
</template>

<template name="down" selector="mxf >">
  <i:this/>
  <i:cursor> <i:sibling/> <i:end/> </i:cursor>
</template>

<template name="/" phase="pre" selector="mxf >">
  <i:this/>
  <apply> <mxf/> <i:child/> </apply>
</template>

<template name="/" selector="mxf >">
  <i:this/>
  <i:cursor> <i:sibling/> <i:end/> </i:cursor>
</template>

<template name="/" selector="mxf">
  <i:this/>
  <apply> <divide/> <i:this/> <i:box/> </apply>
</template>

<template name="\" phase="pre" selector="mxf >">
  <i:this/>
  <apply> <mxf/> <i:child/> </apply>
</template>

<template name="\" selector="mxf >">
  <i:this/>
  <i:cursor> <i:sibling/> <i:end/> </i:cursor>
</template>

<template name="\" selector="mxf">
  <i:this/>
  <apply> <divide/> <i:this/> <i:box/> </apply>
</template>

<template name="." phase="pre" selector="mxf >">
  <i:this/>
  <apply> <mxf/> <i:close/> </apply>
</template>

<template name="," phase="pre" selector="mxf >">
  <i:this/>
  <apply> <mxf/> <i:close/> </apply>
</template>

<template name="bs" phase="pre" selector="mxf > * + * %place">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="bs" selector="mxf > * + * %place">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="bs" phase="pre" selector="mxf > * %place">
  <i:this/>
  <apply> <mxf/> <i:close/> </apply>
</template>

<template name="bs" selector="mxf">
  <apply> <mxf/> <i:x/> <i:y/> <i:z/> </apply>
  <apply> <divide/> <i:y/> <i:z/> </apply>
</template>

<template name="delete" phase="pre" selector="mxf > * + * %place">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="delete" selector="mxf > * + * %place">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="delete" phase="pre" selector="mxf > * %place">
  <i:this/>
  <apply> <mxf/> <i:close/> </apply>
</template>

<template name="delete" selector="mxf">
  <apply> <mxf/> <i:x/> <i:y/> <i:z/> </apply>
  <apply> <divide/> <i:y/> <i:z/> </apply>
</template>

<template name="bs" phase="post" selector="divide.">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="delete" phase="post" selector="divide.">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="bs" phase="post" selector="times. > * + * %place">
  <i:this/>
  <i:nary> <i:delete/> <i:left/> </i:nary>
</template>

<template name="delete" phase="post" selector="times. > * + * %place">
  <i:this/>
  <i:nary> <i:delete/> <i:left/> </i:nary>
</template>

<!-- Hard groups -->

<template name="paren" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="paren" selector="%math">
  <i:this/>
  <apply> <paren/> <i:this/> </apply>
</template>

<template name="paren" selector="%math %suffix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <paren/> <i:next/> </apply> </apply>
</template>

<template name="(" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="(" selector="%math">
  <i:this/>
  <apply> <paren/> <i:this/> </apply>
</template>

<template name=")" selector="math paren >">
  <i:this/>
  <apply> <paren/> <i:close/> </apply>
</template>

<template name="(" selector="%math %suffix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <paren/> <i:next/> </apply> </apply>
</template>

<template name="," phase="pre" selector="paren >">
  <i:this/>
  <apply> <paren/> <i:close/> </apply>
</template>

<template name="," selector="paren">
  <apply> <paren/> <i:x/> </apply>
  <apply> <interval closure="open"/> <i:x/> <i:next/> </apply>
</template>

<template name="," phase="pre" selector="paren > paren">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="paren > bracket">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="paren > brace">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="paren > interval">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="bs" selector="paren">
  <apply> <paren/> <i:x/> </apply>
  <i:x/>
</template>

<template name="delete" selector="paren">
  <apply> <paren/> <i:x/> </apply>
  <i:x/>
</template>

<template name="bracket" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="bracket" selector="%math">
  <i:this/>
  <apply> <bracket/> <i:this/> </apply>
</template>

<template name="bracket" selector="%math %suffix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <bracket/> <i:next/> </apply> </apply>
</template>

<template name="[" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="[" selector="%math">
  <i:this/>
  <apply> <bracket/> <i:this/> </apply>
</template>

<template name="]" selector="math bracket >">
  <i:this/>
  <apply> <bracket/> <i:close/> </apply>
</template>

<template name="[" selector="%math %suffix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <bracket/> <i:next/> </apply> </apply>
</template>

<template name="," phase="pre" selector="bracket >">
  <i:this/>
  <apply> <bracket/> <i:close/> </apply>
</template>

<template name="," selector="bracket">
  <apply> <bracket/> <i:x/> </apply>
  <apply> <interval closure="closed"/> <i:x/> <i:next/> </apply>
</template>

<template name="," phase="pre" selector="bracket > paren">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="bracket > bracket">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="bracket > brace">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="bracket > interval">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="bs" selector="bracket">
  <apply> <bracket/> <i:x/> </apply>
  <i:x/>
</template>

<template name="delete" selector="bracket">
  <apply> <bracket/> <i:x/> </apply>
  <i:x/>
</template>

<template name="brace" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="brace" selector="%math">
  <i:this/>
  <apply> <brace/> <i:this/> </apply>
</template>

<template name="brace" selector="%math %suffix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <brace/> <i:next/> </apply> </apply>
</template>

<template name="{" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="{" selector="%math">
  <i:this/>
  <apply> <brace/> <i:this/> </apply>
</template>

<template name="}" selector="math brace >">
  <i:this/>
  <apply> <brace/> <i:close/> </apply>
</template>

<template name="{" selector="%math %suffix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <brace/> <i:next/> </apply> </apply>
</template>

<template name="," phase="pre" selector="brace >">
  <i:this/>
  <apply> <brace/> <i:close/> </apply>
</template>

<template name="," selector="brace">
  <apply> <brace/> <i:x/> </apply>
  <apply> <set/> <i:x/> <i:next/> </apply>
</template>

<template name="," phase="pre" selector="brace > paren">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="brace > bracket">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="brace > brace">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="," phase="pre" selector="brace > interval">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="bs" selector="brace">
  <apply> <brace/> <i:x/> </apply>
  <i:x/>
</template>

<template name="delete" selector="brace">
  <apply> <brace/> <i:x/> </apply>
  <i:x/>
</template>

<!-- Soft groups -->

<template name="sparen" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="sparen" selector="%math">
  <i:this/>
  <apply> <sparen/> <i:this/> </apply>
</template>

<template name="sparen" selector="%math %suffix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <sparen/> <i:next/> </apply> </apply>
</template>

<template name="{" ctrl="true" alt="true" phase="pre" selector="%assoc %select">
  <i:this/>
  <i:assoc> <i:insert/> </i:assoc>
</template>

<template name="{" ctrl="true" alt="true" selector="%math">
  <i:this/>
  <apply> <sparen/> <i:this/> </apply>
</template>

<template name="}" ctrl="true" alt="true" selector="sparen >">
  <i:this/>
  <apply> <sparen/> <i:close/> </apply>
</template>

<template name="{" ctrl="true" alt="true" selector="%math %suffix %exist %insert">
  <i:this/>
  <apply> <times/> <i:this/> <apply> <sparen/> <i:next/> </apply> </apply>
</template>

<!-- Implicit groups -->

<template name=")" phase="pre" selector="%math">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" phase="pre" selector="%math">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="}" phase="pre" selector="%math">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<!--
<template name="right" alt="true" phase="pre" selector="%math">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>
-->

<template name=")" selector="%math">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="]" selector="%math">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="}" selector="%math">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name=")" selector="apply >">
  <i:this/>
  <apply> <apply/> <i:close/> </apply>
</template>

<template name="]" selector="apply >">
  <i:this/>
  <apply> <apply/> <i:close/> </apply>
</template>

<template name="}" selector="apply >">
  <i:this/>
  <apply> <apply/> <i:close/> </apply>
</template>

<!--
<template name="right" alt="true" selector="apply >">
  <i:this/>
  <apply> <apply/> <i:close/> </apply>
</template>
-->

<template name=")" selector="divide >">
  <i:this/>
  <apply> <divide/> <i:close/> </apply>
</template>

<template name="]" selector="divide >">
  <i:this/>
  <apply> <divide/> <i:close/> </apply>
</template>

<template name="}" selector="divide >">
  <i:this/>
  <apply> <divide/> <i:close/> </apply>
</template>

<!--
<template name="right" alt="true" selector="divide >">
  <i:this/>
  <apply> <divide/> <i:close/> </apply>
</template>
-->

<template name=")" selector="power >">
  <i:this/>
  <apply> <power/> <i:close/> </apply>
</template>

<template name="]" selector="power >">
  <i:this/>
  <apply> <power/> <i:close/> </apply>
</template>

<template name="}" selector="power >">
  <i:this/>
  <apply> <power/> <i:close/> </apply>
</template>

<!--
<template name="right" alt="true" selector="power >">
  <i:this/>
  <apply> <power/> <i:close/> </apply>
</template>
-->

<template name=")" selector="root >">
  <i:this/>
  <apply> <root/> <i:close/> </apply>
</template>

<template name="]" selector="root >">
  <i:this/>
  <apply> <root/> <i:close/> </apply>
</template>

<template name="}" selector="root >">
  <i:this/>
  <apply> <root/> <i:close/> </apply>
</template>

<!--
<template name="right" alt="true" selector="root >">
  <i:this/>
  <apply> <root/> <i:close/> </apply>
</template>
-->

<template name=")" selector="abs >">
  <i:this/>
  <apply> <abs/> <i:close/> </apply>
</template>

<template name="]" selector="abs >">
  <i:this/>
  <apply> <abs/> <i:close/> </apply>
</template>

<template name="}" selector="abs >">
  <i:this/>
  <apply> <abs/> <i:close/> </apply>
</template>

<!--
<template name="right" alt="true" selector="abs >">
  <i:this/>
  <apply> <abs/> <i:close/> </apply>
</template>
-->

<!-- Custom Operators -->

<template name="@" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0040;</ci> </apply>
</template>

<template name="at" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0040;</ci> </apply>
</template>

<template name="#" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0023;</ci> </apply>
</template>

<template name="hash" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0023;</ci> </apply>
</template>

<template name="$" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0024;</ci> </apply>
</template>

<template name="dollar" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0024;</ci> </apply>
</template>

<template name="$" selector="cn">
  <i:this/>
  <apply> <times/> <ci mathvariant="normal">&#x0024;</ci> <i:this/> </apply>
</template>

<template name="dollar" selector="cn">
  <i:this/>
  <apply> <times/> <ci mathvariant="normal">&#x0024;</ci> <i:this/> </apply>
</template>

<template name="$" selector="ci">
  <i:this/>
  <apply> <times/> <ci mathvariant="normal">&#x0024;</ci> <i:this/> </apply>
</template>

<template name="dollar" selector="ci">
  <i:this/>
  <apply> <times/> <ci mathvariant="normal">&#x0024;</ci> <i:this/> </apply>
</template>

<template name="%" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0025;</ci> </apply>
</template>

<template name="percent" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0025;</ci> </apply>
</template>

<template name="&amp;" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0026;</ci> </apply>
</template>

<template name="amp" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x0026;</ci> </apply>
</template>

<template name="cent" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci mathvariant="normal">&#x00A2;</ci> </apply>
</template>

<template name="degrees" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&amp;deg;</ci> </apply>
</template>

<template name="pair" selector="%math">
  <i:this/>
  <apply> <pair/> <i:this/> <i:box/> </apply>
</template>

<template name="vec" selector="%math">
  <i:this/>
  <apply> <vec/> <i:this/> <i:box/> </apply>
</template>

<template name="hat" selector="%math">
  <i:this/>
  <apply> <hat/> <i:this/> <i:box/> </apply>
</template>

<template name="tilde" selector="%math">
  <i:this/>
  <apply> <tilde/> <i:this/> <i:box/> </apply>
</template>

<template name="degree" selector="%math">
  <i:this/>
  <apply> <degree/> <i:this/> <i:box/> </apply>
</template>

<template name="prime" selector="%math">
  <i:this/>
  <apply> <prime/> <i:this/> <i:box/> </apply>
</template>

<template name="dprime" selector="%math">
  <i:this/>
  <apply> <dprime/> <i:this/> <i:box/> </apply>
</template>

<template name="tprime" selector="%math">
  <i:this/>
  <apply> <tprime/> <i:this/> <i:box/> </apply>
</template>

<!-- Custom Constants -->

<template name="ivec" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ivec/> </apply>
</template>

<template name="jvec" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <jvec/> </apply>
</template>

<template name="kvec" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <kvec/> </apply>
</template>

<template name="ihat" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ihat/> </apply>
</template>

<template name="jhat" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <jhat/> </apply>
</template>

<template name="khat" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <khat/> </apply>
</template>

<template name="ldots" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ldots/> </apply>
</template>

<template name="cdots" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <cdots/> </apply>
</template>

<template name="vdots" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <vdots/> </apply>
</template>

<template name="ddots" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ddots/> </apply>
</template>

<template name="aleph" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <aleph/> </apply>
</template>

<template name="hslash" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <hslash/> </apply>
</template>

<template name="lambdabar" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <lambdabar/> </apply>
</template>

<template name="ell" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ell/> </apply>
</template>

<template name="nabla" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <nabla/> </apply>
</template>

<template name="indeterminant" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <indeterminant/> </apply>
</template>

<template name="?" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <indeterminant/> </apply>
</template>

<!-- Greek Capital Letters -->

<template name="Alpha" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0391;</ci> </apply>
</template>

<template name="Beta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0392;</ci> </apply>
</template>

<template name="Gamma" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0393;</ci> </apply>
</template>

<template name="Delta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0394;</ci> </apply>
</template>

<template name="Epsilon" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0395;</ci> </apply>
</template>

<template name="Zeta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0396;</ci> </apply>
</template>

<template name="Eta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0397;</ci> </apply>
</template>

<template name="Theta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0398;</ci> </apply>
</template>

<template name="Iota" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x0399;</ci> </apply>
</template>

<template name="Kappa" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x039A;</ci> </apply>
</template>

<template name="Lambda" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x039B;</ci> </apply>
</template>

<template name="Mu" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x039C;</ci> </apply>
</template>

<template name="Nu" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x039D;</ci> </apply>
</template>

<template name="Xi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x039E;</ci> </apply>
</template>

<template name="Omicron" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x039F;</ci> </apply>
</template>

<template name="Pi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A0;</ci> </apply>
</template>

<template name="Rho" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A1;</ci> </apply>
</template>

<template name="Sigma" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A3;</ci> </apply>
</template>

<template name="Tau" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A4;</ci> </apply>
</template>

<template name="Upsilon" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A5;</ci> </apply>
</template>

<template name="Phi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A6;</ci> </apply>
</template>

<template name="Chi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A7;</ci> </apply>
</template>

<template name="Psi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A8;</ci> </apply>
</template>

<template name="Omega" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03A9;</ci> </apply>
</template>

<!-- Greek Small Letters -->

<template name="alpha" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B1;</ci> </apply>
</template>

<template name="beta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B2;</ci> </apply>
</template>

<template name="gamma" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B3;</ci> </apply>
</template>

<template name="delta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B4;</ci> </apply>
</template>

<template name="epsilon" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B5;</ci> </apply>
</template>

<template name="zeta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B6;</ci> </apply>
</template>

<template name="eta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B7;</ci> </apply>
</template>

<template name="theta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B8;</ci> </apply>
</template>

<template name="iota" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03B9;</ci> </apply>
</template>

<template name="kappa" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03BA;</ci> </apply>
</template>

<template name="lambda" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03BB;</ci> </apply>
</template>

<template name="mu" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03BC;</ci> </apply>
</template>

<template name="nu" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03BD;</ci> </apply>
</template>

<template name="xi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03BE;</ci> </apply>
</template>

<template name="omicron" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03BF;</ci> </apply>
</template>

<template name="pi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C0;</ci> </apply>
</template>

<template name="rho" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C1;</ci> </apply>
</template>

<template name="sigma" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C3;</ci> </apply>
</template>

<template name="tau" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C4;</ci> </apply>
</template>

<template name="upsilon" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C5;</ci> </apply>
</template>

<template name="phi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C6;</ci> </apply>
</template>

<template name="chi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C7;</ci> </apply>
</template>

<template name="psi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C8;</ci> </apply>
</template>

<template name="omega" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03C9;</ci> </apply>
</template>

<template name="alt-beta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03D0;</ci> </apply>
</template>

<template name="alt-theta" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03D1;</ci> </apply>
</template>

<template name="alt-phi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03D5;</ci> </apply>
</template>

<template name="alt-pi" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03D6;</ci> </apply>
</template>

<template name="alt-kappa" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03F0;</ci> </apply>
</template>

<template name="alt-rho" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03F1;</ci> </apply>
</template>

<template name="alt-epsilon" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x03F5;</ci> </apply>
</template>

<!-- Script Capital Letters -->

<template name="scriptA" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D49C;</ci> </apply>
</template>

<template name="scriptB" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x212C;</ci> </apply>
</template>

<template name="scriptC" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D49E;</ci> </apply>
</template>

<template name="scriptD" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D49F;</ci> </apply>
</template>

<template name="scriptE" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x2130;</ci> </apply>
</template>

<template name="scriptF" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x2131;</ci> </apply>
</template>

<template name="scriptG" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4A2;</ci> </apply>
</template>

<template name="scriptH" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x210B;</ci> </apply>
</template>

<template name="scriptI" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x2110;</ci> </apply>
</template>

<template name="scriptJ" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4A5;</ci> </apply>
</template>

<template name="scriptK" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4A6;</ci> </apply>
</template>

<template name="scriptL" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x2112;</ci> </apply>
</template>

<template name="scriptM" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x2133;</ci> </apply>
</template>

<template name="scriptN" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4A9;</ci> </apply>
</template>

<template name="scriptO" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4AA;</ci> </apply>
</template>

<template name="scriptP" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4AB;</ci> </apply>
</template>

<template name="scriptQ" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4AC;</ci> </apply>
</template>

<template name="scriptR" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x211B;</ci> </apply>
</template>

<template name="scriptS" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4AE;</ci> </apply>
</template>

<template name="scriptT" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4AF;</ci> </apply>
</template>

<template name="scriptU" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4B0;</ci> </apply>
</template>

<template name="scriptV" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4B1;</ci> </apply>
</template>

<template name="scriptW" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4B2;</ci> </apply>
</template>

<template name="scriptX" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4B3;</ci> </apply>
</template>

<template name="scriptY" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4B4;</ci> </apply>
</template>

<template name="scriptZ" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D4B5;</ci> </apply>
</template>

<!-- Fraktur Capital Letters -->

<template name="frakturA" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D504;</ci> </apply>
</template>

<template name="frakturB" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D505;</ci> </apply>
</template>

<template name="frakturC" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x212D;</ci> </apply>
</template>

<template name="frakturD" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D507;</ci> </apply>
</template>

<template name="frakturE" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D508;</ci> </apply>
</template>

<template name="frakturF" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D509;</ci> </apply>
</template>

<template name="frakturG" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D50A;</ci> </apply>
</template>

<template name="frakturH" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x210C;</ci> </apply>
</template>

<template name="frakturI" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x2111;</ci> </apply>
</template>

<template name="frakturJ" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D50D;</ci> </apply>
</template>

<template name="frakturK" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D50E;</ci> </apply>
</template>

<template name="frakturL" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D50F;</ci> </apply>
</template>

<template name="frakturM" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D510;</ci> </apply>
</template>

<template name="frakturN" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D511;</ci> </apply>
</template>

<template name="frakturO" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D512;</ci> </apply>
</template>

<template name="frakturP" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D513;</ci> </apply>
</template>

<template name="frakturQ" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D514;</ci> </apply>
</template>

<template name="frakturR" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x211C;</ci> </apply>
</template>

<template name="frakturS" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D516;</ci> </apply>
</template>

<template name="frakturT" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D517;</ci> </apply>
</template>

<template name="frakturU" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D518;</ci> </apply>
</template>

<template name="frakturV" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D519;</ci> </apply>
</template>

<template name="frakturW" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D51A;</ci> </apply>
</template>

<template name="frakturX" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D51B;</ci> </apply>
</template>

<template name="frakturY" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x1D51C;</ci> </apply>
</template>

<template name="frakturZ" selector="%math %outfix %exist">
  <i:this/>
  <apply> <times/> <i:this/> <ci>&#x2128;</ci> </apply>
</template>

<!-- HTML elements -->

<!-- Structure elements (div p span br) -->

<template name="(" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="(" ctrl="true" phase="pre" selector="div >">
  <i:this/>
  <h:div> <i:child/> </h:div>
</template>

<template name="(" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:div> <i:next/> </h:div> </h:body>
</template>

<template name="(" ctrl="true" selector="div > * %outfix %exist">
  <i:this/>
  <h:div> <i:this/> <h:div> <i:next/> </h:div> </h:div>
</template>

<template name=")" ctrl="true" selector="div >">
  <i:this/>
  <h:div> <i:close/> </h:div>
</template>

<template name="{" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="{" ctrl="true" phase="pre" selector="div >">
  <i:this/>
  <h:div> <i:child/> </h:div>
</template>

<template name="{" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:p> <i:next/> </h:p> </h:body>
</template>

<template name="{" ctrl="true" selector="div > * %outfix %exist">
  <i:this/>
  <h:div> <i:this/> <h:p> <i:next/> </h:p> </h:div>
</template>

<template name="}" ctrl="true" selector="p >">
  <i:this/>
  <h:p> <i:close/> </h:p>
</template>

<template name="[" ctrl="true" selector="p > * %place">
  <i:this/>
  <h:span> <h:span> <i:next/> </h:span> </h:span>
</template>

<template name="[" ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:span> <i:next/> </h:span> </h:span>
</template>

<template name="]" ctrl="true" phase="pre" selector="span">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" ctrl="true" selector="span >">
  <i:this/>
  <h:span> <i:close/> </h:span>
</template>

<template name="enter" shift="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:br/> </h:span>
</template>

<template name="enter" shift="true" selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> <h:br/> </h:span>
</template>

<template name="enter" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="enter" phase="pre" selector="div >">
  <i:this/>
  <h:div> <i:child/> </h:div>
</template>

<template name="enter" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:p> <i:next/> </h:p> </h:body>
</template>

<template name="enter" selector="div > * %outfix %exist">
  <i:this/>
  <h:div> <i:this/> <h:p> <i:next/> </h:p> </h:div>
</template>

<template name="align-left" selector="div >">
  <i:this/>
  <h:div align="left"> <i:attrib/> </h:div>
</template>

<template name="align-center" selector="div >">
  <i:this/>
  <h:div align="center"> <i:attrib/> </h:div>
</template>

<template name="align-right" selector="div >">
  <i:this/>
  <h:div align="right"> <i:attrib/> </h:div>
</template>

<template name="align-justify" selector="div >">
  <i:this/>
  <h:div align="justify"> <i:attrib/> </h:div>
</template>

<template name="align-left" selector="p >">
  <i:this/>
  <h:p align="left"> <i:attrib/> </h:p>
</template>

<template name="align-center" selector="p >">
  <i:this/>
  <h:p align="center"> <i:attrib/> </h:p>
</template>

<template name="align-right" selector="p >">
  <i:this/>
  <h:p align="right"> <i:attrib/> </h:p>
</template>

<template name="align-justify" selector="p >">
  <i:this/>
  <h:p align="justify"> <i:attrib/> </h:p>
</template>

<!-- Heading elements (h1 - h6) -->
<!--
<template name="1" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="2" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="3" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="4" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="5" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="6" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="1" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:h1> <i:next/> </h:h1> </h:body>
</template>

<template name="2" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:h2> <i:next/> </h:h2> </h:body>
</template>

<template name="3" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:h3> <i:next/> </h:h3> </h:body>
</template>

<template name="4" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:h4> <i:next/> </h:h4> </h:body>
</template>

<template name="5" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:h5> <i:next/> </h:h5> </h:body>
</template>

<template name="6" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:h6> <i:next/> </h:h6> </h:body>
</template>
-->
<template name="align-left" selector="h1 >">
  <i:this/>
  <h:h1 align="left"> <i:attrib/> </h:h1>
</template>

<template name="align-center" selector="h1 >">
  <i:this/>
  <h:h1 align="center"> <i:attrib/> </h:h1>
</template>

<template name="align-right" selector="h1 >">
  <i:this/>
  <h:h1 align="right"> <i:attrib/> </h:h1>
</template>

<template name="align-justify" selector="h1 >">
  <i:this/>
  <h:h1 align="justify"> <i:attrib/> </h:h1>
</template>

<template name="align-left" selector="h2 >">
  <i:this/>
  <h:h2 align="left"> <i:attrib/> </h:h2>
</template>

<template name="align-center" selector="h2 >">
  <i:this/>
  <h:h2 align="center"> <i:attrib/> </h:h2>
</template>

<template name="align-right" selector="h2 >">
  <i:this/>
  <h:h2 align="right"> <i:attrib/> </h:h2>
</template>

<template name="align-justify" selector="h2 >">
  <i:this/>
  <h:h2 align="justify"> <i:attrib/> </h:h2>
</template>

<template name="align-left" selector="h3 >">
  <i:this/>
  <h:h3 align="left"> <i:attrib/> </h:h3>
</template>

<template name="align-center" selector="h3 >">
  <i:this/>
  <h:h3 align="center"> <i:attrib/> </h:h3>
</template>

<template name="align-right" selector="h3 >">
  <i:this/>
  <h:h3 align="right"> <i:attrib/> </h:h3>
</template>

<template name="align-justify" selector="h3 >">
  <i:this/>
  <h:h3 align="justify"> <i:attrib/> </h:h3>
</template>

<template name="align-left" selector="h4 >">
  <i:this/>
  <h:h4 align="left"> <i:attrib/> </h:h4>
</template>

<template name="align-center" selector="h4 >">
  <i:this/>
  <h:h4 align="center"> <i:attrib/> </h:h4>
</template>

<template name="align-right" selector="h4 >">
  <i:this/>
  <h:h4 align="right"> <i:attrib/> </h:h4>
</template>

<template name="align-justify" selector="h4 >">
  <i:this/>
  <h:h4 align="justify"> <i:attrib/> </h:h4>
</template>

<template name="align-left" selector="h5 >">
  <i:this/>
  <h:h5 align="left"> <i:attrib/> </h:h5>
</template>

<template name="align-center" selector="h5 >">
  <i:this/>
  <h:h5 align="center"> <i:attrib/> </h:h5>
</template>

<template name="align-right" selector="h5 >">
  <i:this/>
  <h:h5 align="right"> <i:attrib/> </h:h5>
</template>

<template name="align-justify" selector="h5 >">
  <i:this/>
  <h:h5 align="justify"> <i:attrib/> </h:h5>
</template>

<template name="align-left" selector="h6 >">
  <i:this/>
  <h:h6 align="left"> <i:attrib/> </h:h6>
</template>

<template name="align-center" selector="h6 >">
  <i:this/>
  <h:h6 align="center"> <i:attrib/> </h:h6>
</template>

<template name="align-right" selector="h6 >">
  <i:this/>
  <h:h6 align="right"> <i:attrib/> </h:h6>
</template>

<template name="align-justify" selector="h6 >">
  <i:this/>
  <h:h6 align="justify"> <i:attrib/> </h:h6>
</template>

<!-- Style elements (b i u s tt big small strike) -->

<template name="(" phase="pre" selector="%text %outfix %token %select">
  <i:this/>
  <i:text> <i:insert/> <h:span/> </i:text>
</template>

<template name="(" selector="%text %outfix %token %select">
  <i:this/>
  <h:span>(<i:this/>)</h:span>
</template>

<template name="[" phase="pre" selector="%text %outfix %token %select">
  <i:this/>
  <i:text> <i:insert/> <h:span/> </i:text>
</template>

<template name="[" selector="%text %outfix %token %select">
  <i:this/>
  <h:span>[<i:this/>]</h:span>
</template>

<template name="{" phase="pre" selector="%text %outfix %token %select">
  <i:this/>
  <i:text> <i:insert/> <h:span/> </i:text>
</template>

<template name="{" selector="%text %outfix %token %select">
  <i:this/>
  <h:span>{<i:this/>}</h:span>
</template>

<template name="b" ctrl="true" selector="p > * %place">
  <i:this/>
  <h:span> <h:b> <i:next/> </h:b> </h:span>
</template>

<template name="b" ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:b> <i:next/> </h:b> </h:span>
</template>

<template name="b" ctrl="true" selector="%text %outfix %token %select">
  <i:this/>
  <i:text> <i:insert/> <h:b/> </i:text>
</template>

<template name="b" ctrl="true" selector="b >">
  <i:this/>
  <h:b> <i:close/> </h:b>
</template>

<template name="b" ctrl="true" selector="b">
  <i:this/>
  <i:text> <i:delete/> <h:b/> </i:text>
</template>

<template name="i" ctrl="true" selector="p > * %place">
  <i:this/>
  <h:span> <h:i> <i:next/> </h:i> </h:span>
</template>

<template name="i" ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:i> <i:next/> </h:i> </h:span>
</template>

<template name="i" ctrl="true" selector="%text %outfix %token %select">
  <i:this/>
  <i:text> <i:insert/> <h:i/> </i:text>
</template>

<template name="i" ctrl="true" selector="i >">
  <i:this/>
  <h:i> <i:close/> </h:i>
</template>

<template name="i" ctrl="true" selector="i">
  <i:this/>
  <i:text> <i:delete/> <h:i/> </i:text>
</template>

<template name="u" ctrl="true" selector="p > * %place">
  <i:this/>
  <h:span> <h:u> <i:next/> </h:u> </h:span>
</template>

<template name="u" ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:u> <i:next/> </h:u> </h:span>
</template>

<template name="u" ctrl="true" selector="%text %outfix %token %select">
  <i:this/>
  <i:text> <i:insert/> <h:u/> </i:text>
</template>

<template name="u" ctrl="true" selector="u >">
  <i:this/>
  <h:u> <i:close/> </h:u>
</template>

<template name="u" ctrl="true" selector="u">
  <i:this/>
  <i:text> <i:delete/> <h:u/> </i:text>
</template>

<template name="s" ctrl="true" selector="p > * %place">
  <i:this/>
  <h:span> <h:s> <i:next/> </h:s> </h:span>
</template>

<template name="s" ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:s> <i:next/> </h:s> </h:span>
</template>

<template name="s" ctrl="true" selector="%text %outfix %token %select">
  <i:this/>
  <i:text> <i:insert/> <h:s/> </i:text>
</template>

<template name="s" ctrl="true" selector="s >">
  <i:this/>
  <h:s> <i:close/> </h:s>
</template>

<template name="s" ctrl="true" selector="s">
  <i:this/>
  <i:text> <i:delete/> <h:s/> </i:text>
</template>

<template name="t" ctrl="true" selector="p > * %place">
  <i:this/>
  <h:span> <h:tt> <i:next/> </h:tt> </h:span>
</template>

<template name="t" ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:tt> <i:next/> </h:tt> </h:span>
</template>

<template name="t" ctrl="true" selector="%text %outfix %token %select">
  <i:this/>
  <i:text> <i:insert/> <h:tt/> </i:text>
</template>

<template name="t" ctrl="true" selector="tt >">
  <i:this/>
  <h:tt> <i:close/> </h:tt>
</template>

<template name="t" ctrl="true" selector="tt">
  <i:this/>
  <i:text> <i:delete/> <h:tt/> </i:text>
</template>

<template name="big" selector="p > * %place">
  <i:this/>
  <h:span> <h:big> <i:next/> </h:big> </h:span>
</template>

<template name="big" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:big> <i:next/> </h:big> </h:span>
</template>

<template name="small" selector="p > * %place">
  <i:this/>
  <h:span> <h:small> <i:next/> </h:small> </h:span>
</template>

<template name="small" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:small> <i:next/> </h:small> </h:span>
</template>

<template name="]" ctrl="true" phase="pre" selector="b">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" ctrl="true" selector="b >">
  <i:this/>
  <h:b> <i:close/> </h:b>
</template>

<template name="]" ctrl="true" phase="pre" selector="i">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" ctrl="true" selector="i >">
  <i:this/>
  <h:i> <i:close/> </h:i>
</template>

<template name="]" ctrl="true" phase="pre" selector="u">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" ctrl="true" selector="u >">
  <i:this/>
  <h:u> <i:close/> </h:u>
</template>

<template name="]" ctrl="true" phase="pre" selector="s">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" ctrl="true" selector="s >">
  <i:this/>
  <h:s> <i:close/> </h:s>
</template>

<template name="]" ctrl="true" phase="pre" selector="tt">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" ctrl="true" selector="tt >">
  <i:this/>
  <h:tt> <i:close/> </h:tt>
</template>

<template name="]" ctrl="true" phase="pre" selector="big">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" ctrl="true" selector="big >">
  <i:this/>
  <h:big> <i:close/> </h:big>
</template>

<template name="]" ctrl="true" phase="pre" selector="small">
  <i:this/>
  <i:cursor> <i:out/> </i:cursor>
</template>

<template name="]" ctrl="true" selector="small >">
  <i:this/>
  <h:small> <i:close/> </h:small>
</template>

<!-- Character data (text) -->

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="pre"
    selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="pre"
    selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" phase="pre"
    selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX"
    selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX"
    selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="number" uri="http://math.pearson.com/MathEX"
    selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX"
    selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX"
    selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="number" uri="http://math.pearson.com/MathEX"
    selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX"
    selector="div > * %place">
  <i:this/>
  <h:p> <i:key/> </h:p>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX"
    selector="div > * %place">
  <i:this/>
  <h:p> <i:key/> </h:p>
</template>

<template name="number" uri="http://math.pearson.com/MathEX"
    selector="div > * %place">
  <i:this/>
  <h:p> <i:key/> </h:p>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX"
    selector="body > * %place">
  <i:this/>
  <h:p> <i:key/> </h:p>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX"
    selector="body > * %place">
  <i:this/>
  <h:p> <i:key/> </h:p>
</template>

<template name="number" uri="http://math.pearson.com/MathEX"
    selector="body > * %place">
  <i:this/>
  <h:p> <i:key/> </h:p>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX"
    selector="div > * %outfix %exist">
  <i:this/>
  <h:div> <i:this/> <h:p> <i:key/> </h:p> </h:div>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX"
    selector="div > * %outfix %exist">
  <i:this/>
  <h:div> <i:this/> <h:p> <i:key/> </h:p> </h:div>
</template>

<template name="number" uri="http://math.pearson.com/MathEX"
    selector="div > * %outfix %exist">
  <i:this/>
  <h:div> <i:this/> <h:p> <i:key/> </h:p> </h:div>
</template>

<template name="unknown" uri="http://math.pearson.com/MathEX"
    selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:p> <i:key/> </h:p> </h:body>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX"
    selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:p> <i:key/> </h:p> </h:body>
</template>

<template name="number" uri="http://math.pearson.com/MathEX"
    selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:p> <i:key/> </h:p> </h:body>
</template>

<template name=" " selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name=" " selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name=" " selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:p> <i:key/> </h:p> </h:body>
</template>

<template name="," selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="," selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="," selector="body > * %outfix %exist">
  <i:this/>
  <h:body> <i:this/> <h:p> <i:key/> </h:p> </h:body>
</template>

<template name="," selector="%nary %text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name="," selector="%nary %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> <i:key/> </h:span>
</template>

<template name=" " ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:span> &amp;nbsp; </h:span> </h:span>
</template>

<template name=" " ctrl="true" selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> &amp;nbsp; </h:span>
</template>

<template name="." ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:span> &amp;bull; </h:span> </h:span>
</template>

<template name="." ctrl="true" selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> &amp;bull; </h:span>
</template>

<!--
<template name="-" ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:span> &amp;ndash; </h:span> </h:span>
</template>

<template name="-" ctrl="true" selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> &amp;ndash; </h:span>
</template>
-->

<template name="-" ctrl="true" alt="true" selector="%text %outfix %token">
  <i:this/>
  <h:span> <i:this/> <h:span> &amp;mdash; </h:span> </h:span>
</template>

<template name="-" ctrl="true" alt="true" selector="p > %text %outfix %exist">
  <i:this/>
  <h:span> <i:this/> &amp;mdash; </h:span>
</template>

<!-- Interface elements (math) -->

<template name="m" ctrl="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="m" ctrl="true" alt="true" phase="pre" selector="body >">
  <i:this/>
  <h:body> <i:child/> </h:body>
</template>

<template name="m" ctrl="true" phase="pre" selector="div >">
  <i:this/>
  <h:div> <i:child/> </h:div>
</template>

<template name="m" ctrl="true" alt="true" phase="pre" selector="div >">
  <i:this/>
  <h:div> <i:child/> </h:div>
</template>

<template name="m" ctrl="true" phase="pre" selector="p >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="m" ctrl="true" alt="true" phase="pre" selector="p >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="m" ctrl="true" phase="pre" selector="html math >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="m" ctrl="true" alt="true" phase="pre" selector="html math >">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="m" ctrl="true" selector="html math >">
  <i:this/>
  <math display="@"> <i:attrib/> </math>
</template>

<template name="m" ctrl="true" alt="true" selector="html math >">
  <i:this/>
  <math display="block"> <i:attrib/> </math>
</template>

<template name="M" ctrl="true" selector="html math >">
  <i:this/>
  <math> <i:close/> </math>
</template>

<template name="m" ctrl="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body>
    <i:this/>
    <h:p>
      <math>
        <apply> <csymbol cd="basic">box</csymbol> </apply>
      </math>
    </h:p>
  </h:body>
</template>

<template name="m" ctrl="true" alt="true" selector="body > * %outfix %exist">
  <i:this/>
  <h:body>
    <i:this/>
    <math display="block">
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:body>
</template>

<template name="m" ctrl="true" selector="div > * %outfix %exist">
  <i:this/>
  <h:div>
    <i:this/>
    <h:p>
      <math>
        <apply> <csymbol cd="basic">box</csymbol> </apply>
      </math>
    </h:p>
  </h:div>
</template>

<template name="m" ctrl="true" alt="true" selector="div > * %outfix %exist">
  <i:this/>
  <h:div>
    <i:this/>
    <math display="block">
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:div>
</template>

<template name="m" ctrl="true" selector="p > * %outfix %exist">
  <i:this/>
  <h:p>
    <i:this/>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="m" ctrl="true" alt="true" selector="p > * %outfix %exist">
  <i:this/>
  <h:p>
    <i:this/>
    <math display="block">
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="m" ctrl="true" selector="%text %outfix %token">
  <i:this/>
  <h:span>
    <i:this/>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:span>
</template>

<template name="m" ctrl="true" alt="true" selector="%text %outfix %token">
  <i:this/>
  <h:span>
    <i:this/>
    <math display="block">
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:span>
</template>

<!-- Implicit return to text mode -->

<template name="bs" phase="pre" selector="html math > * %place">
  <i:this/>
  <math> <i:close/> </math>
</template>

<template name=" " phase="pre" selector="html math >">
  <i:this/>
  <math> <i:close/> </math>
</template>

<template name="." phase="pre" selector="html math >">
  <i:this/>
  <math> <i:close/> </math>
</template>

<template name="," phase="pre" selector="html math >">
  <i:this/>
  <math> <i:close/> </math>
</template>

<template name="." phase="pre" selector="html math > %place">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="." phase="pre" selector="html math > %number">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="." phase="pre" selector="html math > cn">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<template name="," phase="pre" selector="html math > %number">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="," phase="pre" selector="html math > cn">
  <i:this/>
  <i:cursor> <i:in/> </i:cursor>
</template>

<!--
<template name="," phase="pre" selector="html math > %array >">
  <i:this/>
  <i:array> <i:cursor/> <i:elt/> </i:array>
</template>
-->

<template name="," phase="pre" selector="html math > apply >">
  <i:this/>
  <apply> <apply/> <i:child/> </apply>
</template>

<template name="," phase="pre" selector="html math > interval >">
  <i:this/>
  <apply> <interval/> <i:child/> </apply>
</template>

<template name="," phase="pre" selector="html math > superscript >">
  <i:this/>
  <apply> <superscript/> <i:child/> </apply>
</template>

<template name="," phase="pre" selector="html math > subscript >">
  <i:this/>
  <apply> <subscript/> <i:child/> </apply>
</template>

<!-- Implicit return to math mode -->

<template name="+" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="-" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="*" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="/" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="\" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="^" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="`" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="=" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="&lt;" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="&gt;" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="(" phase="pre" selector="%text %outfix %token %insert">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="[" phase="pre" selector="%text %outfix %token %insert">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="{" phase="pre" selector="%text %outfix %token %insert">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="!" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="_" phase="pre" selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="+" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="-" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="*" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="/" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="\" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="^" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="`" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="=" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="&lt;" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="&gt;" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="(" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="[" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="{" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="!" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="_" phase="pre" selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="+" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="-" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="*" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="/" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="\" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="^" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="`" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="=" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="&lt;" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="&gt;" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="(" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="[" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="{" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="!" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="_" phase="pre" selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<!-- (cursor) -->

<template name="unknown" uri="http://math.pearson.com/MathEX" phase="post"
    selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:doc/> <i:right/> </i:cursor>
</template>

<template name="symbol" uri="http://math.pearson.com/MathEX" phase="post"
    selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:doc/> <i:right/> </i:cursor>
</template>

<template name="number" uri="http://math.pearson.com/MathEX" phase="post"
    selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:doc/> <i:right/> </i:cursor>
</template>

<template name="left" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" phase="post" selector="%text %token %right">
  <i:this/>
  <i:cursor> <i:doc/> <i:left/> </i:cursor>
</template>

<template name="right" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:doc/> <i:right/> </i:cursor>
</template>

<template name="right" phase="post" selector="%text %token %right">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" ctrl="true" shift="true" selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" ctrl="true" shift="true" phase="pre" selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="left" ctrl="true" shift="true" phase="post" selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="right" ctrl="true" shift="true" selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="right" ctrl="true" shift="true" phase="pre" selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="right" ctrl="true" shift="true" phase="post" selector="%text">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="tab" shift="true" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="tab" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="tab" ctrl="true" shift="true" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="tab" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="bs" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="delete" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="undo" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="redo" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="y" ctrl="true" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="z" ctrl="true" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="Z" ctrl="true" phase="post" selector="%text %token %left">
  <i:this/>
  <i:cursor> <i:none/> </i:cursor>
</template>

<template name="math" uri="http://math.pearson.com/MathEX"
    selector="%text %outfix %token">
  <i:this/>
  <i:text> <i:insert/> <i:math/> </i:text>
</template>

<template name="math" uri="http://math.pearson.com/MathEX"
    selector="div > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

<template name="math" uri="http://math.pearson.com/MathEX"
    selector="body > * %place">
  <i:this/>
  <h:p>
    <math>
      <apply> <csymbol cd="basic">box</csymbol> </apply>
    </math>
  </h:p>
</template>

</templates>

<!-- Named buttons for palette objects -->

<buttons>

    <button id="edit">
        <label icon="ee-icon-list-alt"/>
        <tooltip>Edit</tooltip>
    </button>
    <button id="numbers">
        <label>123</label>
        <tooltip>Numbers</tooltip>
    </button>
    <button id="letters">
        <label fontStyle="italic">abc</label>
        <tooltip>Letters</tooltip>
    </button>
    <button id="other">
        <label>???</label>
        <tooltip>Other</tooltip>
    </button>
    <button id="arithmetic">
        <label>&#x00F7;</label>
        <tooltip>Arithmetic</tooltip>
    </button>
    <button id="exponents">
        <label fontStyle="italic">y&lt;sup>x&lt;/sup></label>
        <tooltip>Exponents</tooltip>
    </button>
    <button id="relations">
        <label>&#x223C;</label>
        <tooltip>Relations</tooltip>
    </button>
    <button id="groups">
        <label fontSize="80%">[&#x00B7;]</label>
        <tooltip>Groups</tooltip>
    </button>
    <button id="sets">
        <label>&#x222A;</label>
        <tooltip>Sets</tooltip>
    </button>
    <button id="geometry">
        <label fontSize="110%" fontWeight="normal">&#x2220;</label>
        <tooltip>Geometry</tooltip>
    </button>
    <button id="trigonometry">
        <label fontSize="80%">sin</label>
        <tooltip>Trigonometry</tooltip>
    </button>
    <button id="hyperbolic">
        <label fontSize="80%">sinh</label>
        <tooltip>Hyperbolic</tooltip>
    </button>
    <button id="statistics">
        <label fontStyle="italic">&#x03BC;</label>
        <tooltip>Statistics</tooltip>
    </button>
    <button id="greek">
        <label>&#x03B1;</label>
        <tooltip>Greek</tooltip>
    </button>
    <button id="greek-lower">
        <label>&#x03B1;</label>
        <tooltip>Greek lower case</tooltip>
    </button>
    <button id="greek-upper">
        <label>&#x03A9;</label>
        <tooltip>Greek upper case</tooltip>
    </button>
    <button id="greek-symbols">
        <label>&#x03D0;</label>
        <tooltip>Greek symbols</tooltip>
    </button>

    <button id="up">
        <label>&#x2191;</label>
        <tooltip>up</tooltip>
        <template name="up"/>
    </button>
    <button id="left">
        <label>&#x2190;</label>
        <tooltip>left</tooltip>
        <template name="left"/>
    </button>
    <button id="right">
        <label>&#x2192;</label>
        <tooltip>right</tooltip>
        <template name="right"/>
    </button>
    <button id="down">
        <label>&#x2193;</label>
        <tooltip>down</tooltip>
        <template name="down"/>
    </button>

    <button id="a">
        <label fontStyle="italic">a</label>
        <tooltip>a</tooltip>
        <template char="a"/>
    </button>
    <button id="b">
        <label fontStyle="italic">b</label>
        <tooltip>b</tooltip>
        <template char="b"/>
    </button>
    <button id="c">
        <label fontStyle="italic">c</label>
        <tooltip>c</tooltip>
        <template char="c"/>
    </button>
    <button id="d">
        <label fontStyle="italic">d</label>
        <tooltip>d</tooltip>
        <template char="d"/>
    </button>
    <button id="e">
        <label fontStyle="italic">e</label>
        <tooltip>e</tooltip>
        <template char="e"/>
    </button>
    <button id="f">
        <label fontStyle="italic">f</label>
        <tooltip>f</tooltip>
        <template char="f"/>
    </button>
    <button id="g">
        <label fontStyle="italic">g</label>
        <tooltip>g</tooltip>
        <template char="g"/>
    </button>
    <button id="h">
        <label fontStyle="italic">h</label>
        <tooltip>h</tooltip>
        <template char="h"/>
    </button>
    <button id="i">
        <label fontStyle="italic">i</label>
        <tooltip>i</tooltip>
        <template char="i"/>
    </button>
    <button id="j">
        <label fontStyle="italic">j</label>
        <tooltip>j</tooltip>
        <template char="j"/>
    </button>
    <button id="k">
        <label fontStyle="italic">k</label>
        <tooltip>k</tooltip>
        <template char="k"/>
    </button>
    <button id="l">
        <label fontStyle="italic">l</label>
        <tooltip>l</tooltip>
        <template char="l"/>
    </button>
    <button id="m">
        <label fontStyle="italic">m</label>
        <tooltip>m</tooltip>
        <template char="m"/>
    </button>
    <button id="n">
        <label fontStyle="italic">n</label>
        <tooltip>n</tooltip>
        <template char="n"/>
    </button>
    <button id="o">
        <label fontStyle="italic">o</label>
        <tooltip>o</tooltip>
        <template char="o"/>
    </button>
    <button id="p">
        <label fontStyle="italic">p</label>
        <tooltip>p</tooltip>
        <template char="p"/>
    </button>
    <button id="q">
        <label fontStyle="italic">q</label>
        <tooltip>q</tooltip>
        <template char="q"/>
    </button>
    <button id="r">
        <label fontStyle="italic">r</label>
        <tooltip>r</tooltip>
        <template char="r"/>
    </button>
    <button id="s">
        <label fontStyle="italic">s</label>
        <tooltip>s</tooltip>
        <template char="s"/>
    </button>
    <button id="t">
        <label fontStyle="italic">t</label>
        <tooltip>t</tooltip>
        <template char="t"/>
    </button>
    <button id="u">
        <label fontStyle="italic">u</label>
        <tooltip>u</tooltip>
        <template char="u"/>
    </button>
    <button id="v">
        <label fontStyle="italic">v</label>
        <tooltip>v</tooltip>
        <template char="v"/>
    </button>
    <button id="w">
        <label fontStyle="italic">w</label>
        <tooltip>w</tooltip>
        <template char="w"/>
    </button>
    <button id="x">
        <label fontStyle="italic">x</label>
        <tooltip>x</tooltip>
        <template char="x"/>
    </button>
    <button id="y">
        <label fontStyle="italic">y</label>
        <tooltip>y</tooltip>
        <template char="y"/>
    </button>
    <button id="z">
        <label fontStyle="italic">z</label>
        <tooltip>z</tooltip>
        <template char="z"/>
    </button>
    <button id=";">
        <label fontStyle="italic">;</label>
        <tooltip>;</tooltip>
        <template char=";"/>
    </button>
    <button id=",">
        <label fontStyle="italic">,</label>
        <tooltip>,</tooltip>
        <template char=","/>
    </button>
    <button id=".">
        <label fontStyle="italic">.</label>
        <tooltip>.</tooltip>
        <template char="."/>
    </button>
    <button id="/">
        <label fontStyle="italic">/</label>
        <tooltip>/</tooltip>
        <template char="/"/>
    </button>

    <button id="more">
        <label class="btn-inverse" icon="ee-icon-caret-down ee-icon-list-alt"/>
        <tooltip>more symbols</tooltip>
        <template name="more"/>
    </button>

    <button id="cut">
        <label>&#x2702;</label>
        <tooltip>cut</tooltip>
        <template name="cut"/>
    </button>
    <button id="copy">
        <label>&#x29C9;</label>
        <tooltip>copy</tooltip>
        <template name="copy"/>
    </button>
    <button id="paste">
        <label>&#x25F2;</label>
        <tooltip>paste</tooltip>
        <template name="paste"/>
    </button>
    <button id="delete">
        <label icon="ee-icon-remove" fontColor="#FF4040"/>
        <tooltip>delete</tooltip>
        <template name="delete"/>
    </button>
    <button id="bs">
        <label class="btn-medium" icon="ee-icon-erase"/>
        <tooltip>backspace</tooltip>
        <template name="bs"/>
    </button>
    <button id="undo">
        <label class="btn-medium" icon="ee-icon-undo"/>
        <tooltip>undo</tooltip>
        <template name="undo"/>
    </button>
    <button id="redo">
        <label class="btn-medium" icon="ee-icon-redo"/>
        <tooltip>redo</tooltip>
        <template name="redo"/>
    </button> 
    <button id="reset">
        <label class="btn-medium" icon="ee-icon-refresh"/>
        <tooltip>reset</tooltip>
        <template name="reset"/>
    </button>
    <button id="clear">
        <label class="btn-medium" icon="ee-icon-refresh"/>
        <tooltip>clear all</tooltip>
        <template name="clear"/>
    </button>

    <button id="zero">
        <label>0</label>
        <tooltip>zero</tooltip>
        <template char="0"/>
    </button>
    <button id="one">
        <label>1</label>
        <tooltip>one</tooltip>
        <template char="1"/>
    </button>
    <button id="two">
        <label>2</label>
        <tooltip>two</tooltip>
        <template char="2"/>
    </button>
    <button id="three">
        <label>3</label>
        <tooltip>three</tooltip>
        <template char="3"/>
    </button>
    <button id="four">
        <label>4</label>
        <tooltip>four</tooltip>
        <template char="4"/>
    </button>
    <button id="five">
        <label>5</label>
        <tooltip>five</tooltip>
        <template char="5"/>
    </button>
    <button id="six">
        <label>6</label>
        <tooltip>six</tooltip>
        <template char="6"/>
    </button>
    <button id="seven">
        <label>7</label>
        <tooltip>seven</tooltip>
        <template char="7"/>
    </button>
    <button id="eight">
        <label>8</label>
        <tooltip>eight</tooltip>
        <template char="8"/>
    </button>
    <button id="nine">
        <label>9</label>
        <tooltip>nine</tooltip>
        <template char="9"/>
    </button>
    <button id="comma">
        <label>,</label>
        <tooltip>comma</tooltip>
        <template char=","/>
    </button>
    <button id="decimal">
        <label>.</label>
        <tooltip>decimal point</tooltip>
        <template char="."/>
    </button>

    <button id="exponentiale">
        <label fontStyle="italic">e</label>
        <tooltip>exponential e</tooltip>
        <template name="exponentiale"/>
    </button>
    <button id="imaginaryi">
        <label fontStyle="italic">i</label>
        <tooltip>imaginary i</tooltip>
        <template name="imaginaryi"/>
    </button>
    <button id="constantpi">
        <label fontStyle="italic">&#x03C0;</label>
        <tooltip>constant pi</tooltip>
        <template name="constantpi"/>
    </button>
    <button id="infinity">
        <label>&#x221E;</label>
        <tooltip>infinity</tooltip>
        <template name="infinity"/>
    </button>
    <button id="indeterminant">
        <label>?</label>
        <tooltip>unknown number</tooltip>
        <template name="indeterminant"/>
    </button>

    <button id="plus">
        <label>&#x002B;</label>
        <tooltip>plus sign</tooltip>
        <template name="nary-plus"/>
    </button>
    <button id="minus">
        <label>&#x2212;</label>
        <tooltip>minus sign</tooltip>
        <template name="nary-minus"/>
    </button>
    <button id="positive">
        <label>&lt;sup>+&lt;/sup></label>
        <tooltip>positive sign</tooltip>
        <template name="positive"/>
    </button>
    <button id="negative">
        <label>&lt;sup>&#x2212;&lt;/sup></label>
        <tooltip>negative sign</tooltip>
        <template name="negative"/>
    </button>
    <button id="plus-minus">
        <label>&#x00B1;</label>
        <tooltip>plus-minus sign</tooltip>
        <template name="plus-minus"/>
    </button>
    <button id="minus-plus">
        <label>&#x2213;</label>
        <tooltip>minus-plus sign</tooltip>
        <template name="minus-plus"/>
    </button>
    <button id="times">
        <label fontWeight="normal">&#x2612;</label>
        <tooltip>times</tooltip>
        <template name="times"/>
    </button>
    <button id="times-sign">
        <label>&#x00D7;</label>
        <tooltip>times sign</tooltip>
        <template name="times-sign"/>
    </button>
    <button id="times-sdot">
        <label>&#x00B7;</label>
        <tooltip>times dot</tooltip>
        <template name="times-sdot"/>
    </button>
    <button id="times-ast">
        <label>&#x2217;</label>
        <tooltip>times asterisk</tooltip>
        <template name="times-ast"/>
    </button>
    <button id="divide">
        <label icon="ee-icon-frac"/>
        <tooltip>fraction</tooltip>
        <template name="divide"/>
    </button>
    <button id="divide-sign">
        <label>&#x00F7;</label>
        <tooltip>division sign</tooltip>
        <template name="divide-sign"/>
    </button>
    <button id="divide-slash">
        <label>&#x2044;</label>
        <tooltip>division slash</tooltip>
        <template name="divide-slash"/>
    </button>
    <button id="mxf">
        <label icon="ee-icon-mxf"/>
        <tooltip>mixed number</tooltip>
        <template name="mxf"/>
    </button>
    <button id="percent">
        <label>&#x0025;</label>
        <tooltip>percent sign</tooltip>
        <template name="percent"/>
    </button>
    <button id="dollar">
        <label>&#x0024;</label>
        <tooltip>dollar sign</tooltip>
        <template name="dollar"/>
    </button>
    <button id="cent">
        <label>&#x00A2;</label>
        <tooltip>cent sign</tooltip>
        <template name="cent"/>
    </button>
    <button id="degrees">
        <label>&#x00B0;</label>
        <tooltip>degree sign</tooltip>
        <template name="degrees"/>
    </button>

    <button id="square">
        <label>&lt;span style="font-style: italic">x&lt;/span>&lt;sup>2&lt;/sup></label>
        <tooltip>square</tooltip>
        <template name="square"/>
    </button>
    <button id="cube">
        <label>&lt;span style="font-style: italic">x&lt;/span>&lt;sup>3&lt;/sup></label>
        <tooltip>cube</tooltip>
        <template name="cube"/>
    </button>
    <button id="fourth">
        <label>&lt;span style="font-style: italic">x&lt;/span>&lt;sup>4&lt;/sup></label>
        <tooltip>fourth</tooltip>
        <template name="fourth"/>
    </button>
    <button id="power">
        <label fontStyle="italic">y&lt;sup>x&lt;/sup></label>
        <tooltip>power</tooltip>
        <template name="power"/>
    </button>
    <button id="sqrt">
        <label icon="ee-icon-sqrt"/>
        <tooltip>square root</tooltip>
        <template name="sqrt"/>
    </button>
    <button id="root">
        <label icon="ee-icon-root"/>
        <tooltip>general root</tooltip>
        <template name="root"/>
    </button>
    <button id="cube-root">
        <label icon="ee-icon-rt-3"/>
        <tooltip>cube root</tooltip>
        <template name="cube-root"/>
    </button>
    <button id="fourth-root">
        <label icon="ee-icon-rt-4"/>
        <tooltip>fourth root</tooltip>
        <template name="fourth-root"/>
    </button>
    <button id="exp">
        <label fontStyle="italic">e&lt;sup>x&lt;/sup></label>
        <tooltip>exponential</tooltip>
        <template name="exp"/>
    </button>
    <button id="ln">
        <label>ln</label>
        <tooltip>natural logarithm</tooltip>
        <template name="ln"/>
    </button>
    <button id="log">
        <label>log</label>
        <tooltip>common logarithm</tooltip>
        <template name="log"/>
    </button>
    <button id="log-base">
        <label>log&lt;sub>&lt;i>b&lt;/i>&lt;/sub></label>
        <tooltip>general logarithm</tooltip>
        <template name="log-base"/>
    </button>

    <button id="mean0">
        <label fontStyle="italic">&#x03BC;</label>
        <tooltip>mean</tooltip>
        <template name="mean0"/>
    </button>
    <button id="sdev0">
        <label fontStyle="italic">&#x03C3;</label>
        <tooltip>standard deviation</tooltip>
        <template name="sdev0"/>
    </button>
    <button id="xbar">
        <label>&lt;span style="display: inline-block; line-height: 0.6em; border-top: 1px solid; font-style: italic;">x&lt;/span></label>
        <tooltip>mean of x</tooltip>
        <template name="xbar"/>
    </button>
    <button id="ybar">
        <label>&lt;span style="display: inline-block; line-height: 0.6em; border-top: 1px solid; font-style: italic;">y&lt;/span></label>
        <tooltip>mean of y</tooltip>
        <template name="ybar"/>
    </button>
    <button id="sum1">
        <label>&#x03A3;</label>
        <tooltip>summation</tooltip>
        <template name="sum1"/>
    </button>

    <button id="mean">
        <label>&lt;span style="display: inline-block; line-height: 0.6em; border-top: 1px solid; font-style: italic;">x&lt;/span></label>
        <tooltip>mean</tooltip>
        <template name="mean"/>
    </button>
    <button id="sdev">
        <label fontStyle="italic">&#x03C3;x</label>
        <tooltip>standard deviation</tooltip>
        <template name="sdev"/>
    </button>
    <button id="variance">
        <label fontStyle="italic">&#x03C3;&lt;sup>2&lt;/sup>x</label>
        <tooltip>variance</tooltip>
        <template name="variance"/>
    </button>
    <button id="factorial">
        <label>&lt;i>x&lt;/i>!</label>
        <tooltip>factorial</tooltip>
        <template name="factorial"/>
    </button>
    <button id="superscript">
        <label fontStyle="italic">x&lt;sup>i&lt;/sup></label>
        <tooltip>superscript</tooltip>
        <template name="superscript"/>
    </button>
    <button id="subscript">
        <label fontStyle="italic">x&lt;sub>i&lt;/sub></label>
        <tooltip>subscript</tooltip>
        <template name="subscript"/>
    </button>

    <button id="equal">
        <label>&#x003D;</label>
        <tooltip>equal</tooltip>
        <template name="equal"/>
    </button>
    <button id="not-equal">
        <label>&#x2260;</label>
        <tooltip>not equal</tooltip>
        <template name="not-equal"/>
    </button>
    <button id="less-than">
        <label>&amp;#x003C;</label>
        <tooltip>less than</tooltip>
        <template name="less-than"/>
    </button>
    <button id="greater-than">
        <label>&#x003E;</label>
        <tooltip>greater than</tooltip>
        <template name="greater-than"/>
    </button>
    <button id="less-equal">
        <label>&#x2264;</label>
        <tooltip>less than or equal</tooltip>
        <template name="less-equal"/>
    </button>
    <button id="greater-equal">
        <label>&#x2265;</label>
        <tooltip>greater than or equal</tooltip>
        <template name="greater-equal"/>
    </button>

    <button id="similar">
        <label>&#x223C;</label>
        <tooltip>similar</tooltip>
        <template name="similar"/>
    </button>
    <button id="not-similar">
        <label>&#x2241;</label>
        <tooltip>not similar</tooltip>
        <template name="not-similar"/>
    </button>
    <button id="similar-equal">
        <label>&#x2243;</label>
        <tooltip>similar or equal</tooltip>
        <template name="similar-equal"/>
    </button>
    <button id="not-similar-equal">
        <label>&#x2244;</label>
        <tooltip>not similar or equal</tooltip>
        <template name="not-similar-equal"/>
    </button>
    <button id="approx">
        <label>&#x2248;</label>
        <tooltip>approximately equal</tooltip>
        <template name="approx"/>
    </button>
    <button id="not-approx">
        <label>&#x2249;</label>
        <tooltip>not approximately equal</tooltip>
        <template name="not-approx"/>
    </button>
    <button id="equivalent">
        <label>&#x2261;</label>
        <tooltip>equivalent</tooltip>
        <template name="equivalent"/>
    </button>
    <button id="not-equivalent">
        <label>&#x2262;</label>
        <tooltip>not equivalent</tooltip>
        <template name="not-equivalent"/>
    </button>
    <button id="congruent">
        <label>&#x2245;</label>
        <tooltip>congruent</tooltip>
        <template name="congruent"/>
    </button>
    <button id="not-congruent">
        <label>&#x2247;</label>
        <tooltip>not congruent</tooltip>
        <template name="not-congruent"/>
    </button>

    <button id="prec">
        <label>&#x227A;</label>
        <tooltip>precedes</tooltip>
        <template name="prec"/>
    </button>
    <button id="succ">
        <label>&#x227B;</label>
        <tooltip>succeeds</tooltip>
        <template name="succ"/>
    </button>
    <button id="doteq">
        <label>&#x2250;</label>
        <tooltip>dot equal</tooltip>
        <template name="doteq"/>
    </button>
    <button id="ratio">
        <label>:</label>
        <tooltip>ratio</tooltip>
        <template name="ratio"/>
    </button>
    <button id="propto">
        <label>&#x221D;</label>
        <tooltip>proportional to</tooltip>
        <template name="propto"/>
    </button>
    <button id="preceq">
        <label>&#x2AAF;</label>
        <tooltip>precedes or equal</tooltip>
        <template name="preceq"/>
    </button>
    <button id="succeq">
        <label>&#x2AB0;</label>
        <tooltip>succeeds or equal</tooltip>
        <template name="succeq"/>
    </button>
    <button id="therefore">
        <label>&#x2234;</label>
        <tooltip>therefore</tooltip>
        <template name="therefore"/>
    </button>
    <button id="because">
        <label>&#x2235;</label>
        <tooltip>because</tooltip>
        <template name="because"/>
    </button>
    <button id="ll">
        <label>&#x226A;</label>
        <tooltip>much less than</tooltip>
        <template name="ll"/>
    </button>
    <button id="gg">
        <label>&#x226B;</label>
        <tooltip>much greater than</tooltip>
        <template name="gg"/>
    </button>
    <button id="compose">
        <label fontWeight="normal">&#x2218;</label>
        <tooltip>compose</tooltip>
        <template name="compose"/>
    </button>

    <button id="paren">
        <label fontSize="80%">(&#x00B7;)</label>
        <tooltip>parenthesis</tooltip>
        <template name="paren"/>
    </button>
    <button id="bracket">
        <label fontSize="80%">[&#x00B7;]</label>
        <tooltip>bracket</tooltip>
        <template name="bracket"/>
    </button>
    <button id="brace">
        <label fontSize="80%">{&#x00B7;}</label>
        <tooltip>brace</tooltip>
        <template name="brace"/>
    </button>
    <button id="abs">
        <label fontSize="80%">&#x2223;&#x00B7;&#x2223;</label>
        <tooltip>absolute value</tooltip>
        <template name="abs"/>
    </button>
    <button id="floor">
        <label>&#x230A;&#x00B7;&#x230B;</label>
        <tooltip>floor</tooltip>
        <template name="floor"/>
    </button>
    <button id="ceiling">
        <label>&#x2308;&#x00B7;&#x2309;</label>
        <tooltip>ceiling</tooltip>
        <template name="ceiling"/>
    </button>

    <button id="open-interval">
        <label fontSize="80%">(&#x00B7;,&#x00B7;)</label>
        <tooltip>open interval</tooltip>
        <template name="open"/>
    </button>
    <button id="closed-interval">
        <label fontSize="80%">[&#x00B7;,&#x00B7;]</label>
        <tooltip>closed interval</tooltip>
        <template name="closed"/>
    </button>
    <button id="open-closed">
        <label fontSize="80%">(&#x00B7;,&#x00B7;]</label>
        <tooltip>open-closed interval</tooltip>
        <template name="open-closed"/>
    </button>
    <button id="closed-open">
        <label fontSize="80%">[&#x00B7;,&#x00B7;)</label>
        <tooltip>closed-open interval</tooltip>
        <template name="closed-open"/>
    </button>

    <button id="union">
        <label>&#x222A;</label>
        <tooltip>union</tooltip>
        <template name="union"/>
    </button>
    <button id="intersection">
        <label>&#x2229;</label>
        <tooltip>intersection</tooltip>
        <template name="intersection"/>
    </button>
    <button id="member">
        <label>&#x2208;</label>
        <tooltip>member</tooltip>
        <template name="member"/>
    </button>
    <button id="not-member">
        <label>&#x2209;</label>
        <tooltip>not member</tooltip>
        <template name="not-member"/>
    </button>
    <button id="proper-subset">
        <label>&#x2282;</label>
        <tooltip>proper subset</tooltip>
        <template name="proper-subset"/>
    </button>
    <button id="proper-superset">
        <label>&#x2283;</label>
        <tooltip>proper superset</tooltip>
        <template name="proper-superset"/>
    </button>
    <button id="not-proper-subset">
        <label>&#x2284;</label>
        <tooltip>not proper subset</tooltip>
        <template name="not-proper-subset"/>
    </button>
    <button id="not-proper-superset">
        <label>&#x2285;</label>
        <tooltip>not proper superset</tooltip>
        <template name="not-proper-superset"/>
    </button>
    <button id="subset-equal">
        <label>&#x2286;</label>
        <tooltip>subset or equal</tooltip>
        <template name="subset-equal"/>
    </button>
    <button id="superset-equal">
        <label>&#x2287;</label>
        <tooltip>superset or equal</tooltip>
        <template name="superset-equal"/>
    </button>
    <button id="not-subset-equal">
        <label>&#x2288;</label>
        <tooltip>not subset or equal</tooltip>
        <template name="not-subset-equal"/>
    </button>
    <button id="not-superset-equal">
        <label>&#x2289;</label>
        <tooltip>not superset or equal</tooltip>
        <template name="not-superset-equal"/>
    </button>
    <button id="naturalnumbers">
        <label>&#x2115;</label>
        <tooltip>natural numbers</tooltip>
        <template name="naturalnumbers"/>
    </button>
    <button id="integers">
        <label>&#x2124;</label>
        <tooltip>integers</tooltip>
        <template name="integers"/>
    </button>
    <button id="rationals">
        <label>&#x211A;</label>
        <tooltip>rational numbers</tooltip>
        <template name="rationals"/>
    </button>
    <button id="reals">
        <label>&#x211D;</label>
        <tooltip>real numbers</tooltip>
        <template name="reals"/>
    </button>
    <button id="complexes">
        <label>&#x2102;</label>
        <tooltip>complex numbers</tooltip>
        <template name="complexes"/>
    </button>
    <button id="emptyset">
        <label>&#x2205;</label>
        <tooltip>empty set</tooltip>
        <template name="emptyset"/>
    </button>

    <button id="ray">
        <label valign="100%">&#x2192;</label>
        <tooltip>ray</tooltip>
        <template name="ray"/>
    </button>
    <button id="line">
        <label valign="100%">&#x2194;</label>
        <tooltip>line</tooltip>
        <template name="line"/>
    </button>
    <button id="segment">
        <label valign="100%">&#x2212;</label>
        <tooltip>line segment</tooltip>
        <template name="segment"/>
    </button>
    <button id="arc">
        <label fontWeight="normal">&#x2040;</label>
        <tooltip>arc</tooltip>
        <template name="arc"/>
    </button>

    <button id="parallel">
        <label fontSize="110%" fontWeight="normal">&#x2225;</label>
        <tooltip>parallel</tooltip>
        <template name="parallel"/>
    </button>
    <button id="not-parallel">
        <label fontSize="110%" fontWeight="normal">&#x2226;</label>
        <tooltip>not parallel</tooltip>
        <template name="not-parallel"/>
    </button>
    <button id="perpendicular">
        <label fontSize="110%" fontWeight="normal">&#x22A5;</label>
        <tooltip>perpendicular</tooltip>
        <template name="perpendicular"/>
    </button>
    <button id="not-perpendicular">
        <label fontSize="110%" fontWeight="normal">&lt;span style="padding-left: 0.5em">&#x22A5;&#x0338;&lt;/span></label>
        <tooltip>not perpendicular</tooltip>
        <template name="not-perpendicular"/>
    </button>

    <button id="angle">
        <label fontSize="110%" fontWeight="normal">&#x2220;</label>
        <tooltip>angle</tooltip>
        <template name="angle"/>
    </button>
    <button id="rightangle">
        <label fontSize="110%" fontWeight="normal">&#x221F;</label>
        <tooltip>right angle</tooltip>
        <template name="rightangle"/>
    </button>
    <button id="measuredangle">
        <label fontSize="110%" fontWeight="normal">&#x2221;</label>
        <tooltip>measured angle</tooltip>
        <template name="measuredangle"/>
    </button>
    <button id="sphericalangle">
        <label fontSize="110%" fontWeight="normal">&#x2222;</label>
        <tooltip>spherical angle</tooltip>
        <template name="sphericalangle"/>
    </button>

    <button id="anglemeasure">
        <label fontWeight="normal">&lt;span style="font-size: 80%; vertical-align: 20%">m&lt;/span>&#x2220;</label>
        <tooltip>angle measure</tooltip>
        <template name="anglemeasure"/>
    </button>
    <button id="triangle">
        <label fontSize="110%" fontWeight="normal">&#x25B3;</label>
        <tooltip>triangle</tooltip>
        <template name="triangle"/>
    </button>
    <button id="parallelogram">
        <label fontSize="150%" fontWeight="normal">&#x25B1;</label>
        <tooltip>parallelogram</tooltip>
        <template name="parallelogram"/>
    </button>
    <button id="circle">
        <label fontSize="110%" fontWeight="normal">&#x2299;</label>
        <tooltip>circle</tooltip>
        <template name="circle"/>
    </button>

    <button id="sin">
        <label fontSize="80%">sin</label>
        <tooltip>sine</tooltip>
        <template name="sin"/>
    </button>
    <button id="cos">
        <label fontSize="80%">cos</label>
        <tooltip>cosine</tooltip>
        <template name="cos"/>
    </button>
    <button id="tan">
        <label fontSize="80%">tan</label>
        <tooltip>tangent</tooltip>
        <template name="tan"/>
    </button>
    <button id="sec">
        <label fontSize="80%">sec</label>
        <tooltip>secant</tooltip>
        <template name="sec"/>
    </button>
    <button id="csc">
        <label fontSize="80%">csc</label>
        <tooltip>cosecant</tooltip>
        <template name="csc"/>
    </button>
    <button id="cot">
        <label fontSize="80%">cot</label>
        <tooltip>cotangent</tooltip>
        <template name="cot"/>
    </button>

    <button id="arcsin">
        <label fontSize="80%">sin&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse sine</tooltip>
        <template name="arcsin"/>
    </button>
    <button id="arccos">
        <label fontSize="80%">cos&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse cosine</tooltip>
        <template name="arccos"/>
    </button>
    <button id="arctan">
        <label fontSize="80%">tan&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse tangent</tooltip>
        <template name="arctan"/>
    </button>
    <button id="arcsec">
        <label fontSize="80%">sec&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse secant</tooltip>
        <template name="arcsec"/>
    </button>
    <button id="arccsc">
        <label fontSize="80%">csc&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse cosecant</tooltip>
        <template name="arccsc"/>
    </button>
    <button id="arccot">
        <label fontSize="80%">cot&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse cotangent</tooltip>
        <template name="arccot"/>
    </button>

    <button id="sinh">
        <label fontSize="80%">sinh</label>
        <tooltip>hyperbolic sine</tooltip>
        <template name="sinh"/>
    </button>
    <button id="cosh">
        <label fontSize="80%">cosh</label>
        <tooltip>hyperbolic cosine</tooltip>
        <template name="cosh"/>
    </button>
    <button id="tanh">
        <label fontSize="80%">tanh</label>
        <tooltip>hyperbolic tangent</tooltip>
        <template name="tanh"/>
    </button>
    <button id="sech">
        <label fontSize="80%">sech</label>
        <tooltip>hyperbolic secant</tooltip>
        <template name="sech"/>
    </button>
    <button id="csch">
        <label fontSize="80%">csch</label>
        <tooltip>hyperbolic cosecant</tooltip>
        <template name="csch"/>
    </button>
    <button id="coth">
        <label fontSize="80%">coth</label>
        <tooltip>hyperbolic cotangent</tooltip>
        <template name="coth"/>
    </button>

    <button id="arcsinh">
        <label fontSize="60%">sinh&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse hyperbolic sine</tooltip>
        <template name="arcsinh"/>
    </button>
    <button id="arccosh">
        <label fontSize="60%">cosh&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse hyperbolic cosine</tooltip>
        <template name="arccosh"/>
    </button>
    <button id="arctanh">
        <label fontSize="60%">tanh&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse hyperbolic tangent</tooltip>
        <template name="arctanh"/>
    </button>
    <button id="arcsech">
        <label fontSize="60%">sech&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse hyperbolic secant</tooltip>
        <template name="arcsech"/>
    </button>
    <button id="arccsch">
        <label fontSize="60%">csch&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse hyperbolic cosecant</tooltip>
        <template name="arccsch"/>
    </button>
    <button id="arccoth">
        <label fontSize="60%">coth&lt;sup>-1&lt;/sup></label>
        <tooltip>inverse hyperbolic cotangent</tooltip>
        <template name="arccoth"/>
    </button>

    <button id="Alpha">
        <label>&#x0391;</label>
        <tooltip>alpha</tooltip>
        <template name="Alpha"/>
    </button>
    <button id="Beta">
        <label>&#x0392;</label>
        <tooltip>beta</tooltip>
        <template name="Beta"/>
    </button>
    <button id="Gamma">
        <label>&#x0393;</label>
        <tooltip>gamma</tooltip>
        <template name="Gamma"/>
    </button>
    <button id="Delta">
        <label>&#x0394;</label>
        <tooltip>delta</tooltip>
        <template name="Delta"/>
    </button>
    <button id="Epsilon">
        <label>&#x0395;</label>
        <tooltip>epsilon</tooltip>
        <template name="Epsilon"/>
    </button>
    <button id="Zeta">
        <label>&#x0396;</label>
        <tooltip>zeta</tooltip>
        <template name="Zeta"/>
    </button>
    <button id="Eta">
        <label>&#x0397;</label>
        <tooltip>eta</tooltip>
        <template name="Eta"/>
    </button>
    <button id="Theta">
        <label>&#x0398;</label>
        <tooltip>theta</tooltip>
        <template name="Theta"/>
    </button>
    <button id="Iota">
        <label>&#x0399;</label>
        <tooltip>iota</tooltip>
        <template name="Iota"/>
    </button>
    <button id="Kappa">
        <label>&#x039A;</label>
        <tooltip>kappa</tooltip>
        <template name="Kappa"/>
    </button>
    <button id="Lambda">
        <label>&#x039B;</label>
        <tooltip>lambda</tooltip>
        <template name="Lambda"/>
    </button>
    <button id="Mu">
        <label>&#x039C;</label>
        <tooltip>mu</tooltip>
        <template name="Mu"/>
    </button>
    <button id="Nu">
        <label>&#x039D;</label>
        <tooltip>nu</tooltip>
        <template name="Nu"/>
    </button>
    <button id="Xi">
        <label>&#x039E;</label>
        <tooltip>xi</tooltip>
        <template name="Xi"/>
    </button>
    <button id="Omicron">
        <label>&#x039F;</label>
        <tooltip>omicron</tooltip>
        <template name="Omicron"/>
    </button>
    <button id="Pi">
        <label>&#x03A0;</label>
        <tooltip>pi</tooltip>
        <template name="Pi"/>
    </button>
    <button id="Rho">
        <label>&#x03A1;</label>
        <tooltip>rho</tooltip>
        <template name="Rho"/>
    </button>
    <button id="Sigma">
        <label>&#x03A3;</label>
        <tooltip>sigma</tooltip>
        <template name="Sigma"/>
    </button>
    <button id="Tau">
        <label>&#x03A4;</label>
        <tooltip>tau</tooltip>
        <template name="Tau"/>
    </button>
    <button id="Upsilon">
        <label>&#x03A5;</label>
        <tooltip>upsilon</tooltip>
        <template name="Upsilon"/>
    </button>
    <button id="Phi">
        <label>&#x03A6;</label>
        <tooltip>phi</tooltip>
        <template name="Phi"/>
    </button>
    <button id="Chi">
        <label>&#x03A7;</label>
        <tooltip>chi</tooltip>
        <template name="Chi"/>
    </button>
    <button id="Psi">
        <label>&#x03A8;</label>
        <tooltip>psi</tooltip>
        <template name="Psi"/>
    </button>
    <button id="Omega">
        <label>&#x03A9;</label>
        <tooltip>omega</tooltip>
        <template name="Omega"/>
    </button>

    <button id="alpha">
        <label>&#x03B1;</label>
        <tooltip>alpha</tooltip>
        <template name="alpha"/>
    </button>
    <button id="beta">
        <label>&#x03B2;</label>
        <tooltip>beta</tooltip>
        <template name="beta"/>
    </button>
    <button id="gamma">
        <label>&#x03B3;</label>
        <tooltip>gamma</tooltip>
        <template name="gamma"/>
    </button>
    <button id="delta">
        <label>&#x03B4;</label>
        <tooltip>delta</tooltip>
        <template name="delta"/>
    </button>
    <button id="epsilon">
        <label>&#x03B5;</label>
        <tooltip>epsilon</tooltip>
        <template name="epsilon"/>
    </button>
    <button id="zeta">
        <label>&#x03B6;</label>
        <tooltip>zeta</tooltip>
        <template name="zeta"/>
    </button>
    <button id="eta">
        <label>&#x03B7;</label>
        <tooltip>eta</tooltip>
        <template name="eta"/>
    </button>
    <button id="theta">
        <label>&#x03B8;</label>
        <tooltip>theta</tooltip>
        <template name="theta"/>
    </button>
    <button id="iota">
        <label>&#x03B9;</label>
        <tooltip>iota</tooltip>
        <template name="iota"/>
    </button>
    <button id="kappa">
        <label>&#x03BA;</label>
        <tooltip>kappa</tooltip>
        <template name="kappa"/>
    </button>
    <button id="lambda">
        <label>&#x03BB;</label>
        <tooltip>lambda</tooltip>
        <template name="lambda"/>
    </button>
    <button id="mu">
        <label>&#x03BC;</label>
        <tooltip>mu</tooltip>
        <template name="mu"/>
    </button>
    <button id="nu">
        <label>&#x03BD;</label>
        <tooltip>nu</tooltip>
        <template name="nu"/>
    </button>
    <button id="xi">
        <label>&#x03BE;</label>
        <tooltip>xi</tooltip>
        <template name="xi"/>
    </button>
    <button id="omicron">
        <label>&#x03BF;</label>
        <tooltip>omicron</tooltip>
        <template name="omicron"/>
    </button>
    <button id="pi">
        <label>&#x03C0;</label>
        <tooltip>pi</tooltip>
        <template name="pi"/>
    </button>
    <button id="rho">
        <label>&#x03C1;</label>
        <tooltip>rho</tooltip>
        <template name="rho"/>
    </button>
    <button id="sigma">
        <label>&#x03C3;</label>
        <tooltip>sigma</tooltip>
        <template name="sigma"/>
    </button>
    <button id="tau">
        <label>&#x03C4;</label>
        <tooltip>tau</tooltip>
        <template name="tau"/>
    </button>
    <button id="upsilon">
        <label>&#x03C5;</label>
        <tooltip>upsilon</tooltip>
        <template name="upsilon"/>
    </button>
    <button id="phi">
        <label>&#x03C6;</label>
        <tooltip>phi</tooltip>
        <template name="phi"/>
    </button>
    <button id="chi">
        <label>&#x03C7;</label>
        <tooltip>chi</tooltip>
        <template name="chi"/>
    </button>
    <button id="psi">
        <label>&#x03C8;</label>
        <tooltip>psi</tooltip>
        <template name="psi"/>
    </button>
    <button id="omega">
        <label>&#x03C9;</label>
        <tooltip>omega</tooltip>
        <template name="omega"/>
    </button>

    <button id="alt-beta">
        <label>&#x03D0;</label>
        <tooltip>beta symbol</tooltip>
        <template name="alt-beta"/>
    </button>
    <button id="alt-theta">
        <label>&#x03D1;</label>
        <tooltip>theta symbol</tooltip>
        <template name="alt-theta"/>
    </button>
    <button id="alt-phi">
        <label>&#x03D5;</label>
        <tooltip>phi symbol</tooltip>
        <template name="alt-phi"/>
    </button>
    <button id="alt-pi">
        <label>&#x03D6;</label>
        <tooltip>pi symbol</tooltip>
        <template name="alt-pi"/>
    </button>
    <button id="alt-kappa">
        <label>&#x03F0;</label>
        <tooltip>kappa symbol</tooltip>
        <template name="alt-kappa"/>
    </button>
    <button id="alt-rho">
        <label>&#x03F1;</label>
        <tooltip>rho symbol</tooltip>
        <template name="alt-rho"/>
    </button>
    <button id="alt-epsilon">
        <label>&#x03F5;</label>
        <tooltip>epsilon symbol</tooltip>
        <template name="alt-epsilon"/>
    </button>

    <button id="text-mode">
        <label fontWeight="normal">[A]</label>
        <tooltip>text mode</tooltip>
        <template name="ctrl-M"/>
    </button>

    <button id="math-mode">
        <label fontWeight="normal">[&#x03C0;]</label>
        <tooltip>math mode</tooltip>
        <template name="ctrl-m"/>
    </button>

    <button id="inline-mode">
        <label fontWeight="normal">$</label>
        <tooltip>inline math mode</tooltip>
        <template name="ctrl-m"/>
    </button>

    <button id="display-mode">
        <label fontWeight="normal">$$</label>
        <tooltip>display math mode</tooltip>
        <template name="ctrl-alt-m"/>
    </button>

    <button id="paragraph">
        <label fontWeight="normal">&#x00B6;</label>
        <tooltip>paragraph</tooltip>
        <template name="ctrl-{"/>
    </button>

    <button id="break">
        <label fontWeight="normal">&#x21A9;</label>
        <tooltip>line break</tooltip>
        <template name="shift-enter"/>
    </button>

    <button id="div">
        <label fontWeight="normal">div</label>
        <tooltip>vertical container (div)</tooltip>
        <template name="ctrl-("/>
    </button>

    <button id="span">
        <label fontWeight="normal">span</label>
        <tooltip>horizontal container (span)</tooltip>
        <template name="ctrl-["/>
    </button>

    <button id="bold">
        <label fontWeight="bold">B</label>
        <tooltip>bold</tooltip>
        <template name="ctrl-b"/>
    </button>

    <button id="italic">
        <label fontWeight="normal" fontStyle="italic">I</label>
        <tooltip>italic</tooltip>
        <template name="ctrl-i"/>
    </button>

    <button id="underline">
        <label fontWeight="normal">&lt;u>U&lt;/u></label>
        <tooltip>underline</tooltip>
        <template name="ctrl-u"/>
    </button>

    <button id="strike">
        <label fontWeight="normal">&lt;s>S&lt;/s></label>
        <tooltip>strike through</tooltip>
        <template name="ctrl-s"/>
    </button>

    <button id="typewriter">
        <label fontWeight="normal">TT</label>
        <tooltip>typewriter</tooltip>
        <template name="ctrl-t"/>
    </button>

    <button id="big">
        <label fontWeight="normal">[A]</label>
        <tooltip>larger font size</tooltip>
        <template name="big"/>
    </button>

    <button id="small">
        <label fontWeight="normal">[A]</label>
        <tooltip>smaller font size</tooltip>
        <template name="small"/>
    </button>

    <button id="align-left">
        <label>&#x2190;</label>
        <tooltip>left align</tooltip>
        <template name="align-left"/>
    </button>

    <button id="align-center">
        <label>&#x2194;</label>
        <tooltip>center</tooltip>
        <template name="align-center"/>
    </button>

    <button id="align-right">
        <label>&#x2192;</label>
        <tooltip>right align</tooltip>
        <template name="align-right"/>
    </button>

    <button id="align-justify">
        <label>&#x21C4;</label>
        <tooltip>justify</tooltip>
        <template name="align-justify"/>
    </button>

    <button id="h1">
        <label fontWeight="bold">H1</label>
        <tooltip>heading level one</tooltip>
        <template name="ctrl-1"/>
    </button>

    <button id="h2">
        <label fontWeight="bold">h2</label>
        <tooltip>heading level two</tooltip>
        <template name="ctrl-2"/>
    </button>

    <button id="h3">
        <label fontStyle="italic">h3</label>
        <tooltip>heading level three</tooltip>
        <template name="ctrl-3"/>
    </button>

    <button id="h4">
        <label fontWeight="bold">h4</label>
        <tooltip>heading level four</tooltip>
        <template name="ctrl-4"/>
    </button>

    <button id="h5">
        <label fontStyle="italic">h5</label>
        <tooltip>heading level five</tooltip>
        <template name="ctrl-5"/>
    </button>

    <button id="h6">
        <label fontWeight="bold">h6</label>
        <tooltip>heading level six</tooltip>
        <template name="ctrl-6"/>
    </button>

</buttons>

<!-- Named button bars for the button bar panel -->

<buttonBars>

<!-- Home bar - all buttons -->
<buttonBar id="home">
  <button ref="plus"/>
  <button ref="minus"/>
  <button ref="times-sign"/>
  <button ref="divide-sign"/>
  <button ref="power"/>
  <button ref="sqrt"/>
  <button ref="equal"/>
  <button ref="paren"/>
</buttonBar>

<!-- More bar - all buttons -->
<buttonBar id="more" back="home">
  <buttonBar ref="edit"/>
  <buttonBar ref="numbers"/>
  <buttonBar ref="letters"/>
  <buttonBar ref="arithmetic"/>
  <buttonBar ref="exponents"/>
  <buttonBar ref="relations"/>

  <br/>
  <buttonBar ref="groups"/>
  <buttonBar ref="sets"/>
  <buttonBar ref="geometry"/>
  <buttonBar ref="trigonometry"/>
  <buttonBar ref="hyperbolic"/>
  <buttonBar ref="statistics"/>

  <br/>
  <buttonBar ref="greek-lower"/>
  <buttonBar ref="greek-upper"/>
  <buttonBar ref="greek-symbols"/>
</buttonBar>

<!-- Edit bar -->
<buttonBar id="edit" back="more">
  <label ref="edit"/>
  <button ref="undo"/>
  <button ref="redo"/>
  <button ref="clear"/>
  <button ref="bs"/>
  <button ref="left"/>
  <button ref="up"/>
  <button ref="down"/>
  <button ref="right"/>
</buttonBar>

<!-- Edit bar - all buttons -->
<buttonBar id="edit-full" back="more">
  <label ref="edit"/>
  <button ref="undo"/>
  <button ref="redo"/>
  <button ref="clear"/>
  <button ref="bs"/>
  <button ref="cut"/>
  <button ref="copy"/>
  <button ref="paste"/>
  <button ref="delete"/>
</buttonBar>

<!-- Numbers bar - all buttons -->
<buttonBar id="numbers" back="more">
  <label ref="numbers"/>
  <button ref="one"/>
  <button ref="two"/>
  <button ref="three"/>
  <button ref="four"/>
  <button ref="five"/>
  <button ref="comma"/>
  <button ref="constantpi"/>
  <button ref="imaginaryi"/>

  <br/>
  <button ref="six"/>
  <button ref="seven"/>
  <button ref="eight"/>
  <button ref="nine"/>
  <button ref="zero"/>
  <button ref="decimal"/>
  <button ref="exponentiale"/>
  <button ref="infinity"/>
</buttonBar>

<!-- Letters bar -->
<buttonBar id="letters" back="more">
  <label ref="letters"/>
  <button ref="a"/>
  <button ref="b"/>
  <button ref="c"/>
  <button ref="i"/>
  <button ref="j"/>
  <button ref="x"/>
  <button ref="y"/>
  <button ref="z"/>
</buttonBar>

<!-- Letters bar - all buttons -->
<buttonBar id="letters-full" back="more">
  <label ref="letters"/>
  <button ref="q"/>
  <button ref="w"/>
  <button ref="e"/>
  <button ref="r"/>
  <button ref="t"/>
  <button ref="y"/>
  <button ref="u"/>
  <button ref="i"/>
  <button ref="o"/>
  <button ref="p"/>

  <br/>
  <button ref="a"/>
  <button ref="s"/>
  <button ref="d"/>
  <button ref="f"/>
  <button ref="g"/>
  <button ref="h"/>
  <button ref="j"/>
  <button ref="k"/>
  <button ref="l"/>
  <button ref=";"/>

  <br/>
  <button ref="z"/>
  <button ref="x"/>
  <button ref="c"/>
  <button ref="v"/>
  <button ref="b"/>
  <button ref="n"/>
  <button ref="m"/>
  <button ref=","/>
  <button ref="."/>
  <button ref="/"/>
</buttonBar>

<!-- Arithmetic bar - all buttons -->
<buttonBar id="arithmetic" back="more">
  <label ref="arithmetic"/>
  <button ref="plus"/>
  <button ref="minus"/>
  <button ref="times-sign"/>
  <button ref="divide-sign"/>
  <button ref="positive"/>
  <button ref="negative"/>
  <button ref="times-sdot"/>
  <button ref="divide-slash"/>

  <br/>
  <button ref="plus-minus"/>
  <button ref="minus-plus"/>
  <button ref="times-ast"/>
  <button ref="divide"/>
  <button ref="dollar"/>
  <button ref="degrees"/>
  <button ref="percent"/>
  <button ref="mxf"/>
</buttonBar>

<!-- Exponents bar - all buttons -->
<buttonBar id="exponents" back="more">
  <label ref="exponents"/>
  <button ref="square"/>
  <button ref="cube"/>
  <button ref="fourth"/>
  <button ref="power"/>
  <button ref="exp"/>
  <button ref="ln"/>

  <br/>
  <button ref="sqrt"/>
  <button ref="cube-root"/>
  <button ref="fourth-root"/>
  <button ref="root"/>
  <button ref="log"/>
  <button ref="log-base"/>
</buttonBar>

<!-- Relations bar - all buttons -->
<buttonBar id="relations" back="more">
  <label ref="relations"/>
  <button ref="equal"/>
  <button ref="not-equal"/>
  <button ref="less-than"/>
  <button ref="greater-than"/>
  <button ref="less-equal"/>
  <button ref="greater-equal"/>

  <br/>
  <button ref="similar"/>
  <button ref="not-similar"/>
  <button ref="approx"/>
  <button ref="not-approx"/>
  <button ref="congruent"/>
  <button ref="not-congruent"/>

  <br/>
  <button ref="equivalent"/>
  <button ref="not-equivalent"/>
  <button ref="prec"/>
  <button ref="succ"/>
  <button ref="preceq"/>
  <button ref="succeq"/>

  <br/>
  <button ref="similar-equal"/>
  <button ref="not-similar-equal"/>
  <button ref="ll"/>
  <button ref="gg"/>
  <button ref="doteq"/>
  <button ref="compose"/>

  <br/>
  <button ref="therefore"/>
  <button ref="because"/>
  <button ref="ratio"/>
  <button ref="propto"/>
</buttonBar>

<!-- Groups bar - all buttons -->
<buttonBar id="groups" back="more">
  <label ref="groups"/>
  <button ref="paren"/>
  <button ref="bracket"/>
  <button ref="brace"/>
  <button ref="abs"/>

  <br/>
  <button ref="open-interval"/>
  <button ref="closed-interval"/>
  <button ref="open-closed"/>
  <button ref="closed-open"/>
</buttonBar>

<!-- Sets bar - all buttons -->
<buttonBar id="sets" back="more">
  <label ref="sets"/>
  <button ref="union"/>
  <button ref="intersection"/>
  <button ref="proper-subset"/>
  <button ref="proper-superset"/>
  <button ref="subset-equal"/>
  <button ref="superset-equal"/>

  <br/>
  <button ref="member"/>
  <button ref="not-member"/>
  <button ref="not-proper-subset"/>
  <button ref="not-proper-superset"/>
  <button ref="not-subset-equal"/>
  <button ref="not-superset-equal"/>

  <br/>
  <button ref="naturalnumbers"/>
  <button ref="integers"/>
  <button ref="rationals"/>
  <button ref="reals"/>
  <button ref="complexes"/>
  <button ref="emptyset"/>
</buttonBar>

<!-- Geometry bar - all buttons -->
<buttonBar id="geometry" back="more">
  <label ref="geometry"/>
  <button ref="ray"/>
  <button ref="line"/>
  <button ref="segment"/>
  <button ref="arc"/>
  <button ref="parallel"/>
  <button ref="not-parallel"/>
  <button ref="perpendicular"/>
  <button ref="not-perpendicular"/>

  <br/>
  <button ref="angle"/>
  <button ref="rightangle"/>
  <button ref="measuredangle"/>
  <button ref="sphericalangle"/>
  <button ref="anglemeasure"/>
  <button ref="triangle"/>
  <button ref="parallelogram"/>
  <button ref="circle"/>
</buttonBar>

<!-- Trigonometry bar - all buttons -->
<buttonBar id="trigonometry" back="more">
  <label ref="trigonometry"/>
  <button ref="sin"/>
  <button ref="cos"/>
  <button ref="tan"/>
  <button ref="sec"/>
  <button ref="csc"/>
  <button ref="cot"/>

  <br/>
  <button ref="arcsin"/>
  <button ref="arccos"/>
  <button ref="arctan"/>
  <button ref="arcsec"/>
  <button ref="arccsc"/>
  <button ref="arccot"/>
</buttonBar>

<!-- Hyperbolic bar - all buttons -->
<buttonBar id="hyperbolic" back="more">
  <label ref="hyperbolic"/>
  <button ref="sinh"/>
  <button ref="cosh"/>
  <button ref="tanh"/>
  <button ref="sech"/>
  <button ref="csch"/>
  <button ref="coth"/>

  <br/>
  <button ref="arcsinh"/>
  <button ref="arccosh"/>
  <button ref="arctanh"/>
  <button ref="arcsech"/>
  <button ref="arccsch"/>
  <button ref="arccoth"/>
</buttonBar>

<!-- Statistics bar - all buttons -->
<buttonBar id="statistics" back="more">
  <label ref="statistics"/>
  <button ref="mean0"/>
  <button ref="sdev0"/>
  <button ref="xbar"/>
  <button ref="ybar"/>
  <button ref="superscript"/>
  <button ref="subscript"/>
  <button ref="factorial"/>
  <button ref="sum1"/>
</buttonBar>

<!-- Greek lower case - all buttons -->
<buttonBar id="greek-lower" back="more">
  <label ref="greek-lower"/>
  <button ref="alpha"/>
  <button ref="beta"/>
  <button ref="gamma"/>
  <button ref="delta"/>
  <button ref="epsilon"/>
  <button ref="zeta"/>
  <button ref="eta"/>
  <button ref="theta"/>

  <br/>
  <button ref="iota"/>
  <button ref="kappa"/>
  <button ref="lambda"/>
  <button ref="mu"/>
  <button ref="nu"/>
  <button ref="xi"/>
  <button ref="omicron"/>
  <button ref="pi"/>

  <br/>
  <button ref="rho"/>
  <button ref="sigma"/>
  <button ref="tau"/>
  <button ref="upsilon"/>
  <button ref="phi"/>
  <button ref="chi"/>
  <button ref="psi"/>
  <button ref="omega"/>
</buttonBar>

<!-- Greek upper case - all buttons -->
<buttonBar id="greek-upper" back="more">
  <label ref="greek-upper"/>
  <button ref="Alpha"/>
  <button ref="Beta"/>
  <button ref="Gamma"/>
  <button ref="Delta"/>
  <button ref="Epsilon"/>
  <button ref="Zeta"/>
  <button ref="Eta"/>
  <button ref="Theta"/>

  <br/>
  <button ref="Iota"/>
  <button ref="Kappa"/>
  <button ref="Lambda"/>
  <button ref="Mu"/>
  <button ref="Nu"/>
  <button ref="Xi"/>
  <button ref="Omicron"/>
  <button ref="Pi"/>

  <br/>
  <button ref="Rho"/>
  <button ref="Sigma"/>
  <button ref="Tau"/>
  <button ref="Upsilon"/>
  <button ref="Phi"/>
  <button ref="Chi"/>
  <button ref="Psi"/>
  <button ref="Omega"/>
</buttonBar>

<!-- Greek symbols - all buttons -->
<buttonBar id="greek-symbols" back="more">
  <label ref="greek-symbols"/>
  <button ref="alt-beta"/>
  <button ref="alt-theta"/>
  <button ref="alt-phi"/>
  <button ref="alt-pi"/>
  <button ref="alt-kappa"/>
  <button ref="alt-rho"/>
  <button ref="alt-epsilon"/>
</buttonBar>

</buttonBars>

<!-- Named palettes for the palette quickbar, sidebar -->

<palettes>

  <quickBar>
    <button ref="undo"/>
    <button ref="redo"/>
    <button ref="clear"/>
    <button ref="bs"/>
    <button ref="more"/>
  </quickBar>

  <sideBar>
  </sideBar>

  <moreMenu>
    <palette ref="numbers"/>
    <palette ref="arithmetic"/>
    <palette ref="exponents"/>
    <palette ref="relations"/>
    <palette ref="groups"/>
    <palette ref="sets"/>
    <palette ref="geometry"/>
    <palette ref="trigonometry"/>
    <palette ref="hyperbolic"/>
    <palette ref="statistics"/>
    <palette ref="greek"/>
  </moreMenu>

  <palette id="numbers">
    <title>Numbers</title>
    <button ref="zero"/>
    <button ref="one"/>
    <button ref="two"/>
    <button ref="three"/>
    <button ref="four"/>
    <button ref="five"/>
    <button ref="six"/>
    <button ref="seven"/>
    <button ref="eight"/>
    <button ref="nine"/>
    <button ref="comma"/>
    <button ref="decimal"/>
    <button ref="constantpi"/>
    <button ref="imaginaryi"/>
    <button ref="exponentiale"/>
    <button ref="infinity"/>
  </palette>

  <palette id="arithmetic">
    <title>Arithmetic</title>
    <button ref="plus"/>
    <button ref="minus"/>
    <button ref="times-sign"/>
    <button ref="divide-sign"/>
    <button ref="positive"/>
    <button ref="negative"/>
    <button ref="times-sdot"/>
    <button ref="divide-slash"/>
    <button ref="plus-minus"/>
    <button ref="minus-plus"/>
    <button ref="times-ast"/>
    <button ref="divide"/>
    <button ref="dollar"/>
    <button ref="degrees"/>
    <button ref="percent"/>
    <button ref="mxf"/>
    <!-- <button ref="times"/> -->
  </palette>

  <palette id="exponents">
    <title>Exponents</title>
    <button ref="power"/>
    <button ref="sqrt"/>
    <button ref="cube-root"/>
    <button ref="root"/>
    <button ref="exp"/>
    <button ref="ln"/>
    <button ref="log"/>
    <button ref="log-base"/>
    <!-- <button ref="fourth-root"/> -->
  </palette>

  <palette id="relations">
    <title>Relations</title>
    <button ref="equal"/>
    <button ref="not-equal"/>
    <button ref="similar"/>
    <button ref="not-similar"/>
    <button ref="less-than"/>
    <button ref="greater-than"/>
    <button ref="similar-equal"/>
    <button ref="not-similar-equal"/>
    <button ref="less-equal"/>
    <button ref="greater-equal"/>
    <button ref="approx"/>
    <button ref="not-approx"/>
    <button ref="equivalent"/>
    <button ref="not-equivalent"/>
    <button ref="congruent"/>
    <button ref="not-congruent"/>
    <button ref="prec"/>
    <button ref="succ"/>
    <button ref="doteq"/>
    <button ref="compose"/>
    <button ref="preceq"/>
    <button ref="succeq"/>
    <button ref="therefore"/>
    <button ref="because"/>
    <button ref="ll"/>
    <button ref="gg"/>
    <button ref="ratio"/>
    <button ref="propto"/>
  </palette>

  <palette id="groups">
    <title>Groups</title>
    <button ref="paren"/>
    <button ref="bracket"/>
    <button ref="brace"/>
    <button ref="abs"/>
    <button ref="open-interval"/>
    <button ref="closed-interval"/>
    <button ref="open-closed"/>
    <button ref="closed-open"/>
  </palette>

  <palette id="sets">
    <title>Sets</title>
    <button ref="union"/>
    <button ref="intersection"/>
    <button ref="member"/>
    <button ref="not-member"/>
    <button ref="proper-subset"/>
    <button ref="proper-superset"/>
    <button ref="not-proper-subset"/>
    <button ref="not-proper-superset"/>
    <button ref="subset-equal"/>
    <button ref="superset-equal"/>
    <button ref="not-subset-equal"/>
    <button ref="not-superset-equal"/>
    <button ref="naturalnumbers"/>
    <button ref="integers"/>
    <button ref="rationals"/>
    <button ref="reals"/>
    <button ref="complexes"/>
    <button ref="emptyset"/>
  </palette>

  <palette id="geometry">
    <title>Geometry</title>
    <button ref="ray"/>
    <button ref="line"/>
    <button ref="segment"/>
    <button ref="arc"/>
    <button ref="parallel"/>
    <button ref="not-parallel"/>
    <button ref="perpendicular"/>
    <button ref="not-perpendicular"/>
    <button ref="angle"/>
    <button ref="rightangle"/>
    <button ref="measuredangle"/>
    <button ref="sphericalangle"/>
    <button ref="anglemeasure"/>
    <button ref="triangle"/>
    <button ref="parallelogram"/>
    <button ref="circle"/>
  </palette>

  <palette id="trigonometry">
    <title>Trigonometry</title>
    <button ref="sin"/>
    <button ref="sec"/>
    <button ref="arcsin"/>
    <button ref="arcsec"/>
    <button ref="cos"/>
    <button ref="csc"/>
    <button ref="arccos"/>
    <button ref="arccsc"/>
    <button ref="tan"/>
    <button ref="cot"/>
    <button ref="arctan"/>
    <button ref="arccot"/>
  </palette>

  <palette id="hyperbolic">
    <title>Hyperbolic</title>
    <button ref="sinh"/>
    <button ref="sech"/>
    <button ref="arcsinh"/>
    <button ref="arcsech"/>
    <button ref="cosh"/>
    <button ref="csch"/>
    <button ref="arccosh"/>
    <button ref="arccsch"/>
    <button ref="tanh"/>
    <button ref="coth"/>
    <button ref="arctanh"/>
    <button ref="arccoth"/>
  </palette>

  <palette id="statistics">
    <title>Statistics</title>
    <button ref="mean0"/>
    <button ref="sdev0"/>
    <button ref="xbar"/>
    <button ref="ybar"/>
    <button ref="superscript"/>
    <button ref="subscript"/>
    <button ref="factorial"/>
    <button ref="sum1"/>
<!--
    <button ref="mean"/>
    <button ref="sdev"/>
    <button ref="variance"/>
-->
  </palette>

  <palette id="Greek">
    <title>Greek</title>
    <button ref="Alpha"/>
    <button ref="Beta"/>
    <button ref="Gamma"/>
    <button ref="Delta"/>
    <button ref="Epsilon"/>
    <button ref="Zeta"/>
    <button ref="Eta"/>
    <button ref="Theta"/>
    <button ref="Iota"/>
    <button ref="Kappa"/>
    <button ref="Lambda"/>
    <button ref="Mu"/>
    <button ref="Nu"/>
    <button ref="Xi"/>
    <button ref="Omicron"/>
    <button ref="Pi"/>
    <button ref="Rho"/>
    <button ref="Sigma"/>
    <button ref="Tau"/>
    <button ref="Upsilon"/>
    <button ref="Phi"/>
    <button ref="Chi"/>
    <button ref="Psi"/>
    <button ref="Omega"/>
  </palette>

  <palette id="greek">
    <title>Greek</title>
    <button ref="alpha"/>
    <button ref="beta"/>
    <button ref="gamma"/>
    <button ref="delta"/>
    <button ref="epsilon"/>
    <button ref="zeta"/>
    <button ref="eta"/>
    <button ref="theta"/>
    <button ref="iota"/>
    <button ref="kappa"/>
    <button ref="lambda"/>
    <button ref="mu"/>
    <button ref="nu"/>
    <button ref="xi"/>
    <button ref="omicron"/>
    <button ref="pi"/>
    <button ref="rho"/>
    <button ref="sigma"/>
    <button ref="tau"/>
    <button ref="upsilon"/>
    <button ref="phi"/>
    <button ref="chi"/>
    <button ref="psi"/>
    <button ref="omega"/>
    <button ref="alt-beta"/>
    <button ref="alt-theta"/>
    <button ref="alt-phi"/>
    <button ref="alt-pi"/>
    <button ref="alt-kappa"/>
    <button ref="alt-rho"/>
    <button ref="alt-epsilon"/>
  </palette>

  <palette id="structure" open="true">
    <title>Structure</title>
    <button ref="text-mode"/>
    <button ref="math-mode"/>
    <button ref="inline-mode"/>
    <button ref="display-mode"/>
    <button ref="paragraph"/>
    <button ref="break"/>
    <button ref="div"/>
    <button ref="span"/>
  </palette>

  <palette id="style" open="true">
    <title>Style</title>
    <button ref="bold"/>
    <button ref="italic"/>
    <button ref="underline"/>
    <button ref="strike"/>
    <button ref="typewriter"/>
    <button ref="big"/>
    <button ref="small"/>
  </palette>

  <palette id="alignment" open="true">
    <title>Alignment</title>
    <button ref="align-left"/>
    <button ref="align-center"/>
    <button ref="align-right"/>
    <button ref="align-justify"/>
  </palette>

  <palette id="headings" open="true">
    <title>Headings</title>
    <button ref="h1"/>
    <button ref="h2"/>
    <button ref="h3"/>
    <button ref="h4"/>
    <button ref="h5"/>
    <button ref="h6"/>
  </palette>

</palettes>

</equationEditor>
